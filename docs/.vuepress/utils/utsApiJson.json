{"getApp":{"name":"## getApp: function getApp\\<T extends EditorCreateVueAppComponentX = AppCreateVueAppComponentDefault>(): UniApp & {    globalData: AppInstance\\<T>\\['globalData']    vm: AppInstance\\<T>    $vm: AppInstance\\<T>  } @getapp","description":"`getApp()` 函数用于获取当前应用实例，可通过应用实例调用 App.uvue methods 中定义的方法, [详见](#appmethods)。","compatibility":"### getApp 兼容性 \n| Web | 微信小程序 | Android | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| 4.0 | √ | √ | √ | 4.31 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [UniApp](#uniapp-values) |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| vm | [ComponentPublicInstance](/vue/options-api.md#component-instance) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | App vue 实例对象 |\n@| globalData | any | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 全局对象 |\n@| ~~$vm~~ | [ComponentPublicInstance](/vue/options-api.md#component-instance) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | App vue 实例对象  **已废弃，仅为了向下兼容保留** |\n#### UniApp 的方法 @uniapp-values \n\n#### getAndroidApplication(): Application @getandroidapplication\n获取 Android 应用 Application 上下文\n##### getAndroidApplication 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | x | 4.31 | x | x |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Application |\n \n\n#### getHarmonyAbility(): UIAbility @getharmonyability\n获取 鸿蒙应用 Ability 实例\n##### getHarmonyAbility 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | x | x | x | 4.61 |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| UIAbility |\n \n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.global.getApp)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/tutorial/page.html#getapp)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getApp&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getApp&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getApp&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getApp&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getApp&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getApp)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getApp&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-app/get-app.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-app/get-app\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-app/get-app\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1; padding-bottom: 20px\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head title=\"getApp\"></page-head>\r\n      <view class=\"uni-padding-wrap\">\r\n        <button @click=\"getGlobalData\">get globalData</button>\r\n        <template v-if=\"originGlobalData.str.length\">\r\n          <text class=\"uni-common-mt bold\">初始的 globalData:</text>\r\n          <text class=\"uni-common-mt\">globalData string: {{ originGlobalData.str }}</text>\r\n          <text class=\"uni-common-mt\">globalData number: {{ originGlobalData.num }}</text>\r\n          <text class=\"uni-common-mt\">globalData boolean: {{ originGlobalData.bool }}</text>\r\n          <text class=\"uni-common-mt\">globalData object: {{ originGlobalData.obj }}</text>\r\n          <text class=\"uni-common-mt\">globalData null: {{ originGlobalData.null }}</text>\r\n          <text class=\"uni-common-mt\">globalData array: {{ originGlobalData.arr }}</text>\r\n          <text class=\"uni-common-mt\">globalData Set: {{ originGlobalData.mySet }}</text>\r\n          <text class=\"uni-common-mt\">globalData Map: {{ originGlobalData.myMap }}</text>\r\n          <text class=\"uni-common-mt\">globalData func 返回值: {{ originGlobalDataFuncRes }}</text>\r\n        </template>\r\n        <button @click=\"setGlobalData\" class=\"uni-common-mt\">\r\n          set globalData\r\n        </button>\r\n        <template v-if=\"newGlobalData.bool\">\r\n          <text class=\"uni-common-mt bold\">更新后的 globalData:</text>\r\n          <text class=\"uni-common-mt\">globalData string: {{ newGlobalData.str }}</text>\r\n          <text class=\"uni-common-mt\">globalData number: {{ newGlobalData.num }}</text>\r\n          <text class=\"uni-common-mt\">globalData boolean: {{ newGlobalData.bool }}</text>\r\n          <text class=\"uni-common-mt\">globalData object: {{ newGlobalData.obj }}</text>\r\n          <text class=\"uni-common-mt\">globalData null: {{ newGlobalData.null }}</text>\r\n          <text class=\"uni-common-mt\">globalData array: {{ newGlobalData.arr }}</text>\r\n          <text class=\"uni-common-mt\">globalData Set: {{ newGlobalData.mySet }}</text>\r\n          <text class=\"uni-common-mt\">globalData Map: {{ newGlobalData.myMap }}</text>\r\n          <text class=\"uni-common-mt\">globalData func 返回值: {{ newGlobalDataFuncRes }}</text>\r\n        </template>\r\n        <text class=\"uni-common-mt\">点击按钮调用 App.uvue methods</text>\r\n        <text class=\"uni-common-mt\">increasetLifeCycleNum 方法</text>\r\n        <button class=\"uni-common-mt\" @click=\"_increasetLifeCycleNum\">\r\n          increase lifeCycleNum\r\n        </button>\r\n        <text class=\"uni-common-mt\">lifeCycleNum: {{ lifeCycleNum }}</text>\n        <!-- #ifndef MP -->\n        <button class=\"uni-common-mt\" @click=\"getAndroidApplication\">\r\n          getAndroidApplication\r\n        </button>\r\n        <text class=\"uni-common-mt\">androidApplication is null: {{ androidApplication == null }}</text>\r\n        <!-- #endif -->\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .bold {\r\n    font-weight: bold;\r\n  }\r\n\r\n  .hr {\r\n    border-bottom: 1px solid #ccc;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  import { state, setLifeCycleNum } from '@/store/index.uts'\r\n\r\n  type MyGlobalData = {\r\n    str : string,\r\n    num : number,\r\n    bool : boolean,\r\n    obj : UTSJSONObject,\r\n    null : string | null,\r\n    arr : number[],\r\n    mySet : string[],\r\n    myMap : UTSJSONObject,\r\n    func : () => string\r\n  }\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        originGlobalData: {\r\n          str: '',\r\n          num: 0,\r\n          bool: false,\r\n          obj: {\r\n            str: '',\r\n            num: 0,\r\n            bool: false\r\n          } as UTSJSONObject,\r\n          null: null,\r\n          arr: [] as number[],\r\n          mySet: [] as string[],\r\n          myMap: {},\r\n          func: () : string => ''\r\n        } as MyGlobalData,\r\n        originGlobalDataFuncRes: '',\r\n        newGlobalData: {\r\n          str: '',\r\n          num: 0,\r\n          bool: false,\r\n          obj: {\r\n            str: '',\r\n            num: 0,\r\n            bool: false\r\n          } as UTSJSONObject,\r\n          null: null,\r\n          arr: [] as number[],\r\n          mySet: [] as string[],\r\n          myMap: {},\r\n          func: () : string => ''\r\n        } as MyGlobalData,\r\n        newGlobalDataFuncRes: '',\r\n        lifeCycleNum: 0,\r\n        androidApplication: null as any | null\r\n      }\r\n    },\r\n    onReady() {\r\n      this.lifeCycleNum = state.lifeCycleNum\r\n    },\r\n    methods: {\r\n      getGlobalData() {\r\n        const app = getApp()\r\n\r\n        this.originGlobalData.str = app.globalData.str\r\n        this.originGlobalData.num = app.globalData.num\r\n        this.originGlobalData.bool = app.globalData.bool\r\n        this.originGlobalData.obj = app.globalData.obj\r\n        this.originGlobalData.null = app.globalData.null\r\n        this.originGlobalData.arr = app.globalData.arr\r\n        app.globalData.mySet.forEach((value : string) => {\r\n          this.originGlobalData.mySet.push(value)\r\n        })\r\n        app.globalData.myMap.forEach((value : any, key : string) => {\r\n          this.originGlobalData.myMap[key] = value\r\n        })\r\n        this.originGlobalData.func = app.globalData.func\r\n        this.originGlobalDataFuncRes = this.originGlobalData.func()\r\n      },\r\n      setGlobalData() {\r\n        const app = getApp()\r\n\r\n        app.globalData.str = 'new globalData str'\r\n        app.globalData.num = 100\r\n        app.globalData.bool = true\r\n        app.globalData.obj = {\r\n          str: 'new globalData obj str',\r\n          num: 200,\r\n          bool: true\r\n        }\r\n        app.globalData.null = 'not null'\r\n        app.globalData.arr = [1, 2, 3]\r\n        app.globalData.mySet = new Set(['a', 'b', 'c'])\r\n        app.globalData.myMap = new Map([\r\n          ['a', 1],\r\n          ['b', 2],\r\n          ['c', 3]\r\n        ])\r\n        app.globalData.func = () : string => {\r\n          return 'new globalData func'\r\n        }\r\n\r\n        this.newGlobalData.str = app.globalData.str\r\n        this.newGlobalData.num = app.globalData.num\r\n        this.newGlobalData.bool = app.globalData.bool\r\n        this.newGlobalData.obj = app.globalData.obj\r\n        this.newGlobalData.null = app.globalData.null\r\n        this.newGlobalData.arr = app.globalData.arr\r\n        app.globalData.mySet.forEach((value : string) => {\r\n          this.newGlobalData.mySet.push(value)\r\n        })\r\n        app.globalData.myMap.forEach((value : any, key : string) => {\r\n          this.newGlobalData.myMap[key] = value\r\n        })\r\n        this.newGlobalData.func = app.globalData.func\r\n        this.newGlobalDataFuncRes = this.newGlobalData.func()\r\n      },\r\n      _increasetLifeCycleNum: function () {\r\n        const app = getApp()\r\n        app.vm!.increasetLifeCycleNum()\r\n        this.lifeCycleNum = state.lifeCycleNum\r\n      },\r\n      // 自动化测试\r\n      setLifeCycleNum(num : number) {\r\n        setLifeCycleNum(num)\r\n      },\n      // #ifndef MP\n      getAndroidApplication() : boolean {\r\n        const app = getApp()\r\n        this.androidApplication = app.getAndroidApplication()\r\n        return this.androidApplication !== null\r\n      }\r\n      // #endif\r\n    },\r\n  }\r\n\n```\n\n:::"},"getCurrentPages":{"name":"## getCurrentPages: () => UniPage[\\] @getcurrentpages","description":"`getCurrentPages()` 函数用于获取当前页面栈的实例，以数组形式按栈的顺序给出，数组中的元素为页面实例，第一个元素为首页，最后一个元素为当前页面。","compatibility":"### getCurrentPages 兼容性 \n| Web | 微信小程序 | Android | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9 | 4.11 | 4.31 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;[UniPage](/api/unipage.md)&gt; |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.global.getCurrentPages)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/tutorial/page.html#getcurrentpages)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getCurrentPages&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getCurrentPages&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getCurrentPages&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getCurrentPages&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getCurrentPages&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getCurrentPages)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getCurrentPages&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-current-pages/get-current-pages.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-current-pages/get-current-pages\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-current-pages/get-current-pages\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head title=\"getCurrentPages\"></page-head>\r\n      <view class=\"uni-padding-wrap\">\r\n        <button @click=\"_getCurrentPages\">getCurrentPages</button>\r\n        <view v-if=\"pages.length\" style=\"padding: 15px 0px\">\r\n          <text>当前页面栈中 {{ pages.length }} 个页面，列表如下：</text>\r\n          <template v-for=\"(page, index) in pages\" :key=\"page.route\">\r\n            <text style=\"margin-top: 5px\">index: {{ index }}, route: {{ page.route }}</text>\r\n          </template>\r\n        </view>\r\n        <!-- #ifndef MP -->\r\n        <button class=\"uni-common-mt\" @click=\"check$page\">check $page</button>\r\n        <button class=\"uni-common-mt\" @click=\"checkGetParentPage\">\r\n          check getParentPage\r\n        </button>\r\n        <button class=\"uni-common-mt\" @click=\"checkGetDialogPages\">\r\n          check getDialogPages\r\n        </button>\r\n        <button id=\"check-get-element-by-id-btn\" class=\"uni-common-mt\" @click=\"checkGetElementById\">\r\n          check getElementById\r\n        </button>\r\n        <button class=\"uni-common-mt\" @click=\"checkGetAndroidView\">\r\n          check getAndroidView\r\n        </button>\r\n        <button class=\"uni-common-mt\" @click=\"checkGetIOSView\">\r\n          check getIOSView\r\n        </button>\r\n        <button class=\"uni-common-mt\" @click=\"checkGetHTMLElement\">\r\n          check getHTMLElement\r\n        </button>\r\n        <!-- #endif -->\r\n        <!-- #ifdef APP-ANDROID -->\r\n        <button class=\"uni-common-mt\" @click=\"checkGetAndroidActivity\">\r\n          check getAndroidActivity\r\n        </button>\r\n        <!-- #endif -->\r\n      </view>\r\n      <!-- #ifndef MP -->\r\n      <page-head title=\"currentPageStyle\"></page-head>\r\n      <template v-for=\"(item, index) in PageStyleArray\">\r\n        <view class=\"page-style-item\" v-if=\"currentPageStyle[item.key] != null\" :key=\"index\">\r\n          <view class=\"item-text\">\r\n            <text class=\"item-text-key\">{{ item.key }}:</text>\r\n            <text class=\"item-text-value\">{{\r\n              currentPageStyle[item.key]\r\n            }}</text>\r\n          </view>\r\n          <view class=\"set-value\" v-if=\"item.type == 'boolean'\">\r\n            <switch :checked=\"currentPageStyle.getBoolean(item.key)\"\r\n              @change=\"switchChange(item.key, $event as UniSwitchChangeEvent)\">\r\n            </switch>\r\n          </view>\r\n          <view class=\"set-value\" v-else-if=\"item.type == 'number'\">\r\n            <slider :value=\"currentPageStyle.getNumber(item.key)\" :show-value=\"true\"\r\n              @change=\"sliderChange(item.key, $event as UniSliderChangeEvent)\" />\r\n          </view>\r\n          <view class=\"set-value\" v-else-if=\"item.type == 'string'\">\r\n            <radio-group class=\"radio-set-value\" @change=\"radioChange(item.key, $event as RadioGroupChangeEvent)\">\r\n              <radio class=\"radio-value\" v-for=\"(item2, index2) in item.value\" :key=\"index2\" :value=\"item2\">{{ item2 }}\r\n              </radio>\r\n            </radio-group>\r\n          </view>\r\n        </view>\r\n      </template>\r\n      <button style=\"margin: 10px\" @click=\"goSetDisablePullDownRefresh\">\r\n        go set disable pullDownRefresh\r\n      </button>\r\n      <!-- #endif -->\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .page {\r\n    flex: 1;\r\n    padding: 10px;\r\n  }\r\n\r\n  .page-style {\r\n    margin-top: 15px;\r\n  }\r\n\r\n  .page-style-item {\r\n    padding: 10px;\r\n    margin-top: 10px;\r\n    background-color: #ffffff;\r\n    border-radius: 5px;\r\n  }\r\n\r\n  .item-text {\r\n    flex-direction: row;\r\n  }\r\n\r\n  .item-text-key {\r\n    font-weight: bold;\r\n  }\r\n\r\n  .item-text-value {\r\n    margin-left: 5px;\r\n  }\r\n\r\n  .set-value {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .radio-set-value {\r\n    flex-direction: row;\r\n  }\r\n\r\n  .radio-value {\r\n    margin-left: 10px;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  import { PageStyleItem, PageStyleArray } from './page-style.uts';\r\n\r\n  class Page {\r\n    constructor(public route : string) {\r\n    }\r\n  }\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        checked: false,\r\n        pages: [] as Page[],\r\n        PageStyleArray: PageStyleArray as PageStyleItem[],\r\n        currentPageStyle: {} as UTSJSONObject,\r\n        testing: false\r\n      }\r\n    },\r\n    computed: {\r\n      pageStyleText() : string {\r\n        return JSON.stringify(this.currentPageStyle)\r\n      }\r\n    },\n    // #ifndef MP\n    onLoad() {\r\n      this.getPageStyle();\r\n    },\r\n    // #endif\n    onReady() {\n      // #ifdef APP-ANDROID\n      this.setPageStyle({\n        'androidThreeButtonNavigationBackgroundColor': 'transparent',\n        'androidThreeButtonNavigationStyle': 'black'\n      });\n      this.getPageStyle();\n      // #endif\n    },\r\n    onPullDownRefresh() {\r\n      setTimeout(() => {\r\n        uni.stopPullDownRefresh()\r\n      }, 2000)\r\n    },\r\n    methods: {\r\n      startPullDownRefresh() {\r\n        uni.startPullDownRefresh()\r\n      },\r\n      _getCurrentPages: function () {\r\n        this.pages.length = 0\r\n        const pages = getCurrentPages()\r\n        this.pages.push(new Page(pages[0].route))\r\n        if (this.pages[0].route.includes('/tabBar/') || this.pages[0].route == '/') {\r\n          this.checked = true\r\n        }\r\n        for (let i = 1; i < pages.length; i++) {\r\n          this.pages.push(new Page(pages[i].route))\r\n          if (pages[i].route.includes('/tabBar/')) {\r\n            this.checked = false\r\n          }\r\n        }\r\n      },\r\n      /// get-set-page-style\r\n      radioChange(key : string, e : RadioGroupChangeEvent) {\r\n        this.setStyleValue(key, e.detail.value);\r\n      },\r\n      sliderChange(key : string, e : UniSliderChangeEvent) {\r\n        this.setStyleValue(key, e.detail.value);\r\n      },\r\n      switchChange(key : string, e : UniSwitchChangeEvent) {\r\n        this.setStyleValue(key, e.detail.value);\r\n      },\r\n      setStyleValue(key : string, value : any) {\r\n        const style = {}\r\n        style[key] = value\r\n        this.setPageStyle(style)\r\n        this.getPageStyle()\r\n      },\r\n      getPageStyle() : UTSJSONObject {\r\n        const pages = getCurrentPages();\r\n        const currentPage = pages[pages.length - 1];\r\n        this.currentPageStyle = currentPage.getPageStyle()\n        console.log(this.currentPageStyle)\r\n        return this.currentPageStyle;\r\n      },\r\n      setPageStyle(style : UTSJSONObject) {\r\n        console.log('setPageStyle:', style);\r\n        const pages = getCurrentPages();\r\n        const currentPage = pages[pages.length - 1];\r\n        currentPage.setPageStyle(style);\r\n      },\r\n      goSetDisablePullDownRefresh() {\r\n        uni.navigateTo({\r\n          url: '/pages/API/get-current-pages/set-page-style-disable-pull-down-refresh'\r\n        });\r\n      },\r\n      getCurrentPage() : UniPage {\r\n        const pages = getCurrentPages()\r\n        return pages[pages.length - 1]\r\n      },\r\n      check$page() : boolean {\r\n        const page = this.getCurrentPage()\r\n        let res = this.$page === page\r\n        if (this.testing && res) {\r\n          res = page.options['test'] == '123'\r\n          if (res) {\r\n            // #ifdef WEB\r\n            res = page.route == '/pages/API/get-current-pages/get-current-pages'\r\n            // #endif\r\n            // #ifndef WEB\r\n            res = page.route == 'pages/API/get-current-pages/get-current-pages'\r\n            // #endif\r\n          }\r\n        }\r\n        console.log('check $page', res)\r\n        uni.showToast(res ? { title: 'check success' } : { title: 'check fail', icon: 'error' })\r\n        return res\r\n      },\r\n      checkGetParentPage() : boolean {\r\n        const page = this.getCurrentPage()\r\n        const parentPage = page.getParentPage()\r\n        const res = parentPage == null\r\n        console.log('check getParentPage', res)\r\n        uni.showToast(res ? { title: 'check success' } : { title: 'check fail', icon: 'error' })\r\n        return res\r\n      },\r\n      checkGetDialogPages() : boolean {\r\n        const page = this.getCurrentPage()\r\n        const dialogPages = page.getDialogPages()\r\n        const res = Array.isArray(dialogPages) && dialogPages.length == 0\r\n        uni.showToast(res ? { title: 'check success' } : { title: 'check fail', icon: 'error' })\r\n        console.log('check getDialogPages', res)\r\n        return res\r\n      },\r\n      checkGetElementById() : boolean {\r\n        const page = this.getCurrentPage()\r\n        const element = page.getElementById('check-get-element-by-id-btn')\r\n        let res = element != null\r\n        // #ifndef APP-ANDROID\r\n        if (res) {\r\n          const elPage = element!.getPage()\r\n          console.log('elPage', elPage)\r\n          res = elPage === page\r\n        }\r\n        // #endif\r\n        console.log('check getElementById', res)\r\n        uni.showToast(res ? { title: 'check success' } : { title: 'check fail', icon: 'error' })\r\n        return res\r\n      },\r\n      checkGetAndroidView() : boolean {\r\n        const page = this.getCurrentPage()\r\n        const androidView = page.getAndroidView()\r\n        const res = androidView != null\r\n        console.log('check getAndroidView', res)\r\n        uni.showToast(res ? { title: 'check success' } : { title: 'check fail', icon: 'error' })\r\n        return res\r\n      },\r\n      checkGetIOSView() : boolean {\r\n        const page = this.getCurrentPage()\r\n        const IOSView = page.getIOSView()\r\n        const res = IOSView != null\r\n        console.log('check getIOSView', res)\r\n        uni.showToast(res ? { title: 'check success' } : { title: '仅 IOS uts 插件环境支持', icon: 'error' })\r\n        return res\r\n      },\r\n      checkGetHTMLElement() : boolean {\r\n        const page = this.getCurrentPage()\r\n        const HTMLView = page.getHTMLElement()\r\n        const res = HTMLView != null\r\n        console.log('check getHTMLElement', res)\r\n        uni.showToast(res ? { title: 'check success' } : { title: 'check fail', icon: 'error' })\r\n        return res\r\n      },\r\n      checkGetAndroidActivity() : boolean {\r\n        const page = this.getCurrentPage()\r\n        const activity = page.getAndroidActivity()\r\n        const res = activity != null\r\n        console.log('check getAndroidActivity', res)\r\n        uni.showToast(res ? { title: 'check success' } : { title: 'check getAndroidActivity', icon: 'error' })\r\n        return res\r\n      }\r\n    },\r\n  }\r\n\n```\n\n:::"},"env":{"name":"## env","description":"环境变量","param":"### env 的属性值 @env-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| USER_DATA_PATH | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.99\",\"4.11\",\"4.61\"]]}' /> | 文件系统中的用户文件目录路径 |\n| CACHE_PATH | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.99\",\"4.11\",\"4.61\"]]}' /> | 文件系统中的缓存文件目录路径 |\n| SANDBOX_PATH | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.99\",\"4.11\",\"4.61\"]]}' /> | 文件系统中的应用沙盒目录路径 |\n| TEMP_PATH | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"4.62\"]]}' /> | 文件系统中的应用临时目录路径，应用退出自动清理 |\n| ANDROID_INTERNAL_SANDBOX_PATH | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.99\",\"x\",\"x\"]]}' /> | 文件系统中的应用内置沙盒目录路径（仅app-android平台支持） |\n","compatibility":"","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.env)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=env&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=env&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=env&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=env&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=env&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=env)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=env&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/env/env.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/env/env\n```uvue\n<template>\n  <view style=\"margin:12px\">\n    <page-head title=\"环境变量 - 文件系统\"></page-head>\n    <button class=\"button\" type=\"primary\" @tap=\"getDirInfo(userDataPath)\">USER_DATA_PATH</button>\n    <button class=\"button\" type=\"primary\" @tap=\"getDirInfo(cachePath)\">CACHE_PATH</button>\n    <button class=\"button\" type=\"primary\" @tap=\"getDirInfo(sandboxPath)\">SANDBOX_PATH</button>\n    <!-- #ifdef APP-HARMONY -->\n    <button class=\"button\" type=\"primary\" @tap=\"getDirInfo(tempPath)\">TEMP_PATH</button>\n    <!-- #endif -->\n    <!-- #ifdef APP-ANDROID -->\n   <button class=\"button\" type=\"primary\" @tap=\"getDirInfo(androidInternalSandboxPath)\">ANDROID_INTERNAL_SANDBOX_PATH</button>\n    <!-- #endif -->\n    <boolean-data :defaultValue=\"false\" title=\"是否递归获取\" @change=\"switchRecursive\"></boolean-data>\n  </view>\n  <scroll-view style=\"flex: 1; padding: 16px 0px;\">\n    <text class=\"result\">{{result}}</text>\n    <text class=\"error\">{{error}}</text>\n    <view class=\"stat\" v-for=\"(stat,index) in list\" :key=\"index\" >\n      <text class=\"path\">{{stat.path}}</text>\n      <text class=\"size\">{{stat.size}}</text>\n    </view>\n  </scroll-view>\r\n</template>\r\n\r\n<script>\r\n  type StatInfo = {\r\n    path : string;\r\n    size : string;\r\n  };\n  export default {\r\n    data() {\r\n      return {\n        result: '',\n        error: '',\n        list: [] as Array<StatInfo>,\n        recursive: false,\n        userDataPath: uni.env.USER_DATA_PATH as string,\n        cachePath: uni.env.CACHE_PATH as string,\n        sandboxPath: uni.env.SANDBOX_PATH as string,\n        // #ifdef APP-HARMONY\n        tempPath: uni.env.TEMP_PATH as string,\n        // #endif\n        // #ifdef APP-ANDROID\n        androidInternalSandboxPath: uni.env.ANDROID_INTERNAL_SANDBOX_PATH as string,\n        // #endif\r\n      }\r\n    },\r\n    methods: {\n      switchRecursive() {\n        this.recursive = !this.recursive\n      },\n      getDirInfo(dirPath:string) {\n        const fm = uni.getFileSystemManager()\n        this.list = [];\n        fm.stat({\n          path: dirPath,\n          recursive: this.recursive,\n          success: (res: StatSuccessResult) => {\n            this.result = `获取 \"${dirPath}\" 成功(success)`\n            console.log(this.result)\n            res.stats.forEach((item)=>{\n              this.list.push({\n                path: item.path,\n                size: `${item.stats.size} Bytes`\n              })\n            })\n          },\n          fail: (err) => {\n            this.result = `获取 \"${dirPath}\" 失败(fail)`\n            console.log(this.result)\n            this.error = JSON.stringify(err)\n            console.log(this.error)\n          }\n        })\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\n  .button {\n    margin-bottom: 4px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n  .result {\n    font-size: 18px;\n    font-weight: bold;\n    text-align: center;\n    width: 100%;\n  }\n  .error {\n    color: firebrick;\n  }\n  .stat {\n    padding: 8px 16px;\n  }\n  .path {\n    color: darkgray;\n  }\n  .size {\n    color: darkgrey;\n  }\r\n</style>\n\n```\n:::"},"$on":{"name":"## uni.$on(eventName, callback) @$on","description":"监听自定义事件。事件可以由 uni.$emit 触发。回调函数会接收 uni.$emit 传递的参数。\n4.31+ 开始支持返回事件监听器 id, 用于 off 事件监听器。\n","compatibility":"### $on 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| eventName | string | 是 | - | - | 事件名称 |\n| callback | () => void | 是 | - | - | 事件回调 | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| number |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.eventBus.$on)"},"$once":{"name":"## uni.$once(eventName, callback) @$once","description":"监听一个自定义事件。事件只触发一次，在第一次触发之后移除事件监听器。\n4.31+ 开始支持返回事件监听器 id, 用于 off 事件监听器。\n","compatibility":"### $once 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| eventName | string | 是 | - | - | 事件名称 |\n| callback | () => void | 是 | - | - | 事件回调 | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| number |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.eventBus.$once)"},"$off":{"name":"## uni.$off(eventName, callback?) @$off","description":"移除自定义事件监听器。如果提供了事件名和回调，则只移除这个回调的监听器。\n4.13+ 开始支持第二个参数为可选，如果仅提供事件名，则移除该事件的所有监听器。\n4.31+ 开始第二个参数的类型由 `Function | null` 调整为 `any | null`, 支持传入 `uni.$on`、`uni.$once` 返回的事件监听器 id, 移除指定事件监听器。","compatibility":"### $off 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| eventName | string | 是 | - | - | 事件名称 |\n| callback | any | 否 | - | - | 要移除的事件回调或事件监听器 id | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.eventBus.$off)"},"$emit":{"name":"## uni.$emit(eventName, args?) @$emit","description":"触发自定义事件，附加的参数会传递给事件监听器。\n在iOS平台UTS环境下或者UTS和JS通信时参数仅支持基础类型、string、Array、UTSJSONObject,其中Array，UTSJSONObject也仅支持包含上述类型,on和emit类型需匹配否则会产生异常","compatibility":"### $emit 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| eventName | string | 是 | - | - | 事件名称 |\n| args | Array&lt;any&gt; | 否 | - | - | 触发事件时传递的参数 | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.eventBus.$emit)"},"eventBus":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/event-bus/event-bus.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/event-bus/event-bus\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/event-bus/event-bus\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n    <!-- #endif -->\r\n    <view class=\"box\">\r\n      <button class=\"uni-btn\" @click=\"on\">开始监听</button>\r\n      <button class=\"uni-btn\" @click=\"once\">监听一次</button>\r\n      <button class=\"uni-btn\" @click=\"off\">取消监听</button>\r\n      <!-- <button @click=\"offAll\">取消全部监听</button> -->\r\n      <button class=\"uni-btn\" @click=\"emit\">触发监听</button>\r\n      <button class=\"uni-btn\" @click=\"clear\">清空消息</button>\r\n      <view>\r\n        <view class=\"uni-btn\">收到的消息：</view>\r\n        <view class=\"uni-btn\">\r\n          <view v-for=\"(item, index) in log\" :key=\"index\">{{ item }}</view>\r\n        </view>\r\n        <button class=\"uni-btn\" @click=\"onObj\">开始监听 obj 参数</button>\r\n        <button class=\"uni-btn\" @click=\"emitWithObj\">触发监听 obj 参数</button>\r\n        <view class='uni-btn'>\r\n          <text>接收到的 obj 参数：</text>\r\n          <text>{{ JSON.stringify(objArg) }}</text>\r\n        </view>\r\n        <button class='uni-btn' @click=\"testReturnId\">测试返回 id</button>\r\n        <button class='uni-btn' @click=\"testEmitNoArgs\">测试 $emit 无参</button>\r\n        <button class='uni-btn' @click=\"testEmitMultipleArgs\">测试 $emit 多个参数</button>\r\n      </view>\r\n    </view>\r\n    <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n.box {\r\n  padding: 10px;\r\n}\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      log: [] as string[],\r\n      objArg: {},\r\n    }\r\n  },\r\n  methods: {\r\n    fn(res : string) {\r\n      this.log.push(res)\r\n    },\r\n    fn2(res : string) {\r\n      this.log.push(res)\r\n    },\r\n    on() {\r\n      uni.$on('test', this.fn)\r\n    },\r\n    on2() {\r\n      uni.$on('test', this.fn2)\r\n    },\r\n    onObj() {\r\n      uni.$on('test-obj', (res : UTSJSONObject) => {\r\n        this.objArg = res\r\n      })\r\n    },\r\n    once() {\r\n      uni.$once('test', this.fn)\r\n    },\r\n    off() {\r\n      uni.$off('test', this.fn)\r\n    },\r\n    offAll() {\r\n      uni.$off('test')\r\n    },\r\n    emit() {\r\n      uni.$emit('test', 'msg:' + Date.now())\r\n    },\r\n    emitWithObj() {\r\n      uni.$emit('test-obj', { a: 1, b: 2 })\r\n    },\r\n    clear() {\r\n      this.log.length = 0\r\n    },\r\n    testReturnId(){\r\n      const id1 = uni.$on('test-return-id', this.fn)\r\n      uni.$emit('test-return-id', '触发 test-return-id $on fn')\r\n      uni.$off('test-return-id', id1)\r\n      uni.$emit('test-return-id', '触发 test-return-id $on fn')\r\n\r\n      uni.$once('test-return-id', this.fn)\r\n      uni.$emit('test-return-id', '触发 test-return-id $once fn')\r\n      uni.$emit('test-return-id', '触发 test-return-id $once fn')\r\n      const id2 = uni.$once('test-id', this.fn)\r\n      uni.$off('test-return-id', id2)\r\n      uni.$emit('test-return-id', '触发 test-return-id $once fn')\r\n    },\r\n    testEmitNoArgs() {\r\n      uni.$on('test-emit-no-args', () => {\r\n        this.log.push('test-emit-no-args')\r\n      })\r\n      uni.$emit('test-emit-no-args')\r\n      uni.$off('test-emit-no-args')\r\n    },\r\n    testEmitMultipleArgs() {\r\n      uni.$on('test-emit-multiple-args', (arg1 : string, arg2 : number) => {\r\n        this.log.push(`${arg1}_${arg2}`)\r\n      })\r\n      uni.$emit('test-emit-multiple-args', 'arg1', 2)\r\n      uni.$off('test-emit-multiple-args')\r\n    }\r\n  },\r\n}\r\n\n```\n\n:::"},"base64ToArrayBuffer":{"name":"## uni.base64ToArrayBuffer(base64) @base64toarraybuffer","description":"将 Base64 字符串转成 ArrayBuffer 对象\n","compatibility":"### base64ToArrayBuffer 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.51 | 4.61 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| base64 | string | 是 | - | - | - | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.base64.base64ToArrayBuffer)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/wx.base64ToArrayBuffer.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/base64ToArrayBuffer.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=base64ToArrayBuffer&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=base64ToArrayBuffer&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=base64ToArrayBuffer&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=base64ToArrayBuffer&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=base64ToArrayBuffer)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=base64ToArrayBuffer&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"arrayBufferToBase64":{"name":"## uni.arrayBufferToBase64(arrayBuffer) @arraybuffertobase64","description":"将 ArrayBuffer 对象转成 Base64 字符串\n","compatibility":"### arrayBufferToBase64 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.51 | 4.61 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| arrayBuffer | [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | - | - | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| string |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.base64.arrayBufferToBase64)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/wx.arrayBufferToBase64.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/arrayBufferToBase64.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=arrayBufferToBase64&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=arrayBufferToBase64&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=arrayBufferToBase64&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=arrayBufferToBase64&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=arrayBufferToBase64)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=arrayBufferToBase64&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"base64":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/base64/base64.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/base64/base64\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/base64/base64\n\n>Template\n```vue\n<template>\n\t<view>\n\t\t<view class=\"text-area\">\n\t\t\t<button class=\"btnstyle\" type=\"primary\" @tap=\"arrayBufferToBase64\"> arrayBufferToBase64 </button>\n\t\t\t<button class=\"btnstyle\" type=\"primary\" @tap=\"base64ToArrayBuffer\"> base64ToArrayBuffer </button>\n\t\t</view>\n\t</view>\n</template>\n\n\n\n<style>\n\t.logo {\n\t\theight: 100px;\n\t\twidth: 100px;\n\t\tmargin: 100px auto 25px auto;\n\t}\n\n\t.title {\n\t\tfont-size: 18px;\n\t\tcolor: #8f8f94;\n\t\ttext-align: center;\n\t}\n\n  .btnstyle {\n  \tmargin: 4px;\n  }\n</style>\n\n```\n\n>Script\n```uts\n\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n        arrayBufferToBase64Res:'',\n        base64ToArrayBufferRes:''\n\t\t\t}\n\t\t},\n\t\tonLoad() {\n\n\t\t},\n\t\tmethods: {\n\t\t\tarrayBufferToBase64() {\n\t\t\t\tconst arraybuffer = new ArrayBuffer(3)\n\t\t\t\tconst uint8 = new Uint8Array(arraybuffer)\n\t\t\t\tuint8.set([11, 22, 33])\n\t\t\t\tconst base64 = uni.arrayBufferToBase64(arraybuffer)\n\t\t\t\tconsole.log(base64) //CxYh\n        this.arrayBufferToBase64Res = base64\n        uni.showToast({\n           title:this.arrayBufferToBase64Res\n        })\n\t\t\t},\n\t\t\tbase64ToArrayBuffer() {\n\t\t\t\tconst base64 = 'CxYh'\n\t\t\t\tconst arrayBuffer = uni.base64ToArrayBuffer(base64)\n\t\t\t\tconst uint8 = new Uint8Array(arrayBuffer)\n\t\t\t\tconsole.log(uint8.toString())//11, 22, 33\n        this.base64ToArrayBufferRes = uint8.toString()\n        uni.showToast({\n           title:this.base64ToArrayBufferRes\n        })\n\t\t\t}\n\n\t\t}\n\t}\n\n```\n\n:::"},"addInterceptor":{"name":"## uni.addInterceptor(name, interceptor) @addinterceptor","description":"添加拦截器","compatibility":"### addInterceptor 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.97 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| name | string | 是 | - | - | 需要拦截的 API 名称 |\n| interceptor | Interceptor | 是 | - | - | 拦截器 | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.interceptor.addInterceptor)"},"removeInterceptor":{"name":"## uni.removeInterceptor(name, interceptor?) @removeinterceptor","description":"删除拦截器","compatibility":"### removeInterceptor 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.97 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| name | string | 是 | - | - | 需要删除拦截器的 API 名称 |\n| interceptor | Interceptor | 否 | - | - | 拦截器 | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.interceptor.removeInterceptor)"},"interceptor":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/interceptor/interceptor.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/interceptor/interceptor\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/interceptor/interceptor\n\n>Template\n```vue\n<template>\r\n  <view style=\"flex: 1\">\r\n    <button @click=\"addInterceptor\">添加路由拦截器</button>\r\n    <button @click=\"removeInterceptor\">移除路由拦截器</button>\r\n    <text>点击下方按钮{{ msg }}</text>\r\n    <button @click=\"navigateTo\">navigatorTo API跳转到测试页面</button>\n    <!-- #ifndef MP -->\r\n    <navigator url=\"./page1\">\r\n      <button class=\"navigatorButton\">navigator组件跳转到测试页面</button>\r\n    </navigator>\n    <!-- #endif -->\r\n    <button @click=\"addSwitchTabInterceptor\">添加switchTab拦截器</button>\r\n    <button @click=\"removeSwitchTabInterceptor\">移除switchTab拦截器</button>\r\n    <button @click=\"switchTab\">switchTab API</button>\r\n  </view>\r\n</template>\r\n\r\n\r\n\n```\n\n>Script\n```uts\n\r\n  const navigateToInterceptor = {\r\n    invoke: function (options : NavigateToOptions) {\r\n      console.log('拦截 navigateTo 接口传入参数为：', options)\r\n      const url = './page2'\r\n      uni.showToast({\r\n        title: `重定向到页面:${url}`\r\n      })\r\n      options.url = url\r\n    },\r\n    success: function (res : NavigateToSuccess) {\r\n      console.log('拦截 navigateTo 接口 success 返回参数为：', res)\r\n    },\r\n    fail: function (err : NavigateToFail) {\r\n      console.log('拦截 navigateTo 接口 fail 返回参数为：', err)\r\n    },\r\n    complete: function (res : NavigateToComplete) {\r\n      console.log('拦截 navigateTo 接口 complete 返回参数为：', res)\r\n    }\r\n  } as AddInterceptorOptions\r\n\r\n  const switchTabInterceptor = {\r\n    invoke: function (options : SwitchTabOptions) {\r\n      console.log('拦截 switchTab 接口传入参数为：', options)\r\n      options.url = '/pages/tabBar/API'\r\n    },\r\n    success: function (res : SwitchTabSuccess) {\r\n      console.log('拦截 switchTab 接口 success 返回参数为：', res)\r\n    },\r\n    fail: function (err : SwitchTabFail) {\r\n      console.log('拦截 switchTab 接口 fail 返回参数为：', err)\r\n    },\r\n    complete: function (res : SwitchTabComplete) {\r\n      console.log('拦截 switchTab 接口 complete 返回参数为：', res)\r\n    }\r\n  } as AddInterceptorOptions\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        msg: \"会跳转到测试页面1\"\r\n      }\r\n    },\r\n    beforeUnmount() {\r\n      // 移除 navigateTo 所有拦截器\r\n      uni.removeInterceptor('navigateTo')\r\n      uni.removeInterceptor('switchTab')\r\n    },\r\n    methods: {\r\n      addInterceptor() {\r\n        uni.addInterceptor('navigateTo', navigateToInterceptor)\r\n        uni.showToast({\r\n          title: '页面跳转/切换tabbar已拦截'\r\n        })\r\n        this.msg = \"，路由被劫持到测试页面2\"\r\n      },\r\n      removeInterceptor() {\r\n        uni.removeInterceptor('navigateTo', navigateToInterceptor)\r\n        uni.showToast({\r\n          title: '拦截器已移除'\r\n        })\r\n        this.msg = \"会跳转到测试页面1\"\r\n      },\r\n      addSwitchTabInterceptor() {\r\n        uni.addInterceptor('switchTab', switchTabInterceptor)\r\n      },\r\n      removeSwitchTabInterceptor() {\r\n        uni.removeInterceptor('switchTab', switchTabInterceptor)\r\n      },\r\n      navigateTo() {\r\n        uni.navigateTo({\r\n          url: './page1',\r\n          success(res) {\r\n            console.log('res:', res)\r\n          },\r\n          fail(err) {\r\n            console.error('err:', err)\r\n          },\r\n          complete(res) {\r\n            console.log('res:', res)\r\n          }\r\n        })\r\n      },\r\n      switchTab() {\r\n        uni.switchTab({\r\n          url: '/pages/tabBar/component',\r\n          success(res) {\r\n            console.log('res:', res)\r\n          },\r\n          fail(err) {\r\n            console.error('err:', err)\r\n          },\r\n          complete(res) {\r\n            console.log('res:', res)\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"getLaunchOptionsSync":{"name":"## uni.getLaunchOptionsSync() @getlaunchoptionssync","description":"获取首次启动时的参数。返回值与App.onLaunch的回调参数一致\n","compatibility":"### getLaunchOptionsSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| **OnLaunchOptions** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| path | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"4.11\",\"4.61\"]]}' /> | 首次启动时的页面路径。返回值与App.onLaunch的回调参数一致<br/> |\n@| appScheme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.25\",\"4.25\",\"x\"]]}' /> | 首次启动时的Scheme。返回值与App.onLaunch的回调参数一致<br/> |\n@| appLink | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"4.25\",\"x\"]]}' /> | 首次启动时的appLink。返回值与App.onLaunch的回调参数一致<br/> |\n@| apiCategory | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.20.0`<br/><br/>API 类别<br/><br/>可选值：<br/>- 'default': 默认类别;<br/>- 'nativeFunctionalized': 原生功能化，视频号直播商品、商品橱窗等场景打开的小程序;<br/>- 'browseOnly': 仅浏览，朋友圈快照页等场景打开的小程序;<br/>- 'embedded': 内嵌，通过打开半屏小程序能力打开的小程序;<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| default | - | - |\n@@| nativeFunctionalized | - | - |\n@@| browseOnly | - | - |\n@@| embedded | - | - |\n@| forwardMaterials | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 打开的文件信息数组，只有从聊天素材场景打开（scene为1173）才会携带该参数<br/> |\n@| query | Record\\<string, string> | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 启动小程序的 query 参数<br/> |\n@| referrerInfo | **OnLaunchOptionsReferrerInfo** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 来源信息。从另一个小程序、公众号或 App 进入小程序时返回。否则返回 `{}`。(参见后文注意)<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| appId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 来源小程序、公众号或 App 的 appId<br/> |\n@@| extraData | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 来源小程序传过来的数据，scene=1037或1038时支持<br/> |\n@| scene | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  |\n@| chatType | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 从微信群聊/单聊打开小程序时，chatType 表示具体微信群聊/单聊类型<br/><br/>可选值：<br/>- 1: 微信联系人单聊;<br/>- 2: 企业微信联系人单聊;<br/>- 3: 普通微信群聊;<br/>- 4: 企业微信互通群聊;<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| 1 | - | - |\n@@| 2 | - | - |\n@@| 3 | - | - |\n@@| 4 | - | - |\n@| shareTicket | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.launch.getLaunchOptionsSync)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/life-cycle/wx.getLaunchOptionsSync.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getLaunchOptionsSync&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getLaunchOptionsSync&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getLaunchOptionsSync&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getLaunchOptionsSync&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getLaunchOptionsSync)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getLaunchOptionsSync&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-launch-options-sync/get-launch-options-sync.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-launch-options-sync/get-launch-options-sync\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-launch-options-sync/get-launch-options-sync\n\n>Template\n```vue\n<template>\n  <page-head title=\"getLaunchOptionsSync\"></page-head>\n  <view class=\"uni-padding-wrap\">\n    <button @click=\"getLaunchOptionsSync\">getLaunchOptionsSync</button>\n    <view class=\"uni-common-mt\">\n      <text>应用本次启动路径：</text>\n      <text style=\"margin-top: 5px\">{{ launchOptionsPath }}</text>\n    </view>\n    <view class=\"uni-common-mt\">\n      <text>应用本次启动：</text>\n      <text style=\"margin-top: 5px\">{{ launchOptionsString }}</text>\n    </view>\n  </view>\n</template>\n\n\n\n```\n\n>Script\n```uts\n\n  export default {\n    data() {\n      return {\n        checked: false,\n        homePagePath: 'pages/tabBar/component',\n        launchOptionsPath: '',\n        launchOptionsString: '',\n        testResult: false\n      }\n    },\n    onReady() {\n      this.compareOnLaunchRes()\n    },\n    methods: {\n      compareOnLaunchRes() {\n        const launchOptions = uni.getLaunchOptionsSync();\n        this.launchOptionsString = JSON.stringify(launchOptions, null, 2)\n\n        const app = getApp()\n        const appOnLaunch = app.globalData.launchOptions\n\n        const isPathSame = launchOptions.path == appOnLaunch.path\n        const isAppSchemeSame = launchOptions.appScheme == appOnLaunch.appScheme\n        const isAppLinkSame = launchOptions.appLink == appOnLaunch.appLink\n        this.testResult = isPathSame && isAppSchemeSame && isAppLinkSame\n      },\n\n      getLaunchOptionsSync() {\n        const launchOptions = uni.getLaunchOptionsSync()\n        this.launchOptionsPath = launchOptions.path\n        if (launchOptions.path == this.homePagePath) {\n          this.checked = true\n        }\n      },\n    },\n  }\n\n```\n\n:::"},"getEnterOptionsSync":{"name":"## uni.getEnterOptionsSync() @getenteroptionssync","description":"获取本次启动时的参数。返回值与App.onShow的回调参数一致\n","compatibility":"### getEnterOptionsSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.25 | 4.25 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| **OnShowOptions** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| path | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.25\",\"4.25\",\"4.61\"]]}' /> | 本次启动时页面的路径<br/> |\n@| appScheme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.25\",\"4.25\",\"x\"]]}' /> | 本次启动时的Scheme。返回值与App.onShow的回调参数一致<br/> |\n@| appLink | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"4.25\",\"x\"]]}' /> | 本次启动时的appLink。返回值与App.onShow的回调参数一致<br/> |\n@| apiCategory | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.20.0`<br/><br/>API 类别<br/><br/>可选值：<br/>- 'default': 默认类别;<br/>- 'nativeFunctionalized': 原生功能化，视频号直播商品、商品橱窗等场景打开的小程序;<br/>- 'browseOnly': 仅浏览，朋友圈快照页等场景打开的小程序;<br/>- 'embedded': 内嵌，通过打开半屏小程序能力打开的小程序;<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| default | - | - |\n@@| nativeFunctionalized | - | - |\n@@| browseOnly | - | - |\n@@| embedded | - | - |\n@| forwardMaterials | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 打开的文件信息数组，只有从聊天素材场景打开（scene为1173）才会携带该参数<br/> |\n@| query | Record\\<string, string> | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 启动小程序的 query 参数<br/> |\n@| referrerInfo | **OnShowOptionsReferrerInfo** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 来源信息。从另一个小程序、公众号或 App 进入小程序时返回。否则返回 `{}`。(参见后文注意)<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| appId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 来源小程序、公众号或 App 的 appId<br/> |\n@@| extraData | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 来源小程序传过来的数据，scene=1037或1038时支持<br/> |\n@| scene | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  |\n@| chatType | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 从微信群聊/单聊打开小程序时，chatType 表示具体微信群聊/单聊类型<br/><br/>可选值：<br/>- 1: 微信联系人单聊;<br/>- 2: 企业微信联系人单聊;<br/>- 3: 普通微信群聊;<br/>- 4: 企业微信互通群聊;<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| 1 | - | - |\n@@| 2 | - | - |\n@@| 3 | - | - |\n@@| 4 | - | - |\n@| shareTicket | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.launch.getEnterOptionsSync)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/life-cycle/wx.getEnterOptionsSync.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getEnterOptionsSync&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getEnterOptionsSync&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getEnterOptionsSync&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getEnterOptionsSync&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getEnterOptionsSync)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getEnterOptionsSync&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-enter-options-sync/get-enter-options-sync.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-enter-options-sync/get-enter-options-sync\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-enter-options-sync/get-enter-options-sync\n\n>Template\n```vue\n<template>\r\n  <page-head title=\"getEnterOptionsSync\"></page-head>\r\n  <view class=\"uni-padding-wrap\">\r\n    <view class=\"uni-common-mt\">\r\n      <text>应用本次启动路径：</text>\r\n      <text style=\"margin-top: 5px\">{{ enterOptionsString }}</text>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        enterOptionsString: '',\r\n        testResult: false\r\n      }\r\n    },\r\n    onReady() {\r\n      const app = getApp()\r\n      const appOnShow = app.globalData.onShowOption\r\n      const onShowOption = uni.getEnterOptionsSync()\r\n      this.enterOptionsString = JSON.stringify(onShowOption, null, 2)\r\n      this.testResult = (onShowOption.path == appOnShow.path && onShowOption.appScheme == appOnShow.appScheme && onShowOption.appLink == appOnShow.appLink)\r\n    }\r\n  }\r\n\n```\n\n:::"},"exit":{"name":"## uni.exit(options?) @exit","description":"退出当前应用","compatibility":"### exit 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 3.91 | 3.91 | 4.33 | 4.33 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ExitOptions** | 否 | - | - | uni.exit参数定义 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [ExitSuccess](#exitsuccess-values)) => void | 否 | - | - | uni.exit成功回调函数定义 |\n@| fail | (res: [IExitError](#iexiterror-values)) => void | 否 | - | - | uni.exit失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | - | uni.exit完成回调函数定义 | \n\n#### ExitSuccess 的属性值 @exitsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n\n#### IExitError 的属性值 @iexiterror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 12001 | - | 系统不支持 |\n@| 12002 | - | 未知错误 |\n@| 12003 | - | iOS平台，仅在uni-app x SDK模式中支持应用退出 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.exit)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=exit&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=exit&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=exit&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=exit&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=exit&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=exit)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=exit&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/exit/exit.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/exit/exit\n```uvue\n<template>\r\n  <view>\r\n    <button @tap=\"exitAppClick\">退出应用</button>\n    <text>注:iOS仅在uni-app x SDK模式中支持应用退出</text>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    methods: {\r\n      exitAppClick: function () {\r\n        uni.exit({\r\n          success: function (res) {\r\n            console.log(res)\r\n          },\n          fail: function(error){\n            console.log(error)\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n```\n:::"},"getProviderSync":{"name":"## uni.getProviderSync(options) @getprovidersync","description":"getProvider的同步方法","compatibility":"### getProviderSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.25 | 4.25 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetProviderSyncOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| service | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 服务类型<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| payment | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 支付 (alipay、wxpay) |\n@@| location | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 定位 (system、tencent) |\n@@| oauth | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 授权登录 | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| **GetProviderSyncSuccess** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| service | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 服务类型<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| payment | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"4.61\"]]}' /> | 支付 (alipay、wxpay) |\n@@| location | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"4.61\"]]}' /> | 定位 (system、tencent) |\n@@| oauth | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 授权登录 |\n@| providerIds | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"4.61\"]]}' /> | 得到的服务供应商 |\n@| providerObjects | Array&lt;[UniProvider](/api/provider.md#uniprovider)&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"4.61\"]]}' /> | 得到的服务供应商服务对象 | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.getProvider)"},"getProvider":{"name":"## uni.~~getProvider(options)~~ @getprovider","description":"获取服务供应商  **已废弃，4.25及以后版本请使用getProviderSync()方法代替**","compatibility":"### getProvider 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.11 | 4.18 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetProviderOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| service | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 服务类型：支付 (payment)<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| payment | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.11\",\"4.18\",\"-\"]]}' /> | 支付 (alipay、wxpay) |\n@@| oauth | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 授权登录 |\n@| success | (result: [GetProviderSuccess](#getprovidersuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 接口调用成功的回调 |\n@| fail | (result: [IGetProviderFail](#igetproviderfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### GetProviderSuccess 的属性值 @getprovidersuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| service | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 服务类型：支付 (payment)<br/> |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| payment | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.11\",\"4.18\",\"4.61\"]]}' /> | 支付 (alipay、wxpay) |\n@| oauth | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 授权登录 |\n| provider | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 得到的服务供应商 |\n| providers | Array&lt;[UniProvider](/api/provider.md#uniprovider)&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 得到的服务供应商服务对象 |\n\n#### IGetProviderFail 的属性值 @igetproviderfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码：<br/>110600：服务类型参数无效。 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.getProviderSync)"},"provider":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/provider/provider.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/provider/provider\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <view class=\"page\">\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"service-item\" v-for=\"(item, index) in serviceList\" :key=\"index\">\r\n        <text class=\"service-name\">{{item.name}}:</text>\r\n        <view class=\"provider-list\">\r\n          <text class=\"provider-item\" v-for=\"(item2, index2) in item.provider\" :key=\"index2\">\r\n            {{item2}}\r\n            {{item.providerObj.length > 0 ? ':' + JSON.stringify(item.providerObj[index2]) : '' }}\r\n          </text>\r\n        </view>\r\n      </view>\r\n      <button class=\"btn-get-provider\" type=\"primary\" @click=\"getProvider\">getProviderSync</button>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script>\r\n  type ProviderItem = {\r\n    service : string,\r\n    name : string,\r\n    provider : string[],\r\n    providerObj : UniProvider[]\r\n  }\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'provider',\r\n        flag: false,\r\n        serviceList: [\r\n          { service: \"payment\", name: \"支付\", provider: [], providerObj: [] },\r\n          { service: \"location\", name: \"定位\", provider: [], providerObj: [] },\n          // #ifdef APP-HARMONY\r\n          { service: \"oauth\", name: \"登录\", provider: [], providerObj: [] }\n          // #endif\r\n        ] as ProviderItem[],\r\n        //自动化测试使用\r\n        providerIds: [] as string[],\r\n\r\n        providerObjects: [] as string[],\r\n      }\r\n    },\r\n    methods: {\r\n      getProvider() {\n        this.providerObjects = []\r\n        this.serviceList.forEach((item : ProviderItem) => {\r\n          var provider = uni.getProviderSync({\r\n            service: item.service,\r\n          } as GetProviderSyncOptions)\r\n          provider.providerIds.forEach((value) => {\r\n            this.providerIds.push(value)\r\n          })\r\n          this.updateProvider(item.service, provider.providerIds, provider.providerObjects);\r\n        })\r\n      },\r\n      updateProvider(service : string, provider : string[] | null, uniProvider : UniProvider[]) {\n        //这里需要从新从serviceList 获取item，不能直接用forEach 里面的item，目前存在bug,后续会解决这个问题\r\n        const item : ProviderItem | null = this.serviceList.find((item : ProviderItem) : boolean => {\r\n          return item.service == service\r\n        });\r\n\r\n        if (item != null && provider != null) {\r\n          item.provider = provider\r\n          item.providerObj = uniProvider\r\n          item.providerObj.forEach((obj) => {\r\n            this.providerObjects.push(obj.description)\r\n          })\r\n        }\r\n\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .page {\r\n    padding: 15px;\r\n  }\r\n\r\n  .service-item {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .service-name {\r\n    font-weight: bold;\r\n  }\r\n\r\n  .provider-list {\r\n    margin-left: 32px;\r\n  }\r\n\r\n  .provider-item {\r\n    line-height: 1.5;\r\n  }\r\n\r\n  .btn-get-provider {\r\n    margin-top: 30px;\r\n  }\r\n</style>\n\n```\n:::"},"getPerformance":{"name":"## uni.getPerformance() @getperformance","description":"返回一个Performance对象实例\n","compatibility":"### getPerformance 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 3.91 | 4.25 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [Performance](#performance-values) |\n\n#### Performance 的方法 @performance-values \n\n#### createObserver(callback: PerformanceObserverCallback): PerformanceObserver @createobserver\n创建全局性能事件监听器\n##### createObserver 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (entries: [PerformanceObserverEntryList](#performanceobserverentrylist-values)) => void | 是 | - | - | - | \n\n##### PerformanceObserverEntryList 的方法 @performanceobserverentrylist-values \n\n##### getEntries(): PerformanceEntry[\\] @getentries\n该方法返回当前列表中的所有性能数据\n###### getEntries 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n\n###### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;**PerformanceEntry**&gt; |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| entryType | string | 是 | - | - | 指标类型 |\n@| name | string | 是 | - | - | 指标名称 |\n@| duration | number | 是 | - | - | 耗时 ms。仅对于表示阶段的指标有效。 |\n@| startTime | number | 是 | - | - | 开始时间，不同指标的具体含义会有差异。 |\n@| path | string | 否 | - | - | 页面路径。仅 render 和 navigation 类型指标有效。 |\n@| referrerPath | string | 否 | - | - | 页面跳转来源页面路径。仅 route 指标有效。 |\n@| pageId | number | 否 | - | - | path 对应页面实例 Id（随机生成，不保证递增）。仅 render/navigation 指标有效。 |\n@| referrerPageId | number | 否 | - | - | referrerPath对应页面实例 Id（随机生成，不保证递增）。仅 route 指标有效。 |\n@| navigationStart | number | 否 | - | - | 路由真正响应开始时间。仅 navigation 类型指标有效。 |\n@| navigationType | string | 否 | - | - | 路由详细类型，与路由方法对应。仅 navigation 类型指标有效。 |\n@| initDataRecvTime | number | 否 | - | - | 首次渲染参数在渲染层收到的时间。仅 firstRender 指标有效。 |\n@| viewLayerRenderEndTime | number | 否 | - | - | 渲染层执行渲染结束时间。仅 firstRender 指标有效。 | \n\n##### getEntriesByType(entryType: string): PerformanceEntry[\\] @getentriesbytype\n获取当前列表中所有类型为 \\[entryType]的性能数据\n###### getEntriesByType 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| entryType | string | 是 | - | - | - | \n\n###### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;[PerformanceEntry](#performanceentry-values)&gt; |\n \n\n##### getEntriesByName(name: string, entryType: string): PerformanceEntry[\\] @getentriesbyname\n获取当前列表中所有名称为 \\[name] 且类型为 [entryType]的性能数据\n###### getEntriesByName 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| name | string | 是 | - | - | - |\n| entryType | string | 是 | - | - | - | \n\n###### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;[PerformanceEntry](#performanceentry-values)&gt; |\n \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| [PerformanceObserver](#performanceobserver-values) |\n\n###### PerformanceObserver 的方法 @performanceobserver-values \n\n###### observe(options: PerformanceObserverOptions): void @observe\n开始监听\n###### observe 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **PerformanceObserverOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| buffered | boolean | 否 | - | - | - |\n@| entryTypes | Array&lt;string&gt; | 否 | - | - | - |\n@| type | string | 否 | - | - | - | \n\n\n###### disconnect(): void @disconnect\n停止监听\n###### disconnect 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n\n \n\n#### getEntries(): PerformanceEntry[\\] @getentries\n该方法返回当前缓冲区中的所有性能数据\n##### getEntries 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;[PerformanceEntry](#performanceentry-values)&gt; |\n \n\n#### getEntriesByType(entryType: string): PerformanceEntry[\\] @getentriesbytype\n获取当前缓冲区中所有类型为 \\[entryType]的性能数据\n##### getEntriesByType 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| entryType | string | 是 | - | - | - | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;[PerformanceEntry](#performanceentry-values)&gt; |\n \n\n#### getEntriesByName(name: string, entryType: string): PerformanceEntry[\\] @getentriesbyname\n获取当前缓冲区中所有名称为 \\[name] 且类型为 [entryType]的性能数据\n##### getEntriesByName 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| name | string | 是 | - | - | - |\n| entryType | string | 是 | - | - | - | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;[PerformanceEntry](#performanceentry-values)&gt; |\n \n\n#### setBufferSize(size: number): void @setbuffersize\n设置缓冲区大小，默认缓冲 30 条性能数据\n##### setBufferSize 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| size | number | 是 | - | - | - | \n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.get-performance)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/performance/Performance.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getPerformance&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getPerformance&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getPerformance&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getPerformance&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getPerformance)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getPerformance&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"getPrivacySetting":{"name":"## uni.getPrivacySetting(options) @getprivacysetting","description":"获取隐私协议状态","compatibility":"### getPrivacySetting 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.31 | 4.31 | 4.31 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetPrivacySettingOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [GetPrivacySettingSuccessResult](#getprivacysettingsuccessresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### GetPrivacySettingSuccessResult 的属性值 @getprivacysettingsuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| needAuthorization | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 是否需要用户授权隐私协议(用户之前同意过返回false，没同意过则返回true) |\n| privacyContractName | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 隐私授权协议的名称<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.privacy.getPrivacySetting)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/open-api/privacy/wx.getPrivacySetting.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getPrivacySetting&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getPrivacySetting&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getPrivacySetting&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getPrivacySetting&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getPrivacySetting)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getPrivacySetting&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"resetPrivacyAuthorization":{"name":"## uni.resetPrivacyAuthorization() @resetprivacyauthorization","description":"重置隐私协议状态为未同意","compatibility":"### resetPrivacyAuthorization 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.31 | 4.31 | 4.31 | 4.31 | 4.61 |\n","param":"","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.privacy.resetPrivacyAuthorization)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=resetPrivacyAuthorization&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=resetPrivacyAuthorization&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=resetPrivacyAuthorization&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=resetPrivacyAuthorization&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=resetPrivacyAuthorization&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=resetPrivacyAuthorization)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=resetPrivacyAuthorization&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onPrivacyAuthorizationChange":{"name":"## uni.onPrivacyAuthorizationChange(callback) @onprivacyauthorizationchange","description":"开启监听隐私协议状态改变","compatibility":"### onPrivacyAuthorizationChange 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.31 | 4.31 | 4.31 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (res: [PrivacyChangeResult](#privacychangeresult-values)) => void | 是 | - | - | - | \n\n### PrivacyChangeResult 的属性值 @privacychangeresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| needAuthorization | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 是否需要用户授权隐私协议(用户之前同意过返回false，没同意过则返回true) |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| number |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.privacy.onPrivacyAuthorizationChange)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=onPrivacyAuthorizationChange&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onPrivacyAuthorizationChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onPrivacyAuthorizationChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onPrivacyAuthorizationChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onPrivacyAuthorizationChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onPrivacyAuthorizationChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onPrivacyAuthorizationChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offPrivacyAuthorizationChange":{"name":"## uni.offPrivacyAuthorizationChange(id) @offprivacyauthorizationchange","description":"取消监听隐私协议状态改变","compatibility":"### offPrivacyAuthorizationChange 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.31 | 4.31 | 4.31 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| id | number | 是 | - | - | 开启监听隐私协议状态改变返回的id | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.base.privacy.offPrivacyAuthorizationChange)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=offPrivacyAuthorizationChange&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offPrivacyAuthorizationChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offPrivacyAuthorizationChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offPrivacyAuthorizationChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offPrivacyAuthorizationChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offPrivacyAuthorizationChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offPrivacyAuthorizationChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"privacy":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/privacy/privacy.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/privacy/privacy\n```uvue\n<template>\n\t<view class=\"uni-padding-wrap\">\n\t\t<page-head :title=\"title\"></page-head>\n    <view class=\"item-box\">\n      <text>当前应用隐私授权状态:</text>\n      <text>{{ appPrivacy }}</text>\r\n    </view>\r\n    <!-- #ifdef MP-WEIXIN -->\r\n    <view class=\"item-box\">\r\n      <text>隐私授权协议的名称:</text>\r\n      <text>{{ privacyContractName }}</text>\r\n    </view>\r\n    <!-- #endif -->\n    <view>\n      <button class=\"privacy-button\" type=\"primary\" @tap=\"getPrivacySetting\">\n        获取隐私协议授权状态\n      </button>\n      <button class=\"privacy-button\" type=\"primary\" open-type=\"agreePrivacyAuthorization\">\n        同意隐私协议专用按钮\n      </button>\n      <!-- #ifdef APP -->\r\n      <button class=\"privacy-button\" type=\"primary\" @tap=\"resetPrivacyAuthorization\">\n        重置隐私协议授权状态\n      </button>\n      <button class=\"privacy-button\" @tap=\"openPrivacyDialog\">\n        显示隐私政策弹框\n      </button>\r\n      <!-- #endif -->\n    </view>\n\t</view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t  title: '隐私信息授权',\n\t\t\t  appPrivacy: '未获取',\r\n        privacyContractName: \"\",\n        listenId: 0\n\t\t\t}\n\t\t},\n    onReady() {\n      // #ifdef APP\r\n      //添加 隐私协议监听\n      const id = uni.onPrivacyAuthorizationChange((res) => {\n         this.appPrivacy = res.needAuthorization ? \"未同意\" : \"已同意\"\n         const privacyState = \"监听到隐私协议状态已变更为 \" + this.appPrivacy;\n         uni.showToast({\n           \"position\": \"bottom\",\n           \"title\": privacyState\n         })\n      })\n      this.listenId = id;\n      uni.showToast({\n        \"position\": \"bottom\",\n        \"title\": \"开启监听隐私协议状态\"\n      })\r\n      // #endif\n    },\n    onUnload() {\n      // #ifdef APP\r\n      //注销监听\n      uni.offPrivacyAuthorizationChange(this.listenId)\n      this.listenId = 0;\n      uni.showToast({\n        \"position\": \"bottom\",\n        \"title\": \"已停止监听隐私协议状态\"\n      })\r\n      // #endif\n    },\n\t\tmethods: {\n\t\t\tgetPrivacySetting() {\n\t\t\t  uni.getPrivacySetting({\n\t\t\t    success: (res) => {\n\t\t\t      this.appPrivacy = res.needAuthorization ? \"未同意\" : \"已同意\"\r\n            // #ifdef MP-WEIXIN\r\n            this.privacyContractName = res.privacyContractName\r\n            // #endif\n\t\t\t    }\n\t\t\t  })\n\t\t\t},\n      resetPrivacyAuthorization(){\n        uni.resetPrivacyAuthorization()\n      },\n      openPrivacyDialog(){\n        uni.openDialogPage({\n          url: '/pages/component/button/privacy',\n        })\n      }\n\t\t}\n\t}\n</script>\n\n<style>\n.item-box {\n    margin-bottom: 10px;\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n  }\n.privacy-button{\n  margin-top: 5px;\n  margin-bottom: 5px;\n}\n</style>\n\n```\n:::"},"navigateTo":{"name":"## uni.navigateTo(options) @navigateto","description":"保留当前页面，跳转到应用内的某个页面\n","compatibility":"### navigateTo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | √ | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **NavigateToOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string ([string.PageURIString](/uts/data-type.md#ide-string)) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 需要跳转的应用内非 tabBar 的页面的路径 , 路径后可以带参数 |\n@| animationType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 窗口显示的动画类型<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| auto | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 自动选择动画效果 |\n@@| none | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 无动画效果 |\n@@| slide-in-right | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 从右侧横向滑动效果 |\n@@| slide-in-left | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 从左侧横向滑动效果 |\n@@| slide-in-top | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 从上侧竖向滑动效果 |\n@@| slide-in-bottom | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 从下侧竖向滑动效果 |\n@@| fade-in | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 从完全透明到不透明逐渐显示 |\n@@| zoom-out | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 在屏幕中间从小到大逐渐放大显示 |\n@@| zoom-fade-out | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 从大逐渐缩小并且从不透明到透明逐渐隐藏关闭动画 |\n@@| pop-in | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 从右侧平移出栈动画效果 |\n@| animationDuration | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"4.61\"]]}' /> | 窗口显示动画的持续时间，单位为 ms |\n@| events | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"x\",\"4.61\"]]}' /> | 页面间通信接口，用于监听被打开页面发送到当前页面的数据 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [NavigateToFail](#navigatetofail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| routeConfig | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  |\n@| routeOptions | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  |\n@| routeType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  | \n\n#### AsyncApiSuccessResult 的属性值 @asyncapisuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n\n#### NavigateToFail 的属性值 @navigatetofail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 路由错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.navigator.navigateTo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateTo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=navigateTo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=navigateTo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=navigateTo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=navigateTo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=navigateTo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=navigateTo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"reLaunch":{"name":"## uni.reLaunch(options) @relaunch","description":"关闭所有页面，打开到应用内的某个页面\n","compatibility":"### reLaunch 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | √ | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ReLaunchOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string ([string.PageURIString](/uts/data-type.md#ide-string)) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 需要跳转的应用内页面路径 , 路径后可以带参数。参数与路径之间使用?分隔，参数键与参数值用=相连，不同参数用&分隔；如 'path?key=value&key2=value2'，如果跳转的页面路径是 tabBar 页面则不能带参数 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [ReLaunchFail](#relaunchfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### ReLaunchFail 的属性值 @relaunchfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 路由错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.navigator.reLaunch)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.reLaunch.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=reLaunch&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=reLaunch&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=reLaunch&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=reLaunch&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=reLaunch)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=reLaunch&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"navigateBack":{"name":"## uni.navigateBack(options?) @navigateback","description":"关闭当前页面，返回上一页面或多级页面\n","compatibility":"### navigateBack 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | √ | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **NavigateBackOptions** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| delta | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 返回的页面数，如果 delta 大于现有页面数，则返回到首页 |\n@| animationType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"4.25\",\"-\"]]}' /> | 窗口关闭的动画类型<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| auto | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 自动选择动画效果 |\n@@| none | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 无动画效果 |\n@@| slide-out-right | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 横向向右侧滑出屏幕动画 |\n@@| slide-out-left | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 横向向左侧滑出屏幕动画 |\n@@| slide-out-top | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 竖向向上侧滑出屏幕动画 |\n@@| slide-out-bottom | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 竖向向下侧滑出屏幕动画 |\n@@| fade-out | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 从不透明到透明逐渐隐藏动画 |\n@@| zoom-in | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 从大逐渐缩小关闭动画 |\n@@| zoom-fade-in | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"x\"]]}' /> | 从大逐渐缩小并且从不透明到透明逐渐隐藏关闭动画 |\n@@| pop-out | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 从右侧平移出栈动画效果 |\n@| animationDuration | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"-\"]]}' /> | 窗口关闭动画的持续时间，单位为 ms |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"x\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [NavigateBackFail](#navigatebackfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### NavigateBackFail 的属性值 @navigatebackfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 路由错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.navigator.navigateBack)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.navigateBack.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=navigateBack&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=navigateBack&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=navigateBack&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=navigateBack&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=navigateBack)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=navigateBack&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"redirectTo":{"name":"## uni.redirectTo(options) @redirectto","description":"关闭当前页面，跳转到应用内的某个页面\n","compatibility":"### redirectTo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | √ | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RedirectToOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string ([string.PageURIString](/uts/data-type.md#ide-string)) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 需要跳转的应用内非 tabBar 的页面的路径 , 路径后可以带参数 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [RedirectToFail](#redirecttofail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### RedirectToFail 的属性值 @redirecttofail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 路由错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.navigator.redirectTo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.redirectTo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=redirectTo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=redirectTo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=redirectTo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=redirectTo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=redirectTo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=redirectTo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"switchTab":{"name":"## uni.switchTab(options) @switchtab","description":"跳转到 tabBar 页面，并关闭其他所有非 tabBar 页面\n","compatibility":"### switchTab 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | √ | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SwitchTabOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string ([string.PageURIString](/uts/data-type.md#ide-string)) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 需要跳转的 tabBar 页面的路径，路径后不能带参数 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SwitchTabFail](#switchtabfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SwitchTabFail 的属性值 @switchtabfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 路由错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.navigator.switchTab)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.switchTab.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=switchTab&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=switchTab&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=switchTab&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=switchTab&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=switchTab)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=switchTab&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"navigator":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/navigator/navigator.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/navigator/navigator\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/navigator/navigator\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head title=\"navigate\"></page-head>\r\n      <view style=\"flex-direction: row;\">\r\n        <switch @change=\"onChange\"></switch>\r\n        <view class=\"uni-title\">是否启用共享元素动画</view>\r\n      </view>\r\n      <share-element :share-key=\"shareElementKey\">\r\n        <image style=\"width: 250px; height: 176px;\" src=\"/static/shuijiao.jpg\" mode=\"scaleToFill\"></image>\r\n      </share-element>\r\n      <text style=\"font-size: 13px;\" >注意：开启共享元素动画后仅支持slide-in-right和fade-in动画效果</text>\r\n      <view class=\"uni-padding-wrap uni-common-mt uni-common-mb\">\r\n        <view class=\"direction-row\">\r\n          <text class=\"label\">onLoad触发时间戳:</text>\r\n          <text>{{ onLoadTime }}</text>\r\n        </view>\r\n        <view class=\"direction-row\">\r\n          <text class=\"label\">onShow触发时间戳:</text>\r\n          <text>{{ onShowTime }}</text>\r\n        </view>\r\n        <view class=\"direction-row\">\r\n          <text class=\"label\">onReady触发时间戳:</text>\r\n          <text>{{ onReadyTime }}</text>\r\n        </view>\r\n        <view class=\"direction-row\">\r\n          <text class=\"label\">onHide触发时间戳:</text>\r\n          <text>{{ onHideTime }}</text>\r\n        </view>\r\n        <view class=\"direction-row\">\r\n          <text class=\"label\">onBackPress触发时间戳:</text>\r\n          <text>见控制台</text>\r\n        </view>\r\n        <view class=\"direction-row\">\r\n          <text class=\"label\">onUnload触发时间戳:</text>\r\n          <text>见控制台</text>\r\n        </view>\r\n        <view class=\"uni-btn-v\">\r\n          <button @tap=\"navigateTo\" class=\"uni-btn\">\r\n            跳转新页面，并传递数据\r\n          </button>\r\n          <button @tap=\"navigateBack\" class=\"uni-btn\">返回上一页</button>\r\n          <button @tap=\"redirectTo\" class=\"uni-btn\">在当前页面打开</button>\r\n          <button @tap=\"switchTab\" class=\"uni-btn\">切换到模板选项卡</button>\r\n          <button @tap=\"reLaunch\" class=\"uni-btn\">\r\n            关闭所有页面，打开首页\r\n          </button>\r\n          <button @tap=\"navigateToErrorPage\" class=\"uni-btn\">\r\n            打开不存在的页面\r\n          </button>\r\n          <button v-for=\"(item, _) in animationTypeList\" @tap=\"navigateToAnimationType(item)\"\r\n            class=\"uni-btn\">navigateTo动画({{item}})</button>\r\n          <button class=\"uni-btn\" @click=\"goOnLoadCallAPI\">测试 onLoad 调用 API</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .direction-row {\r\n    flex-direction: row;\r\n  }\r\n\r\n  .label {\r\n    width: 190px;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  import { state, setLifeCycleNum } from '@/store/index.uts'\r\n  type AnimationType = \"slide-in-right\" | \"slide-in-left\" | \"slide-in-top\" | \"slide-in-bottom\" | \"pop-in\" | \"fade-in\" | \"zoom-out\" | \"zoom-fade-out\" | \"none\" | \"auto\"\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        onLoadTime: 0,\r\n        onShowTime: 0,\r\n        onReadyTime: 0,\r\n        onHideTime: 0,\r\n        shareElementKey: \"\",\r\n        animationTypeList: [\r\n          'slide-in-right',\r\n          'slide-in-left',\r\n          'slide-in-top',\r\n          'slide-in-bottom',\r\n          'pop-in',\r\n          'fade-in',\r\n          'zoom-out',\r\n          'zoom-fade-out',\r\n          'none'\r\n        ]\r\n      }\r\n    },\r\n    onLoad() {\r\n      this.onLoadTime = Date.now()\r\n      console.log('onLoad', this.onLoadTime)\r\n    },\r\n    onShow() {\r\n      this.onShowTime = Date.now()\r\n      console.log('onShow', this.onShowTime)\r\n    },\r\n    onReady() {\r\n      this.onReadyTime = Date.now()\r\n      console.log('onReady', this.onReadyTime)\r\n    },\r\n    onHide() {\r\n      this.onHideTime = Date.now()\r\n      console.log('onHide', this.onHideTime)\r\n    },\r\n    onBackPress(options : OnBackPressOptions) : boolean | null {\r\n      console.log('onBackPress', Date.now())\r\n      console.log('onBackPress from', options.from)\r\n      return null\r\n    },\r\n    onUnload() {\r\n      console.log('onUnload', Date.now())\r\n    },\r\n    methods: {\r\n      reLaunch() {\r\n        uni.reLaunch({\r\n          url: '/pages/tabBar/component',\r\n          success(result) {\r\n            console.log('reLaunch success', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(error) {\r\n            console.log('reLaunch fail', error.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete(result) {\r\n            console.log('reLaunch complete', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      navigateTo() {\r\n        uni.navigateTo({\r\n          url: '/pages/API/navigator/new-page/new-page-1?data=Hello',\r\n          success(result) {\r\n            console.log('navigateTo success', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(error) {\r\n            console.log('navigateTo fail', error.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete(result) {\r\n            console.log('navigateTo complete', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      navigateToAnimationType(animationType : AnimationType) {\r\n        uni.navigateTo({\r\n          url: '/pages/API/navigator/new-page/new-page-1?data=Hello',\r\n          animationType: animationType,\r\n          success(result) {\r\n            console.log('navigateTo success', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(error) {\r\n            console.log('navigateTo fail', error.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete(result) {\r\n            console.log('navigateTo complete', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      navigateToErrorPage() {\r\n        uni.navigateTo({\r\n          url: '/pages/error-page/error-page',\r\n          success(result) {\r\n            console.log('navigateTo success', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          fail(error) {\r\n            console.log('navigateTo fail', error.errMsg)\r\n            uni.showToast({\r\n              title: error.errMsg,\r\n              icon: 'none',\r\n            })\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          complete(result) {\r\n            console.log('navigateTo complete', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      navigateToDebounce() {\r\n        uni.navigateTo({\r\n          url: '/pages/API/navigator/new-page/new-page-1?data=debounce',\r\n          success(result) {\r\n            console.log('navigateTo success', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(error) {\r\n            console.log('navigateTo fail', error.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete(result) {\r\n            console.log('navigateTo complete', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n        uni.navigateTo({\r\n          url: '/pages/API/navigator/new-page/new-page-1?data=debounce',\r\n          success(result) {\r\n            console.log('navigateTo success', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          fail(error) {\r\n            console.log('navigateTo fail', error.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          complete(result) {\r\n            console.log('navigateTo complete', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      // 自动化测试\r\n      navigateToRelativePath1() {\r\n        uni.navigateTo({\r\n          url: 'new-page/new-page-1?data=new-page/new-page-1',\r\n          success() {\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail() {\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete() {\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      // 自动化测试\r\n      navigateToRelativePath2() {\r\n        uni.navigateTo({\r\n          url: './new-page/new-page-1?data=./new-page/new-page-1',\r\n          success() {\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail() {\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete() {\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      // 自动化测试\r\n      navigateToRelativePath3() {\r\n        uni.navigateTo({\r\n          url: '../navigator/new-page/new-page-1?data=../navigator/new-page/new-page-1',\r\n          success() {\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail() {\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete() {\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      navigateBack() {\r\n        uni.navigateBack({\r\n          success(result) {\r\n            console.log('navigateBack success', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(error) {\r\n            console.log('navigateBack fail', error.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete(result) {\r\n            console.log('navigateBack complete', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      navigateBackWithDelta1() {\r\n        uni.navigateTo({\r\n          url: '/pages/API/navigator/new-page/new-page-1',\r\n          success() {\r\n            uni.navigateBack({\r\n              delta: 1,\r\n              success(result) {\r\n                console.log('navigateBack success', result.errMsg)\r\n                // 自动化测试\r\n                setLifeCycleNum(state.lifeCycleNum + 1)\r\n              },\r\n              fail(error) {\r\n                console.log('navigateBack fail', error.errMsg)\r\n                // 自动化测试\r\n                setLifeCycleNum(state.lifeCycleNum - 1)\r\n              },\r\n              complete(result) {\r\n                console.log('navigateBack complete', result.errMsg)\r\n                // 自动化测试\r\n                setLifeCycleNum(state.lifeCycleNum + 1)\r\n              },\r\n            })\r\n          },\r\n        })\r\n      },\r\n      navigateBackWithDelta100() {\r\n        uni.navigateTo({\r\n          url: '/pages/API/navigator/new-page/new-page-1',\r\n          success() {\r\n            uni.navigateBack({\r\n              delta: 100,\r\n              success(result) {\r\n                console.log('navigateBack success', result.errMsg)\r\n                // 自动化测试\r\n                setLifeCycleNum(state.lifeCycleNum + 1)\r\n              },\r\n              fail(error) {\r\n                console.log('navigateBack fail', error.errMsg)\r\n                // 自动化测试\r\n                setLifeCycleNum(state.lifeCycleNum - 1)\r\n              },\r\n              complete(result) {\r\n                console.log('navigateBack complete', result.errMsg)\r\n                // 自动化测试\r\n                setLifeCycleNum(state.lifeCycleNum + 1)\r\n              },\r\n            })\r\n          },\r\n        })\r\n      },\r\n      redirectTo() {\r\n        uni.redirectTo({\r\n          url: '/pages/API/navigator/new-page/new-page-1?data=Hello',\r\n          success(result) {\r\n            console.log('redirectTo success', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(error) {\r\n            console.log('redirectTo fail', error.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete(result) {\r\n            console.log('redirectTo complete', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      switchTab() {\r\n        uni.switchTab({\r\n          url: '/pages/tabBar/template',\r\n          success(result) {\r\n            console.log('switchTab success', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(error) {\r\n            console.log('switchTab fail', error.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete(result) {\r\n            console.log('switchTab complete', result.errMsg)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n        })\r\n      },\r\n      // 自动化测试\r\n      getLifeCycleNum() : number {\r\n        return state.lifeCycleNum\r\n      },\r\n      // 自动化测试\r\n      setLifeCycleNum(num : number) {\r\n        setLifeCycleNum(num)\r\n      },\r\n      onChange(event: UniSwitchChangeEvent) {\r\n        if(event.detail.value) {\r\n          this.shareElementKey = \"test-share-element-key\"\r\n        } else {\r\n          this.shareElementKey = \"\"\r\n        }\r\n      },\r\n      goOnLoadCallAPI(){\r\n        uni.navigateTo({\r\n          url: '/pages/API/navigator/new-page/onLoad-call-api'\r\n        })\r\n      }\r\n    },\r\n  }\r\n\n```\n\n:::"},"openDialogPage":{"name":"## uni.openDialogPage(options) @opendialogpage","description":"打开模态弹窗页面","compatibility":"### openDialogPage 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.31 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.31 | 4.31 | 4.31 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **OpenDialogPageOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string ([string.PageURIString](/uts/data-type.md#ide-string)) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 需要跳转的应用内非 tabBar 的页面的路径 , 路径后可以带参数 |\n@| animationType | string | 否 | none | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 窗口显示的动画类型<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| auto | - | 自动选择动画效果 |\n@@| none | - | 无动画效果 |\n@@| slide-in-right | - | 从右侧横向滑动效果 |\n@@| slide-in-left | - | 左侧横向滑动效果 |\n@@| slide-in-top | - | 从上侧竖向滑动效果 |\n@@| slide-in-bottom | - | 从下侧竖向滑动效果 |\n@@| fade-in | - | 从透明到不透明逐渐显示效果 |\n@@| zoom-out | - | 从小到大逐渐放大显示效果 |\n@@| zoom-fade-out | - | 从小到大逐渐放大并且从透明到不透明逐渐显示效果 |\n@| animationDuration | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 窗口关闭动画的持续时间，单位为 ms |\n@| disableEscBack | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 是否禁用按键盘 ESC 时关闭 |\n@| parentPage | [UniPage](/api/unipage.md) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 要绑定的父级页面实例 |\n@| triggerParentHide | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.41\",\"x\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 是否触发父页面的 onHide 生命周期 |\n@| success | (result: [OpenDialogPageSuccess](#opendialogpagesuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [OpenDialogPageFail](#opendialogpagefail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### OpenDialogPageSuccess 的属性值 @opendialogpagesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n\n#### OpenDialogPageFail 的属性值 @opendialogpagefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 路由错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| [UniPage](/api/unipage.md) | 否 |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.dialogPage.openDialogPage)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=openDialogPage&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=openDialogPage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=openDialogPage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=openDialogPage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=openDialogPage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=openDialogPage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=openDialogPage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"closeDialogPage":{"name":"## uni.closeDialogPage(options?) @closedialogpage","description":"关闭模态弹窗页面\r\n","compatibility":"### closeDialogPage 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.31 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.31 | 4.31 | 4.31 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CloseDialogPageOptions** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| dialogPage | [UniPage](/api/unipage.md) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 要关闭的 dialogPage 实例 |\n@| animationType | string | 否 | auto | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 窗口关闭的动画类型<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| auto | - | 自动选择动画效果 |\n@@| none | - | 无动画效果 |\n@@| slide-out-right | - | 横向向右侧滑出屏幕动画 |\n@@| slide-out-left | - | 横向向左侧滑出屏幕动画 |\n@@| slide-out-top | - | 竖向向上侧滑出屏幕动画 |\n@@| slide-out-bottom | - | 竖向向下侧滑出屏幕动画 |\n@@| fade-out | - | 从不透明到透明逐渐隐藏动画 |\n@@| zoom-in | - | 从大逐渐缩小关闭动画 |\n@@| zoom-fade-in | - | 从大逐渐缩小并且从不透明到透明逐渐隐藏关闭动画 |\n@| animationDuration | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 窗口关闭动画的持续时间，单位为 ms |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [CloseDialogPageFail](#closedialogpagefail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.31\",\"x\",\"4.31\",\"4.31\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### AsyncApiSuccessResult 的属性值 @asyncapisuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n\n#### CloseDialogPageFail 的属性值 @closedialogpagefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 路由错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| null |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.dialogPage.closeDialogPage)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=closeDialogPage&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=closeDialogPage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=closeDialogPage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=closeDialogPage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=closeDialogPage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=closeDialogPage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=closeDialogPage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"dialogPage":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/dialog-page/dialog-page.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/dialog-page/dialog-page\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/dialog-page/dialog-page\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1;\">\r\n  <!-- #endif -->\r\n  <view class=\"uni-padding-wrap\">\n    <view class=\"uni-common-mt flex-row\" v-if=\"pageBody != null\">pageBody: {\n      top: <text id=\"page-body-top\">{{pageBody!.top}}</text>,\n      right: <text id=\"page-body-right\">{{pageBody!.right}}</text>,\n      bottom: <text id=\"page-body-bottom\">{{pageBody!.bottom}}</text>,\n      left: <text id=\"page-body-left\">{{pageBody!.left}}</text>,\n      width: <text id=\"page-body-width\">{{pageBody!.width}}</text>,\n      height: <text id=\"page-body-height\">{{pageBody!.height}}</text>\n      }\n    </view>\r\n    <view class=\"uni-common-mt flex-row\" v-if=\"safeAreaInsets != null\">safeAreaInsets: {\r\n      top: <text id=\"page-safe-area-insets-top\">{{safeAreaInsets!.top}}</text>,\r\n      right: <text id=\"page-safe-area-insets-right\">{{safeAreaInsets!.right}}</text>,\r\n      bottom: <text id=\"page-safe-area-insets-bottom\">{{safeAreaInsets!.bottom}}</text>,\r\n      left: <text id=\"page-safe-area-insets-left\">{{safeAreaInsets!.left}}</text>}\r\n    </view>\n    <!-- #ifdef APP-ANDROID || APP-IOS || WEB -->\n    <view class=\"uni-common-mt flex-row\" v-if=\"width != null\">width: <text id=\"page-width\">{{width!}}</text>\n    </view>\n    <view class=\"uni-common-mt flex-row\" v-if=\"height != null\">height: <text id=\"page-height\">{{height!}}</text>\n    </view>\n    <view class=\"uni-common-mt flex-row\" v-if=\"statusBarHeight != null\">statusBarHeight: <text id=\"page-statusBarHeight\">{{statusBarHeight!}}</text>\n    </view>\n    <!-- #endif -->\r\n    <button class=\"uni-common-mt\" id=\"go-next-page\" @click=\"goNextPage\">\r\n      go next page\r\n    </button>\r\n    <button class=\"uni-common-mt\" id=\"open-dialog1\" @click=\"openDialog1\">\r\n      open dialog 1\r\n    </button>\r\n    <button class=\"uni-common-mt\" id=\"open-dialog1-wrong-path\" @click=\"openDialog1WrongPath\">\r\n      open dialog page 1 with wrong path\r\n    </button>\r\n    <button class=\"uni-common-mt\" id=\"go-next-page-open-dialog1\" @click=\"goNextPageOpenDialog1\">\r\n      go next page & open dialog1\r\n    </button>\r\n    <button class=\"uni-common-mt\" id=\"open-dialog1\" @click=\"openDialog3\">\r\n      open dialog 3 test page style\r\n    </button>\r\n    <button class=\"uni-common-mt\" id=\"open-dialog4\" @click=\"openDialogWithTriggerParentHide\">\r\n      openDialog with triggerParentHide\r\n    </button>\r\n    <button class=\"uni-common-mt\" id=\"open-dialog5\" @click=\"openDialogCheckMoreAttribute\">\r\n      openDialog check more attribute\r\n    </button>\r\n    <text class=\"uni-common-mt choose-open-animation-type-title\">choose open dialogPage animationType</text>\r\n    <radio-group class=\"choose-open-animation-type-radio-group\" @change=\"handleOpenAnimationType\">\r\n      <radio class=\"ml-10 uni-common-mt\" v-for=\"item in openAnimationTypeList\" :key=\"item\" :value=\"item\"\r\n        :checked=\"openAnimationType == item\">{{ item }}\r\n      </radio>\r\n    </radio-group>\r\n  </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .ml-10 {\r\n    margin-left: 10px;\r\n  }\r\n\r\n  .choose-open-animation-type-title {\r\n    font-weight: bold;\r\n  }\r\n\r\n  .choose-open-animation-type-radio-group {\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n  }\r\n  .flex-row{\r\n    flex-direction: row;\r\n    flex-wrap: wrap;\r\n  }\r\n</style>style>\r\n\n```\n\n>Script\n```uts\n\r\n  import {\r\n    state,\r\n    setLifeCycleNum\r\n  } from '@/store/index.uts'\r\n\r\n  type OpenAnimationType =\r\n    'auto' |\r\n    'none' |\r\n    'slide-in-right' |\r\n    'slide-in-left' |\r\n    'slide-in-top' |\r\n    'slide-in-bottom' |\r\n    'fade-in' |\r\n    'zoom-out' |\r\n    'zoom-fade-out'\r\n\r\n  export default {\r\n    data() {\r\n      return {\n        pageBody : null as UniPageBody | null,\r\n        safeAreaInsets: null as UniSafeAreaInsets | null,\n        width: null as number | null,\n        height: null as number | null,\n        statusBarHeight: null as number | null,\r\n        jest_click_x: -1,\r\n        jest_click_y: -1,\r\n        openAnimationType: 'none' as OpenAnimationType,\r\n        openAnimationTypeList: [\r\n          'auto',\r\n          'none',\r\n          'slide-in-right',\r\n          'slide-in-left',\r\n          'slide-in-top',\r\n          'slide-in-bottom',\r\n          'fade-in',\r\n          'zoom-out',\r\n          'zoom-fade-out'\r\n        ]\r\n      }\r\n    },\r\n    onLoad() {\r\n      console.log('dialogPage parent onLoad')\r\n    },\r\n    onShow() {\r\n      console.log('dialogPage parent onShow')\r\n      setLifeCycleNum(state.lifeCycleNum + 10)\r\n    },\r\n    onReady() {\r\n      console.log('dialogPage parent onReady')\r\n      const currentPage = this.$page\n      this.pageBody = currentPage.pageBody;\r\n      this.safeAreaInsets = currentPage.safeAreaInsets\n      // #ifdef APP-ANDROID || APP-IOS || WEB\n      this.width = currentPage.width\n      this.height = currentPage.height\n      this.statusBarHeight = currentPage.statusBarHeight\n      // #endif\r\n    },\r\n    onHide() {\r\n      console.log('dialogPage parent onHide')\r\n      setLifeCycleNum(state.lifeCycleNum - 10)\r\n    },\r\n    onUnload() {\r\n      console.log('dialogPage parent onUnload')\r\n    },\r\n    methods: {\r\n      goNextPage() {\r\n        uni.navigateTo({\r\n          url: '/pages/API/dialog-page/next-page'\r\n        })\r\n      },\r\n      openDialog1() {\r\n        uni.openDialogPage({\r\n          url: '/pages/API/dialog-page/dialog-1?name=dialog1',\r\n          animationType: this.openAnimationType,\r\n          success(res) {\r\n            console.log('openDialogPage1 success', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(err) {\r\n            console.log('openDialogPage1 fail', err)\r\n            setLifeCycleNum(state.lifeCycleNum - 4)\r\n          },\r\n          complete(res) {\r\n            console.log('openDialogPage1 complete', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          }\r\n        })\r\n      },\r\n      openDialog2() {\r\n        uni.openDialogPage({\r\n          url: '/pages/API/dialog-page/dialog-2',\r\n          animationType: this.openAnimationType,\r\n          disableEscBack: true,\r\n          success(res) {\r\n            console.log('openDialog2 success', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(err) {\r\n            console.log('openDialog2 fail', err)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 4)\r\n          },\r\n          complete(res) {\r\n            console.log('openDialog2 complete', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          }\r\n        })\r\n      },\r\n      openDialog1WrongPath() {\r\n        uni.openDialogPage({\r\n          url: '/pages/API/dialog-page/dialog-11?name=dialog1',\r\n          success(res) {\r\n            console.log('openDialogPage1 success', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(err) {\r\n            console.log('openDialogPage1 fail', err)\r\n            setLifeCycleNum(state.lifeCycleNum - 4)\r\n          },\r\n          complete(res) {\r\n            console.log('openDialogPage1 complete', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          }\r\n        })\r\n      },\r\n      goNextPageOpenDialog1() {\r\n        uni.navigateTo({\r\n          url: '/pages/API/dialog-page/next-page',\r\n          success() {\r\n            setTimeout(() => {\r\n              uni.openDialogPage({\r\n                url: '/pages/API/dialog-page/dialog-1?name=dialog1',\r\n                animationType: this.openAnimationType,\r\n                success(res) {\r\n                  console.log('openDialogPage1 success', res)\r\n                  // 自动化测试\r\n                  setLifeCycleNum(state.lifeCycleNum + 1)\r\n                },\r\n                fail(err) {\r\n                  console.log('openDialogPage1 fail', err)\r\n                  // 自动化测试\r\n                  setLifeCycleNum(state.lifeCycleNum - 4)\r\n                },\r\n                complete(res) {\r\n                  console.log('openDialogPage1 complete', res)\r\n                  // 自动化测试\r\n                  setLifeCycleNum(state.lifeCycleNum + 1)\r\n                }\r\n              })\r\n            }, 2000)\r\n          }\r\n        })\r\n      },\r\n      closeDialog() {\r\n        uni.closeDialogPage({\r\n          success(res) {\r\n            console.log('closeDialog success', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(err) {\r\n            console.log('closeDialog fail', err)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 4)\r\n          },\r\n          complete(res) {\r\n            console.log('closeDialog complete', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          }\r\n        })\r\n      },\r\n      closeSpecifiedDialog(index : number) {\r\n        const dialogPages = this.$page.getDialogPages()\r\n        uni.closeDialogPage({\r\n          dialogPage: dialogPages[index],\r\n          success(res) {\r\n            console.log('closeSomeOneDialog success', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(err) {\r\n            console.log('closeSomeOneDialog fail', err)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 4)\r\n          },\r\n          complete(res) {\r\n            console.log('closeSomeOneDialog complete', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          }\r\n        })\r\n      },\r\n      // 自动化测试\r\n      openDialog4() {\r\n        uni.openDialogPage({\r\n          url: '/pages/API/dialog-page/dialog-4',\r\n        })\r\n      },\r\n      openDialogWithTriggerParentHide() {\r\n        uni.openDialogPage({\r\n          url: `/pages/API/dialog-page/dialog-4?tag=${Date.now()}`,\r\n          triggerParentHide: true,\r\n          success(res) {\r\n            console.log('openDialogWithTriggerParentHide success', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail(err) {\r\n            console.log('openDialogWithTriggerParentHide fail', err)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum - 4)\r\n          },\r\n          complete(res) {\r\n            console.log('openDialogWithTriggerParentHide complete', res)\r\n            // 自动化测试\r\n            setLifeCycleNum(state.lifeCycleNum + 1)\r\n          }\r\n        })\r\n      },\r\n      openDialogCheckMoreAttribute(){\r\n        uni.openDialogPage({\r\n          url: '/pages/API/dialog-page/dialog-5',\r\n        })\r\n      },\r\n      setLifeCycleNum(value : number) {\r\n        setLifeCycleNum(value)\r\n      },\r\n      getLifeCycleNum() : number {\r\n        return state.lifeCycleNum\r\n      },\r\n      jest_OpenDialog1() {\r\n        uni.openDialogPage({\r\n          url: '/pages/API/dialog-page/dialog-1?name=dialog1'\r\n        })\r\n      },\r\n      jest_CloseDialog1() {\r\n        uni.closeDialogPage({})\r\n      },\r\n      jest_getTapPoint() {\r\n        const systemInfo = uni.getSystemInfoSync()\r\n        let ratio = 1\r\n        if (systemInfo.platform == 'android') {\r\n          ratio = systemInfo.devicePixelRatio\r\n        }\r\n        this.jest_click_x = systemInfo.screenWidth / 2 * ratio\r\n        this.jest_click_y = systemInfo.statusBarHeight * ratio + 10\r\n      },\r\n      openDialog2ForTest() {\r\n        uni.openDialogPage({\r\n          url: '/pages/API/dialog-page/dialog-2'\r\n        });\r\n      },\r\n      closeDialog2ForTest() {\r\n        uni.closeDialogPage({});\r\n      },\r\n      setPageStyleForTest(style : UTSJSONObject) {\r\n        const pages = this.$page.getDialogPages();\r\n        if (pages.length > 0) pages[pages.length - 1].setPageStyle(style);\r\n      },\r\n      openDialog3() {\r\n        uni.openDialogPage({ url: '/pages/API/dialog-page/dialog-3', animationType: this.openAnimationType })\r\n      },\r\n      handleOpenAnimationType(e : RadioGroupChangeEvent) {\r\n        this.openAnimationType = e.detail.value as OpenAnimationType\r\n      },\r\n      // 自动化测试\r\n      getDialogPage() : UniPage | null {\r\n        const dialogPages = this.$page.getDialogPages()\r\n        return dialogPages.length > 0 ? dialogPages[0] : null\r\n      },\r\n      // 自动化测试\r\n      dialogPageCheckGetDialogPages() : boolean {\r\n        const dialogPage = this.getDialogPage()!\r\n        const dialogPages = dialogPage.getDialogPages()\r\n        const res = dialogPages.length == 0\r\n        return res\r\n      },\r\n      // 自动化测试\r\n      dialogPageGetPageStyle() : UTSJSONObject {\r\n        const dialogPage = this.getDialogPage()!\r\n        return dialogPage.getPageStyle()\r\n      },\r\n      // 自动化测试\r\n      dialogPageSetPageStyle() {\r\n        const dialogPage = this.getDialogPage()!\r\n        dialogPage.setPageStyle({\r\n          backgroundColorContent: 'red'\r\n        })\r\n      },\r\n      // 自动化测试\r\n      dialogPageCheckGetElementById() : boolean {\r\n        const dialogPage = this.getDialogPage()!\r\n        const element = dialogPage.getElementById('dialog1-go-next-page')\r\n        let res = element != null\r\n        // #ifndef APP-ANDROID\r\n        if (res) {\r\n          const elPage = element!.getPage()\r\n          console.log('elPage', elPage)\r\n          res = elPage === dialogPage\r\n        }\r\n        // #endif\r\n        return res\r\n      },\r\n      // 自动化测试\r\n      dialogCheckGetAndroidView() : boolean {\r\n        const dialogPage = this.getDialogPage()!\r\n        const androidView = dialogPage.getAndroidView()\r\n        const res = androidView != null\r\n        return res\r\n      },\r\n      // 自动化测试\r\n      dialogCheckGetIOSView() : boolean {\r\n        const dialogPage = this.getDialogPage()!\r\n        const IOSView = dialogPage.getIOSView()\r\n        const res = IOSView != null\r\n        return res\r\n      },\r\n      // 自动化测试\r\n      dialogCheckGetHTMLElement() : boolean {\r\n        const dialogPage = this.getDialogPage()!\r\n        const HTMLView = dialogPage.getHTMLElement()\r\n        const res = HTMLView != null\r\n        return res\r\n      },\r\n    }\r\n  }\r\n\n```\n\n:::"},"setNavigationBarColor":{"name":"## uni.setNavigationBarColor(options) @setnavigationbarcolor","description":"设置导航条、状态栏颜色\n","compatibility":"### setNavigationBarColor 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | √ | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetNavigationBarColorOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| frontColor | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 前景颜色值，包括按钮、标题、状态栏的颜色，仅支持 #ffffff 和 #000000 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| #ffffff | - | - |\n@@| #000000 | - | - |\n@| backgroundColor | [string.ColorString](/uts/data-type.md#ide-string) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 背景颜色值，有效值为十六进制颜色 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (error: [SetNavigationBarColorFail](#setnavigationbarcolorfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (res: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.11\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| animation | **SetNavigationBarColorOptionsAnimation** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 动画效果<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| duration | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 动画变化时间，单位 ms<br/> |\n@@| timingFunc | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 动画变化方式<br/><br/>可选值：<br/>- 'linear': 动画从头到尾的速度是相同的;<br/>- 'easeIn': 动画以低速开始;<br/>- 'easeOut': 动画以低速结束;<br/>- 'easeInOut': 动画以低速开始和结束;<br/> |\n@@@| 合法值 | 兼容性 | 描述 |\n@@@| :- |  :-: | :- |\n@@@| linear | - | - |\n@@@| easeIn | - | - |\n@@@| easeOut | - | - |\n@@@| easeInOut | - | - | \n\n#### AsyncApiSuccessResult 的属性值 @asyncapisuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n\n#### SetNavigationBarColorFail 的属性值 @setnavigationbarcolorfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 设置导航栏字体颜色错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setNavigationBarColor)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/navigation-bar/wx.setNavigationBarColor.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setNavigationBarColor&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setNavigationBarColor&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setNavigationBarColor&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setNavigationBarColor&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setNavigationBarColor)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setNavigationBarColor&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/set-navigation-bar-color/set-navigation-bar-color.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/set-navigation-bar-color/set-navigation-bar-color\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/set-navigation-bar-color/set-navigation-bar-color\n\n>Template\n```vue\n<template>\r\n  <page-head title=\"setNavigationBarColor\"></page-head>\r\n  <view class=\"uni-padding-wrap uni-common-mt\">\r\n    <button @tap=\"setNavigationBarColor1\" class=\"uni-btn\">\r\n      设置导航条背景绿色，标题白色\r\n    </button>\r\n    <button @tap=\"setNavigationBarColor2\" class=\"uni-btn\">\r\n      设置导航条背景红色，标题黑色\r\n    </button>\r\n    <button @tap=\"goNavbarLite\" class=\"uni-btn\">\r\n      跳转自定义导航栏页面\r\n    </button>\r\n  </view>\r\n</template>\r\n\r\n\n\n```\n\n>Script\n```uts\n\r\n  import { state, setLifeCycleNum } from '@/store/index.uts'\r\n\r\n  export default {\r\n    methods: {\r\n      setNavigationBarColor1() {\r\n        uni.setNavigationBarColor({\r\n          frontColor: '#ffffff',\r\n          backgroundColor: '#00ff00',\r\n          success: () => {\r\n            console.log('setNavigationBarColor success')\r\n            this.setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail: () => {\r\n            console.log('setNavigationBarColor fail')\r\n            this.setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete: () => {\r\n            console.log('setNavigationBarColor complete')\r\n            this.setLifeCycleNum(state.lifeCycleNum + 1)\r\n          }\r\n        })\r\n      },\r\n      setNavigationBarColor2() {\r\n        uni.setNavigationBarColor({\r\n          frontColor: '#000000',\r\n          backgroundColor: '#ff0000',\r\n          success: () => {\r\n            console.log('setNavigationBarColor success')\r\n            this.setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail: () => {\r\n            console.log('setNavigationBarColor fail')\r\n            this.setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete: () => {\r\n            console.log('setNavigationBarColor complete')\r\n            this.setLifeCycleNum(state.lifeCycleNum + 1)\r\n          }\r\n        })\r\n      },\r\n      // 自动化测试\r\n      getLifeCycleNum() : number {\r\n        return state.lifeCycleNum\r\n      },\r\n      // 自动化测试\r\n      setLifeCycleNum(num : number) {\r\n        setLifeCycleNum(num)\r\n      },\r\n      goNavbarLite() {\r\n        uni.navigateTo({\r\n          url: '/pages/template/navbar-lite/navbar-lite'\r\n        })\r\n      }\r\n    },\r\n  }\r\n\n```\n\n:::"},"setNavigationBarTitle":{"name":"## uni.setNavigationBarTitle(options) @setnavigationbartitle","description":"动态设置当前页面的标题\n","compatibility":"### setNavigationBarTitle 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.97 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetNavigationBarTitleOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| title | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.97\",\"4.11\",\"4.61\"]]}' /> | 页面标题 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.97\",\"4.11\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (error: [SetNavigationBarTitleFail](#setnavigationbartitlefail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.97\",\"4.11\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (res: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.97\",\"4.11\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetNavigationBarTitleFail 的属性值 @setnavigationbartitlefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 设置导航栏标题错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setNavigationBarTitle)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/navigation-bar/wx.setNavigationBarTitle.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setNavigationBarTitle&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setNavigationBarTitle&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setNavigationBarTitle&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setNavigationBarTitle&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setNavigationBarTitle)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setNavigationBarTitle&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/set-navigation-bar-title/set-navigation-bar-title.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/set-navigation-bar-title/set-navigation-bar-title\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/set-navigation-bar-title/set-navigation-bar-title\n\n>Template\n```vue\n<template>\r\n  <page-head title=\"setNavigationBarTitle\"></page-head>\r\n  <view class=\"uni-padding-wrap uni-common-mt\">\r\n    <button @tap=\"setNavigationBarNewTitle\" class=\"uni-btn\">\r\n      设置当前页面标题为: {{ newTitle }}\r\n    </button>\r\n    <button @tap=\"setNavigationBarLongTitle\" class=\"uni-btn\">\r\n      设置超长标题\r\n    </button>\n    <!-- #ifdef APP-HARMONY -->\n    <button @tap=\"showNavigationBarLoading\" class=\"uni-btn\">\n      设置标题 loading\n    </button>\n    <button @tap=\"hideNavigationBarLoading\" class=\"uni-btn\">\n      隐藏标题 loading\n    </button>\n    <!-- #endif -->\r\n  </view>\r\n</template>\r\n\r\n\n\n```\n\n>Script\n```uts\n\r\n  import { state, setLifeCycleNum } from '@/store/index.uts'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        newTitle: 'new title',\r\n        longTitle: 'long title long title long title long title long title long title long title long title long title long title'\r\n      }\r\n    },\r\n    methods: {\n      // #ifdef APP-HARMONY\r\n      showNavigationBarLoading() {\r\n        uni.showNavigationBarLoading({\r\n          success: () => {\r\n            console.log('showNavigationBarLoading success')\r\n          },\r\n          fail: () => {\r\n            console.log('showNavigationBarLoading fail')\r\n          },\r\n          complete: () => {\r\n            console.log('showNavigationBarLoading complete')\r\n          }\r\n        })\r\n      },\r\n      hideNavigationBarLoading() {\r\n        uni.hideNavigationBarLoading({\r\n          success: () => {\r\n            console.log('hideNavigationBarLoading success')\r\n          },\r\n          fail: () => {\r\n            console.log('hideNavigationBarLoading fail')\r\n          },\r\n          complete: () => {\r\n            console.log('hideNavigationBarLoading complete')\r\n          }\r\n        })\r\n      },\n      // #endif\r\n      setNavigationBarNewTitle() {\r\n        uni.setNavigationBarTitle({\r\n          title: this.newTitle,\r\n          success: () => {\r\n            console.log('setNavigationBarTitle success')\r\n            this.setLifeCycleNum(state.lifeCycleNum + 1)\r\n          },\r\n          fail: () => {\r\n            console.log('setNavigationBarTitle fail')\r\n            this.setLifeCycleNum(state.lifeCycleNum - 1)\r\n          },\r\n          complete: () => {\r\n            console.log('setNavigationBarTitle complete')\r\n            this.setLifeCycleNum(state.lifeCycleNum + 1)\r\n          }\r\n        })\r\n      },\r\n      setNavigationBarLongTitle() {\r\n        uni.setNavigationBarTitle({\r\n          title: this.longTitle,\r\n          success() {\r\n            console.log('setNavigationBarTitle success')\r\n          },\r\n          fail() {\r\n            console.log('setNavigationBarTitle fail')\r\n          },\r\n          complete() {\r\n            console.log('setNavigationBarTitle complete')\r\n          }\r\n        })\r\n      },\r\n      // 自动化测试\r\n      getLifeCycleNum() : number {\r\n        return state.lifeCycleNum\r\n      },\r\n      // 自动化测试\r\n      setLifeCycleNum(num : number) {\r\n        setLifeCycleNum(num)\r\n      }\r\n    },\r\n  }\r\n\n```\n\n:::"},"showTabBar":{"name":"## uni.showTabBar(options?) @showtabbar","description":"显示 tabBar\n","compatibility":"### showTabBar 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ShowTabBarOptions** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| animation | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否需要动画效果 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SetTabBarFail](#settabbarfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetTabBarFail 的属性值 @settabbarfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 100 | - | TabBar 不存在 |\n@| 200 | - | 参数错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setTabBar.showTabBar)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/tab-bar/wx.showTabBar.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=showTabBar&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=showTabBar&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=showTabBar&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=showTabBar&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=showTabBar)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=showTabBar&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"hideTabBar":{"name":"## uni.hideTabBar(options?) @hidetabbar","description":"隐藏 tabBar\n","compatibility":"### hideTabBar 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **HideTabBarOptions** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| animation | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否需要动画效果 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SetTabBarFail](#settabbarfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetTabBarFail 的属性值 @settabbarfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 100 | - | TabBar 不存在 |\n@| 200 | - | 参数错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setTabBar.hideTabBar)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/tab-bar/wx.hideTabBar.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=hideTabBar&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=hideTabBar&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=hideTabBar&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=hideTabBar&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=hideTabBar)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=hideTabBar&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"showTabBarRedDot":{"name":"## uni.showTabBarRedDot(options) @showtabbarreddot","description":"显示 tabBar 某一项的右上角的红点\n","compatibility":"### showTabBarRedDot 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ShowTabBarRedDotOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| index | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tabBar的哪一项，从左边算起，索引从0开始 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SetTabBarFail](#settabbarfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetTabBarFail 的属性值 @settabbarfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 100 | - | TabBar 不存在 |\n@| 200 | - | 参数错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setTabBar.showTabBarRedDot)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/tab-bar/wx.showTabBarRedDot.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=showTabBarRedDot&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=showTabBarRedDot&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=showTabBarRedDot&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=showTabBarRedDot&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=showTabBarRedDot)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=showTabBarRedDot&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"hideTabBarRedDot":{"name":"## uni.hideTabBarRedDot(options) @hidetabbarreddot","description":"隐藏 tabBar 某一项的右上角的红点\n","compatibility":"### hideTabBarRedDot 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **HideTabBarRedDotOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| index | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tabBar的哪一项，从左边算起，索引从0开始 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SetTabBarFail](#settabbarfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetTabBarFail 的属性值 @settabbarfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 100 | - | TabBar 不存在 |\n@| 200 | - | 参数错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setTabBar.hideTabBarRedDot)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/tab-bar/wx.hideTabBarRedDot.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=hideTabBarRedDot&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=hideTabBarRedDot&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=hideTabBarRedDot&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=hideTabBarRedDot&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=hideTabBarRedDot)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=hideTabBarRedDot&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"setTabBarBadge":{"name":"## uni.setTabBarBadge(options) @settabbarbadge","description":"为 tabBar 某一项的右上角添加文本\n","compatibility":"### setTabBarBadge 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetTabBarBadgeOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| index | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tabBar的哪一项，从左边算起，索引从0开始 |\n@| text | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 显示的文本，不超过 3 个半角字符 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SetTabBarFail](#settabbarfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetTabBarFail 的属性值 @settabbarfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 100 | - | TabBar 不存在 |\n@| 200 | - | 参数错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setTabBar.setTabBarBadge)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/tab-bar/wx.setTabBarBadge.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setTabBarBadge&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setTabBarBadge&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setTabBarBadge&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setTabBarBadge&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setTabBarBadge)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setTabBarBadge&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"removeTabBarBadge":{"name":"## uni.removeTabBarBadge(options) @removetabbarbadge","description":"移除 tabBar 某一项右上角的文本\n","compatibility":"### removeTabBarBadge 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RemoveTabBarBadgeOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| index | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tabBar的哪一项，从左边算起，索引从0开始 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SetTabBarFail](#settabbarfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetTabBarFail 的属性值 @settabbarfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 100 | - | TabBar 不存在 |\n@| 200 | - | 参数错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setTabBar.removeTabBarBadge)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/tab-bar/wx.removeTabBarBadge.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=removeTabBarBadge&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=removeTabBarBadge&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=removeTabBarBadge&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=removeTabBarBadge&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=removeTabBarBadge)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=removeTabBarBadge&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"setTabBarStyle":{"name":"## uni.setTabBarStyle(options) @settabbarstyle","description":"动态设置 tabBar 的整体样式\n","compatibility":"### setTabBarStyle 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetTabBarStyleOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| color | string ([string.ColorString](/uts/data-type.md#ide-string)) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tab 上的文字默认颜色 |\n@| selectedColor | string ([string.ColorString](/uts/data-type.md#ide-string)) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tab 上的文字选中时的颜色 |\n@| backgroundColor | string ([string.ColorString](/uts/data-type.md#ide-string)) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tab 的背景色 |\n@| backgroundImage | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 图片背景 |\n@| backgroundRepeat | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 背景图平铺方式 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| repeat | - | 背景图片在垂直方向和水平方向平铺 |\n@@| repeat-x | - | 背景图片在水平方向平铺，垂直方向拉伸 |\n@@| repeat-y | - | 背景图片在垂直方向平铺，水平方向拉伸 |\n@@| no-repeat | - | 背景图片在垂直方向和水平方向都拉伸 |\n@| borderColor | string ([string.ColorString](/uts/data-type.md#ide-string)) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.23\",\"4.41\",\"x\",\"4.23\",\"4.61\"]]}' /> | tabbar上边框的颜色（优先级高于 borderStyle） |\n@| borderStyle | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tabbar上边框的颜色 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| black | - | - |\n@@| white | - | - |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SetTabBarFail](#settabbarfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetTabBarFail 的属性值 @settabbarfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 100 | - | TabBar 不存在 |\n@| 200 | - | 参数错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setTabBar.setTabBarStyle)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/tab-bar/wx.setTabBarStyle.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setTabBarStyle&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setTabBarStyle&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setTabBarStyle&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setTabBarStyle&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setTabBarStyle)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setTabBarStyle&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"setTabBarItem":{"name":"## uni.setTabBarItem(options) @settabbaritem","description":"动态设置 tabBar 某一项的内容\n","compatibility":"### setTabBarItem 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetTabBarItemOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| index | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tabBar 的哪一项，从左边算起，索引从0开始 |\n@| text | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tab 上按钮文字 |\n@| iconPath | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 图片路径 |\n@| selectedIconPath | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 选中时的图片路径 |\n@| pagePath | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 页面绝对路径 |\n@| iconfont | **SetTabBarItemIconFontOptions** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 字体图标，优先级高于 iconPath |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| text | string | 是 | - | - | 字库 Unicode 码 |\n@@| selectedText | string | 是 | - | - | 选中后字库 Unicode 码 |\n@@| fontSize | string | 否 | - | - | 字体图标字号(px) |\n@@| color | string | 否 | - | - | 字体图标颜色 |\n@@| selectedColor | string | 否 | - | - | 字体图标选中颜色 |\n@| visible | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | tab 是否显示 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SetTabBarFail](#settabbarfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetTabBarFail 的属性值 @settabbarfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 100 | - | TabBar 不存在 |\n@| 200 | - | 参数错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.setTabBar.setTabBarItem)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/tab-bar/wx.setTabBarItem.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setTabBarItem&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setTabBarItem&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setTabBarItem&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setTabBarItem&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setTabBarItem)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setTabBarItem&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"startPullDownRefresh":{"name":"## uni.startPullDownRefresh(options?) @startpulldownrefresh","description":"开始下拉刷新\n","compatibility":"### startPullDownRefresh 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **StartPullDownRefreshOptions** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [StartPullDownRefreshFail](#startpulldownrefreshfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### StartPullDownRefreshFail 的属性值 @startpulldownrefreshfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 下拉刷新错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.pullDownRefresh.startPullDownRefresh)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/pull-down-refresh/wx.startPullDownRefresh.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=startPullDownRefresh&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=startPullDownRefresh&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=startPullDownRefresh&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=startPullDownRefresh&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=startPullDownRefresh)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=startPullDownRefresh&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"stopPullDownRefresh":{"name":"## uni.stopPullDownRefresh() @stoppulldownrefresh","description":"停止当前页面下拉刷新\n","compatibility":"### stopPullDownRefresh 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.pullDownRefresh.stopPullDownRefresh)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/pull-down-refresh/wx.stopPullDownRefresh.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=stopPullDownRefresh&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=stopPullDownRefresh&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=stopPullDownRefresh&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=stopPullDownRefresh&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=stopPullDownRefresh)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=stopPullDownRefresh&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"pullDownRefresh":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/pull-down-refresh/pull-down-refresh.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/pull-down-refresh/pull-down-refresh\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/pull-down-refresh/pull-down-refresh\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1;\">\r\n  <!-- #endif -->\r\n    <!-- 实际开发中，长列表应该使用list-view -->\r\n    <view class=\"uni-padding-wrap uni-common-mt\">\r\n      <text class=\"text\" v-for=\"(num,index) in data\" :key=\"index\">list - {{num}}</text>\r\n      <view v-if=\"showLoadMore\">{{loadMoreText}}</view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n<style>\r\n  .text {\r\n    margin: 6px 0;\r\n    width: 100%;\r\n    background-color: #fff;\r\n    height: 52px;\r\n    line-height: 52px;\r\n    text-align: center;\r\n    color: #555;\r\n    border-radius: 4px;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        data: [] as Array<number>,\r\n        loadMoreText: \"加载中...\",\r\n        showLoadMore: false,\r\n        max: 0,\r\n        pulldownRefreshTriggered: false\r\n      }\r\n    },\r\n    onReady() {\r\n      uni.startPullDownRefresh();\r\n      this.initData();\r\n    },\r\n    onReachBottom() {\r\n      console.log(\"onReachBottom\");\r\n      if (this.max > 40) {\r\n        this.loadMoreText = \"没有更多数据了!\"\r\n        return;\r\n      }\r\n      this.showLoadMore = true;\r\n      setTimeout(() => {\r\n        this.setListData();\r\n      }, 300);\r\n    },\r\n    onPullDownRefresh() {\r\n      console.log('onPullDownRefresh');\r\n      this.pulldownRefreshTriggered = true\r\n      this.initData();\r\n    },\r\n    methods: {\r\n      initData() {\r\n        setTimeout(() => {\r\n          this.max = 0;\r\n          this.data = [];\r\n          let data : Array<number> = [];\r\n          this.max += 20;\r\n          for (let i : number = this.max - 19; i < this.max + 1; i++) {\r\n            data.push(i)\r\n          }\r\n          this.data = this.data.concat(data);\r\n          uni.stopPullDownRefresh();\r\n        }, 1000);\r\n      },\r\n      setListData() {\r\n        let data : Array<number> = [];\r\n        this.max += 10;\r\n        for (let i : number = this.max - 9; i < this.max + 1; i++) {\r\n          data.push(i)\r\n        }\r\n        this.data = this.data.concat(data);\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"pageScrollTo":{"name":"## uni.pageScrollTo(options) @pagescrollto","description":"将页面滚动到目标位置\n","compatibility":"### pageScrollTo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **PageScrollToOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| scrollTop | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 滚动到页面的目标位置 |\n@| selector | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 选择器 |\n@| offsetTop | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"4.11\",\"4.61\"]]}' /> | 偏移距离，可以滚动到 selector 加偏移距离的位置 |\n@| duration | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 滚动动画的时长 |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [PageScrollToFail](#pagescrolltofail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### AsyncApiSuccessResult 的属性值 @asyncapisuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n\n#### PageScrollToFail 的属性值 @pagescrolltofail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 设置页面滚动错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.pageScrollTo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/scroll/wx.pageScrollTo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=pageScrollTo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=pageScrollTo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=pageScrollTo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=pageScrollTo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=pageScrollTo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=pageScrollTo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/page-scroll-to/page-scroll-to.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/page-scroll-to/page-scroll-to\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/page-scroll-to/page-scroll-to\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1\" scroll-with-animation=\"true\">\r\n  <!-- #endif -->\r\n    <view class=\"uni-padding-wrap\">\r\n      <page-head :title=\"title\"></page-head>\r\n      <button type=\"default\" class=\"btn-scrollTo\" @click=\"scrollTo\">\r\n        scrollTo\r\n      </button>\r\n      <button type=\"default\" class=\"btn-scrollToElement\" @click=\"scrollToElement\">\r\n        scrollToElement\r\n      </button>\r\n      <view class=\"uni-list\" v-for=\"(_, index) in 10\" :key=\"index\">\r\n        <view class=\"uni-list-cell list-item\">{{ index }}</view>\r\n      </view>\r\n      <view class=\"custom-element\">scrollTo-custom-element</view>\r\n      <view class=\"uni-list\" v-for=\"(_, index2) in 10\" :key=\"index2\">\r\n        <view class=\"uni-list-cell list-item\">{{ index2 }}</view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .list-item {\r\n    height: 100px;\r\n    padding-left: 30px;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'pageScrollTo',\r\n      }\r\n    },\r\n    methods: {\r\n      scrollTo() {\r\n        uni.pageScrollTo({\r\n          scrollTop: 100,\r\n          duration: 300,\r\n          success: () => {\r\n            console.log('success')\r\n          },\r\n        })\r\n      },\r\n      scrollToElement() {\r\n        uni.pageScrollTo({\r\n          selector: '.custom-element',\r\n          duration: 300,\r\n          success: () => {\r\n            console.log('success')\r\n          },\r\n        })\r\n      },\r\n    },\r\n  }\r\n\n```\n\n:::"},"onTabBarMidButtonTap":{"name":"## uni.onTabBarMidButtonTap(options) @ontabbarmidbuttontap","description":"监听中间按钮的点击事件","compatibility":"### onTabBarMidButtonTap 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | () => void | 是 | - | - | - | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.page.onTabBarMidButtonTap)"},"getElementById":{"name":"## uni.getElementById(id) @getelementbyid","description":"返回一个匹配特定 ID 的元素， 如果不存在，返回 null。\\\n如果需要获取指定的节点类型，需要使用 as 进行类型转换。\\\nID 区分大小写，且应该是唯一的。如果存在多个匹配的元素，则返回第一个匹配的元素。\n","compatibility":"### getElementById 兼容性 \n| Web | 微信小程序 | Android | iOS | iOS uni-app x UTS 插件 | HarmonyOS | HarmonyOS uni-app x UTS 插件 |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.25 | 4.61 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| id | [string.IDString](/uts/data-type.md#ide-string) \\\\| string | 是 | - | - | - | \n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| [UniElement](/dom/unielement.md) | 否 |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.dom.getElementById)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-element-by-id/get-element-by-id.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-element-by-id/get-element-by-id\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-element-by-id/get-element-by-id\n\n>Template\n```vue\n<template>\r\n  <page-head id=\"page-head\" title=\"getElementById\"></page-head>\r\n  <view style=\"margin: 0 15px;\">\r\n    <text id=\"text\">this is text</text>\r\n    <view id=\"view\" class=\"uni-common-mt\" style=\"border: 1px solid red\">this is view</view>\r\n    <button class=\"uni-btn\" @click=\"changePageHeadBackgroundColor\">\r\n      修改 page-head 背景色\r\n    </button>\r\n    <button class=\"uni-btn\" @click=\"changeTextColor\">\r\n      修改 text 字体颜色\r\n    </button>\r\n    <button class=\"uni-btn\" @click=\"changeViewStyle\">\r\n      修改 view 宽高及背景色\r\n    </button>\r\n    <button class=\"uni-btn\" @click=\"goMultipleRootNode\">\r\n      跳转多根节点示例\r\n    </button>\r\n  </view>\r\n</template>\r\n\r\n\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        checked: false,\r\n        homePagePath: '/pages/tabBar/component',\r\n        launchOptionsPath: '',\r\n      }\r\n    },\r\n    methods: {\r\n      getElementByNotExistId() : Element | null {\r\n        return uni.getElementById('not-exist-id')\r\n      },\r\n      changePageHeadBackgroundColor() {\r\n        const pageHead = uni.getElementById('page-head')!\r\n        pageHead.style.setProperty('background-color', 'red')\r\n      },\r\n      changeTextColor() {\r\n        const text = uni.getElementById('text')!\r\n        text.style.setProperty('color', 'red')\r\n      },\r\n      changeViewStyle() {\r\n        const view = uni.getElementById<UniViewElement>('view')\r\n        if (view !== null) {\r\n          view.style.setProperty('width', '90%')\r\n          view.style.setProperty('height', '50px')\r\n          view.style.setProperty('background-color', '#007AFF')\r\n        }\r\n      },\r\n      goMultipleRootNode() {\r\n        uni.navigateTo({ url: '/pages/API/get-element-by-id/get-element-by-id-multiple-root-node' })\r\n      },\r\n      //自动化测试获取text元素的offsetLeft属性值\r\n      getTextOffsetLeft() : number {\r\n        const text = uni.getElementById('text')!\r\n        return text.offsetLeft\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"createSelectorQuery":{"name":"## uni.createSelectorQuery() @createselectorquery","description":"返回一个SelectorQuery对象实例\n","compatibility":"### createSelectorQuery 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 4.11 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [SelectorQuery](#selectorquery-values) |\n\n#### SelectorQuery 的方法 @selectorquery-values \n\n#### in(component: any \\| null): SelectorQuery @in\n将选择器的选取范围更改为自定义组件component内\n##### in 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| component | any | 否 | - | - |  | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| [SelectorQuery](#selectorquery-values) |\n \n\n#### select(selector: string): NodesRef @select\n在当前页面下选择第一个匹配选择器selector的节点\n##### select 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| selector | string | 是 | - | - | - | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| [NodesRef](#nodesref-values) |\n\n###### NodesRef 的方法 @nodesref-values \n\n###### boundingClientRect( callback: SelectorQueryNodeInfoCallback \\| null,    ): SelectorQuery @boundingclientrect\n添加节点的布局位置的查询请求，相对于显示区域，以像素为单位\n###### boundingClientRect 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 否 | - | - |  | \n\n###### 返回值 \n\n| 类型 |\n| :- |\n| [SelectorQuery](#selectorquery-values) |\n \n\n###### scrollOffset(callback: SelectorQueryNodeInfoCallback): SelectorQuery @scrolloffset\n添加节点的滚动位置查询请求，以像素为单位\n###### scrollOffset 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - |  | \n\n###### 返回值 \n\n| 类型 |\n| :- |\n| [SelectorQuery](#selectorquery-values) |\n \n\n###### fields( fields: NodeField,        callback: SelectorQueryNodeInfoCallback \\| null,    ): SelectorQuery @fields\n获取节点的相关信息，需要获取的字段在fields中指定\n###### fields 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.25 | 4.25 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| fields | **NodeField** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| id | boolean | 否 | - | - | 是否返回节点 id |\n@| dataset | boolean | 否 | - | - | 是否返回节点 dataset |\n@| rect | boolean | 否 | - | - | 是否返回节点布局位置（left right top bottom） |\n@| size | boolean | 否 | - | - | 是否返回节点尺寸（width height） |\n@| scrollOffset | boolean | 否 | - | - | 是否返回节点的 scrollLeft scrollTop，节点必须是 scroll-view 或者 viewport |\n@| properties | Array&lt;string&gt; | 否 | - | - | 指定属性名列表，返回节点对应属性名的当前属性值（只能获得组件文档中标注的常规属性值，id class style 和事件绑定的属性值不可获取） |\n@| computedStyle | Array&lt;string&gt; | 否 | - | - | 指定样式名列表，返回节点对应样式名的当前值 |\n@| context | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"x\",\"-\"]]}' /> | 是否返回节点对应的 Context 对象 |\n@| node | boolean | 否 | - | - | 是否返回节点对应的 Node 实例 |\n| callback | (result: any) => void | 否 | - | - |  | \n\n###### 返回值 \n\n| 类型 |\n| :- |\n| [SelectorQuery](#selectorquery-values) |\n \n\n###### context(callback: SelectorQueryNodeInfoCallback): SelectorQuery @context\n添加节点的 Context 对象查询请求\n###### context 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | x | x | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - |  | \n\n###### 返回值 \n\n| 类型 |\n| :- |\n| [SelectorQuery](#selectorquery-values) |\n \n\n###### node(callback: (result: any) => void): SelectorQuery @node\n获取 Node 节点实例。目前支持 Canvas 的获取。\n获取节点的相关信息，需要获取的字段在fields中指定\n###### node 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.25 | 4.25 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n###### 返回值 \n\n| 类型 |\n| :- |\n| [SelectorQuery](#selectorquery-values) |\n \n \n\n#### selectAll(selector: string): NodesRef @selectall\n在当前页面下选择匹配选择器selector的所有节点\n##### selectAll 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| selector | string | 是 | - | - | - | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| [NodesRef](#nodesref-values) |\n \n\n#### selectViewport(): NodesRef @selectviewport\n选择显示区域\n##### selectViewport 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| [NodesRef](#nodesref-values) |\n \n\n#### exec(callback: (result: Array\\<any>) => void \\| null): NodesRef \\| null @exec\n执行所有的请求\n##### exec 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: Array&lt;any&gt;) => void | 是 | - | - | - | \n\n##### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| [NodesRef](#nodesref-values) | 否 |\n \n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.dom.createSelectorQuery)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/wxml/SelectorQuery.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=createSelectorQuery&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=createSelectorQuery&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=createSelectorQuery&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=createSelectorQuery&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=createSelectorQuery)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=createSelectorQuery&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/create-selector-query/create-selector-query.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/create-selector-query/create-selector-query\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/create-selector-query/create-selector-query\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <view class=\"page\" id=\"page\">\r\n      <page-head :title=\"title\"></page-head>\r\n      <button class=\"btn btn-get-node-info\" @click=\"getNodeInfo\">getNodeInfo</button>\r\n      <button class=\"btn btn-get-all-node-info\" @click=\"getAllNodeInfo\">getAllNodeInfo</button>\r\n      <view id=\"rect-1-2\" class=\"rect-1-2\">\r\n        <view class=\"rect rect1\"></view>\r\n        <view class=\"rect rect2\"></view>\r\n      </view>\r\n      <view class=\"rect-info-1-2\">\r\n        <view class=\"rect-info\" v-for=\"(nodeInfo, index) in nodeInfoList\" :key=\"index\">\r\n          <view class=\"node-info-item\">\r\n            <text class=\"node-info-item-k\">left: </text>\r\n            <text class=\"node-info-item-v\">{{nodeInfo.left}}</text>\r\n          </view>\r\n          <view class=\"node-info-item\">\r\n            <text class=\"node-info-item-k\">top: </text>\r\n            <text class=\"node-info-item-v\">{{nodeInfo.top}}</text>\r\n          </view>\r\n          <view class=\"node-info-item\">\r\n            <text class=\"node-info-item-k\">right: </text>\r\n            <text class=\"node-info-item-v\">{{nodeInfo.right}}</text>\r\n          </view>\r\n          <view class=\"node-info-item\">\r\n            <text class=\"node-info-item-k\">bottom: </text>\r\n            <text class=\"node-info-item-v\">{{nodeInfo.bottom}}</text>\r\n          </view>\r\n          <view class=\"node-info-item\">\r\n            <text class=\"node-info-item-k\">width: </text>\r\n            <text class=\"node-info-item-v\">{{nodeInfo.width}}</text>\r\n          </view>\r\n          <view class=\"node-info-item\">\r\n            <text class=\"node-info-item-k\">height: </text>\r\n            <text class=\"node-info-item-v\">{{nodeInfo.height}}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      <node-child class=\"node-child\"></node-child>\r\n      <text>子组件多根节点</text>\r\n      <multi-child ref=\"multi-child\" id=\"multi-child\"></multi-child>\r\n      <text>子组件多根节点(仅测试，用于验证查询是否超出范围)</text>\r\n      <multi-child id=\"multi-child-2\"></multi-child>\r\n      <view>\r\n        <text>测试.fields</text>\r\n        <text>{{fieldsResultContainNode}}</text>\r\n      </view>\r\n      <view>\r\n        <text>测试.node</text>\r\n        <text>{{nodeResultContainNode}}</text>\r\n      </view>\r\n      <canvas id=\"canvas1\"></canvas>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .page {\r\n    padding: 15px;\r\n  }\r\n\r\n  .btn {\r\n    margin-top: 15px;\r\n  }\r\n\r\n  .rect-1-2 {\r\n    flex-direction: row;\r\n    margin-top: 15px;\r\n  }\r\n\r\n  .rect {\r\n    width: 150px;\r\n    height: 100px;\r\n  }\r\n\r\n  .rect1 {\r\n    background-color: dodgerblue;\r\n  }\r\n\r\n  .rect2 {\r\n    margin-left: auto;\r\n    background-color: seagreen;\r\n  }\r\n\r\n  .rect-info-1-2 {\r\n    flex-direction: row;\r\n    margin-top: 15px;\r\n  }\r\n\r\n  .rect-info {\r\n    flex: 1;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .node-info-item {\r\n    flex-direction: row;\r\n  }\r\n\r\n  .node-info-item-k {\r\n    width: 72px;\r\n    line-height: 2;\r\n  }\r\n\r\n  .node-info-item-v {\r\n    font-weight: bold;\r\n    line-height: 2;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  import nodeChild from './nodes-info-child.uvue'\r\n  import multiChild from './selector-query-child-multi.uvue'\r\n\r\n  type NodeInfoType = {\r\n    left : number | null,\r\n    top : number | null,\r\n    right : number | null,\r\n    bottom : number | null,\r\n    width : number | null,\r\n    height : number | null,\r\n  }\r\n\r\n  export default {\r\n    components: {\r\n      nodeChild,\r\n      multiChild\r\n    },\r\n    data() {\r\n      return {\r\n        title: 'createSelectorQuery',\r\n        nodeInfoList: [] as NodeInfoType[],\r\n        // 仅用于自动化测试\r\n        rootNodeInfo: null as NodeInfoType | null,\r\n        //供自动化测试使用\r\n        // resizeRectValid: false\r\n        // TODO\r\n        selectCount: 0,\r\n        selectAllCount: 0,\r\n        fieldsResultContainNode: false,\r\n        nodeResultContainNode: false\r\n      }\r\n    },\n    onLoad() {\n      uni.$on('childReady', this.onChildReady)\n    },\n    onUnload() {\n      uni.$off('childReady', this.onChildReady)\n    },\r\n    onReady() {\n      this.testFields()\n      this.testNode()\r\n    },\r\n    onResize() {\r\n      //供自动化测试使用\r\n      /* var rect12Element = uni.getElementById(\"rect-1-2\")\r\n      if(rect12Element != null) {\r\n        var domRect = rect12Element.getBoundingClientRect()\r\n        if(domRect.width > 100) {\r\n          this.resizeRectValid = true\r\n        }\r\n      } */\r\n    },\r\n    methods: {\n      // 仅用于自动化测试\n      onChildReady() {\n        const instance2 = (this.$refs['multi-child'] as ComponentPublicInstance);\n        this.selectCount = instance2.$data['selectCount'] as number;\n        this.selectAllCount = instance2.$data['selectAllCount'] as number;\n      },\r\n      // 仅用于自动化测试\r\n      getRootNodeInfo(selector : string) {\r\n        uni.createSelectorQuery().select(selector).boundingClientRect().exec((ret) => {\r\n          if (ret.length == 1) {\r\n            const nodeInfo = ret[0] as NodeInfo;\r\n            const nodeType = {\r\n              left: nodeInfo.left,\r\n              top: nodeInfo.top,\r\n              right: nodeInfo.right,\r\n              bottom: nodeInfo.bottom,\r\n              width: nodeInfo.width,\r\n              height: nodeInfo.height,\r\n            } as NodeInfoType;\r\n            this.rootNodeInfo = nodeType\r\n          }\r\n        })\r\n      },\r\n      getNodeInfo() {\r\n        uni.createSelectorQuery().select('.rect1').boundingClientRect().exec((ret) => {\r\n          this.nodeInfoList.length = 0\r\n          const i = ret[0] as NodeInfo\r\n          this.nodeInfoList.push({\r\n            left: i.left,\r\n            top: i.top,\r\n            right: i.right,\r\n            bottom: i.bottom,\r\n            width: i.width,\r\n            height: i.height,\r\n          } as NodeInfoType)\r\n        })\r\n      },\r\n      getAllNodeInfo() {\r\n        uni.createSelectorQuery().selectAll('.rect').boundingClientRect().exec((ret) => {\r\n          this.nodeInfoList.length = 0\r\n          const array = ret[0] as NodeInfo[]\r\n          array.forEach((i) => {\r\n            this.nodeInfoList.push({\r\n              left: i.left,\r\n              top: i.top,\r\n              right: i.right,\r\n              bottom: i.bottom,\r\n              width: i.width,\r\n              height: i.height,\r\n            } as NodeInfoType)\r\n          })\r\n        })\r\n      },\r\n      // test .fields\r\n      testFields() {\r\n        uni.createSelectorQuery().select('.rect1').fields({\r\n          node: true\r\n        } as NodeField, (ret) => {\r\n          const isElement = (ret as NodeInfo).node instanceof UniElement\r\n          if (isElement) {\r\n            this.fieldsResultContainNode = true\r\n          } else {\r\n            this.fieldsResultContainNode = false\r\n          }\r\n        }).exec()\r\n      },\r\n      // test .node\r\n      testNode() {\r\n        uni.createSelectorQuery().select('#canvas1').node((ret) => {\r\n          const isElement = (ret as NodeInfo).node instanceof UniElement\r\n          const isCanvasElement = ((ret as NodeInfo).node as UniCanvasElement).tagName == 'CANVAS'\r\n          if (isElement && isCanvasElement) {\r\n            this.nodeResultContainNode = true\r\n          } else {\r\n            this.nodeResultContainNode = false\r\n          }\r\n        }).exec()\r\n      },\r\n    }\r\n  }\r\n\n```\n\n:::"},"createIntersectionObserver":{"name":"## uni.createIntersectionObserver(component, options?) @createintersectionobserver","description":"创建并返回一个 IntersectionObserver 对象实例\n","compatibility":"### createIntersectionObserver 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| component | any | 是 | - | - | - |\n| options | **CreateIntersectionObserverOptions** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| thresholds | Array&lt;any&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 所有阈值 |\n@| initialRatio | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 初始的相交比例 |\n@| observeAll | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否同时观测多个参照节点（而非一个） |\n@| nativeMode | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `3.5.7`<br/><br/>是否使用原生观察器模式。<br/> | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [IntersectionObserver](#intersectionobserver-values) |\n\n#### IntersectionObserver 的方法 @intersectionobserver-values \n\n#### relativeTo(selector: string, margins?: any): IntersectionObserver; @relativeto\n使用选择器指定一个节点，作为参照区域之一\n##### relativeTo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| selector | string | 是 | - | - | - |\n| margins | any | 否 | - | - | - | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| [IntersectionObserver](#intersectionobserver-values) |\n \n\n#### relativeToViewport(margins?: any): IntersectionObserver; @relativetoviewport\n指定页面显示区域作为参照区域之一\n##### relativeToViewport 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| margins | any | 否 | - | - | - | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| [IntersectionObserver](#intersectionobserver-values) |\n \n\n#### observe(targetSelector: string, callback: ObserveCallback): void; @observe\n指定目标节点并开始监听相交状态变化情况\n##### observe 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| targetSelector | string | 是 | - | - | - |\n| callback | (result: [ObserveResult](#observeresult-values)) => void | 是 | - | - | - | \n\n##### ObserveResult 的属性值 @observeresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| intersectionRatio | number | 是 | - | - | 相交比例 |\n| intersectionRect | any | 是 | - | - | 相交区域的边界 |\n| boundingClientRect | **ObserveNodeRect** | 是 | - | - | 目标节点布局区域的边界 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| left | number | 是 | - | - | left |\n@| right | number | 是 | - | - | right |\n@| top | number | 是 | - | - | top |\n@| bottom | number | 是 | - | - | bottom |\n| relativeRect | [ObserveNodeRect](#observenoderect-values) | 是 | - | - | 参照区域的边界 |\n| time | number | 是 | - | - | 相交检测时的时间戳 |\n\n\n#### disconnect(): void; @disconnect\n停止监听\n##### disconnect 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | - | - | - |\n\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.createIntersectionObserver)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/wxml/IntersectionObserver.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/ui/intersection-observer.html#createintersectionobserver)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=createIntersectionObserver&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=createIntersectionObserver&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=createIntersectionObserver&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=createIntersectionObserver&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=createIntersectionObserver)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=createIntersectionObserver&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/create-intersection-observer/create-intersection-observer.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/create-intersection-observer/create-intersection-observer\n\n>Template\n```vue\n<template>\n\t<view>\n\t\t<page-head :title=\"title\"></page-head>\n\t\t<view class=\"uni-padding-wrap uni-common-mt\">\n\t\t\t<view class=\"uni-title uni-common-mt\">\n\t\t\t\t{{appear ? '小球出现' : '小球消失'}}\n\t\t\t</view>\n\t\t\t<scroll-view class=\"scroll-view\" scroll-y>\n\t\t\t\t<view class=\"scroll-area\">\n\t\t\t\t\t<text class=\"notice\">向下滚动让小球出现</text>\n\t\t\t\t\t<view class=\"ball\"></view>\n\t\t\t\t</view>\n\t\t\t</scroll-view>\n\t\t</view>\n\t</view>\n</template>\n\n<style>\n\t.scroll-view {\n\t\theight: 400rpx;\n\t\tbackground: #fff;\n\t\tborder: 1px solid #ccc;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.scroll-area {\n\t\theight: 1300rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\n\t.notice {\n\t\tmargin-top: 150rpx;\n\t\tmargin: 150rpx 0 400rpx 0;\n\t}\n\n\t.ball {\n\t\twidth: 200rpx;\n\t\theight: 200rpx;\n\t\tbackground: #4cd964;\n\t\tborder-radius: 100px;\n\t}\n</style>\n\n```\n\n>Script\n```uts\n\n  let observer: IntersectionObserver | null = null;\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tappear: false,\n\t\t\t\ttitle:'intersectionObserver'\n\t\t\t}\n\t\t},\n\t\tonReady() {\n\t\t\tobserver = uni.createIntersectionObserver(this,{});\n\t\t\tobserver.relativeTo('.scroll-view').observe('.ball', (res:ObserveResult) => {\n\t\t\t\tif (res.intersectionRatio > 0 && !this.appear) {\n\t\t\t\t\tthis.appear = true;\n\t\t\t\t} else if (res.intersectionRatio <= 0 && this.appear) {\n\t\t\t\t\tthis.appear = false;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\tonUnload() {\n\t\t\tif (observer) {\n\t\t\t\tobserver.disconnect()\n\t\t\t}\n\t\t}\n\t}\n\n```\n\n:::"},"showActionSheet":{"name":"## uni.showActionSheet(options) @showactionsheet","description":"从底部向上弹出操作菜单","compatibility":"### showActionSheet 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ShowActionSheetOptions** | 是 | - | - | uni.showActionSheet函数参数定义 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| title | string | 否 | - | - | 菜单标题 |\n@| alertText | string | 否 | - | - | 警示文案（仅微信小程序真机有效） |\n@| itemList | Array&lt;string&gt; | 是 | - | - | 按钮的文字数组 |\n@| itemColor | [string.ColorString](/uts/data-type.md#ide-string) | 否 | - | - | 按钮的文字颜色，字符串格式 |\n@| popover | **Popover** | 否 | - | - | 大屏设备弹出原生选择按钮框的指示区域，默认居中显示 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| top | number | 是 | - | - | 指示区域坐标，使用原生 navigationBar 时一般需要加上 navigationBar 的高度 |\n@@| left | number | 是 | - | - | 指示区域坐标 |\n@@| width | number | 是 | - | - | 指示区域宽度 |\n@@| height | number | 是 | - | - | 指示区域高度 |\n@| titleColor | [string.ColorString](/uts/data-type.md#ide-string) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.51\",\"x\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 菜单标题文字颜色，字符串格式 |\n@| cancelText | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.51\",\"x\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 取消按钮的文字，默认为\"取消\" |\n@| cancelColor | [string.ColorString](/uts/data-type.md#ide-string) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.51\",\"x\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 取消按钮的文字颜色，字符串格式 |\n@| backgroundColor | [string.ColorString](/uts/data-type.md#ide-string) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.51\",\"x\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 弹框背景颜色 |\n@| success | (result: [ShowActionSheetSuccess](#showactionsheetsuccess-values)) => void | 否 | - | - | 接口调用成功的回调函数 |\n@| fail | (result: [ShowActionSheetFail](#showactionsheetfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### ShowActionSheetSuccess 的属性值 @showactionsheetsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n| tapIndex | number | 是 | - | - | - |\n\n#### ShowActionSheetFail 的属性值 @showactionsheetfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | showActionSheet 错误码<br/>- 4: 框架内部异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.actionSheet.showActionSheet)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=showActionSheet&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=showActionSheet&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=showActionSheet&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=showActionSheet&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=showActionSheet&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=showActionSheet)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=showActionSheet&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/show-action-sheet/show-action-sheet.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/show-action-sheet/show-action-sheet\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/show-action-sheet/show-action-sheet\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1;\">\r\n  <!-- #endif -->\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-list\">\r\n      <radio-group @change=\"radioChange\">\r\n        <radio class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in items\" :key=\"item.value\"\r\n          :class=\"index < items.length - 1 ? 'uni-list-cell-line': ''\" :value=\"item.value\" :checked=\"index === current\">\r\n          {{item.name}}\r\n        </radio>\r\n      </radio-group>\r\n    </view>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">自定义 titleColor</view>\r\n        <switch :checked=\"titleColorCustom\" @change=\"titleColorChange\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">自定义 itemColor</view>\r\n        <switch :checked=\"itemColorCustom\" @change=\"itemColorChange\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">超长文本和空文本 item</view>\r\n        <switch :checked=\"itemContentLarge\" @change=\"itemContentLargeChange\" />\r\n      </view>\r\n      <!-- #ifndef MP -->\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">超过6个 item</view>\r\n        <switch :checked=\"itemNumLargeSelect\" @change=\"itemNumLargeChange\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">自定义 cancelText</view>\r\n        <switch :checked=\"cancelTextCustom\" @change=\"cancelTextChange\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">自定义 cancelColor</view>\r\n        <switch :checked=\"cancelColorCustom\" @change=\"cancelColorChange\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">自定义 backgroundColor</view>\r\n        <switch :checked=\"backgroundColorCustom\" @change=\"backgroundColorChange\" />\r\n      </view>\r\n      <!-- #endif -->\r\n    </view>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-btn-v\">\r\n        <button class=\"uni-btn-v\" type=\"default\" @tap=\"showActionSheet\" id=\"btn-action-sheet-show\">弹出action\r\n          sheet</button>\r\n          <button class=\"uni-btn-v uni-btn\" type=\"default\" @tap=\"showActionSheetAndShowAgainInCallback\" id=\"btn-action-sheet-show\">showActionSheet 并在回调中再次 showActionSheet</button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\n```\n\n>Script\n```uts\n\r\n  type ItemType = {\r\n    value : string,\r\n    name : string,\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'action-sheet',\r\n        titleColorCustom: false,\r\n        itemColorCustom: false,\r\n        itemContentLarge: false,\r\n        itemNumLargeSelect: false,\r\n        cancelTextCustom: false,\r\n        cancelColorCustom: false,\r\n        backgroundColorCustom: false,\r\n        showErrorToast: true,\r\n        items: [{\r\n          value: '标题',\r\n          name: '有标题'\r\n        },\r\n        {\r\n          value: '',\r\n          name: '无标题'\r\n        },\r\n        {\r\n          value: '超长标题测试内容，测试超过显示最大范围之后的样式-超长标题测试内容，测试超过显示最大范围之后的样式',\r\n          name: '超长标题'\r\n        }\r\n        ] as ItemType[],\r\n        current: 0,\r\n      // #ifdef APP\r\n        originTheme: null as string | null,\r\n      // #endif\r\n      }\r\n    },\r\n    onLoad() {\r\n      uni.showActionSheet({\r\n        title: \"onLoad 调用示例,请手动取消\",\r\n        itemList: ['item1', 'item2'],\r\n        complete: (res) => {\r\n          console.log('onLoad showActionSheet complete', res)\r\n        }\r\n      })\r\n      // #ifdef APP\r\n      this.originTheme = uni.getSystemInfoSync().appTheme\r\n      // #endif\r\n    },\r\n    methods: {\r\n      //自动化测试例专用\r\n      // #ifdef APP\r\n      setThemeAuto() {\r\n        uni.setAppTheme({\r\n          theme: 'auto'\r\n        })\r\n      },\r\n      resetTheme() {\r\n        const originTheme = this.originTheme\r\n        if(originTheme != null){\r\n          uni.setAppTheme({\r\n            theme: originTheme\r\n          })\r\n        }\r\n      },\r\n      // #endif\r\n      radioChange(e : UniRadioGroupChangeEvent) {\r\n        for (let i = 0; i < this.items.length; i++) {\r\n          if (this.items[i].value === e.detail.value) {\r\n            this.current = i;\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      titleColorChange(e : UniSwitchChangeEvent) {\r\n        this.titleColorCustom = e.detail.value\r\n      },\r\n      itemContentLargeChange: function (e : UniSwitchChangeEvent) {\r\n        this.itemContentLarge = e.detail.value\r\n      },\r\n      itemColorChange: function (e : UniSwitchChangeEvent) {\r\n        this.itemColorCustom = e.detail.value\r\n      },\r\n      itemNumLargeChange: function (e : UniSwitchChangeEvent) {\r\n        this.itemNumLargeSelect = e.detail.value\r\n      },\r\n      cancelTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.cancelTextCustom = e.detail.value\r\n      },\r\n      cancelColorChange: function (e : UniSwitchChangeEvent) {\r\n        this.cancelColorCustom = e.detail.value\r\n      },\r\n      backgroundColorChange: function (e : UniSwitchChangeEvent) {\r\n        this.backgroundColorCustom = e.detail.value\r\n      },\r\n      showActionSheet() {\r\n        const options: ShowActionSheetOptions = {\r\n          title: this.items[this.current].value,\r\n          itemList: ['item1', 'item2', 'item3', 'item4'],\r\n          success: (res) => {\r\n            console.log(res.tapIndex);\r\n            uni.showToast({\r\n              title: \"点击了第\" + res.tapIndex + \"个选项\",\r\n              icon: \"none\"\r\n            })\r\n          },\r\n          fail: (error) => {\r\n            if (this.showErrorToast) {\r\n              uni.showToast({\r\n                title: error.errMsg,\r\n                icon: \"none\"\r\n              })\r\n            }\r\n            console.log(error);\r\n          }\r\n        }\r\n        if (this.itemContentLarge) {\r\n          options.itemList = ['两个黄鹂鸣翠柳，一行白鹭上青天。窗含西岭千秋雪，门泊东吴万里船', '水光潋滟晴方好,山色空蒙雨亦奇。 欲把西湖比西子,淡妆浓抹总相宜', '']\r\n        }\r\n        if (this.itemNumLargeSelect) {\r\n          // 大量选项测试,不能超过6个元素 https://uniapp.dcloud.net.cn/api/ui/prompt.html#showactionsheet\r\n          const arr: string[] = []\r\n          for(let i = 0; i < 10; i++){\r\n            arr.push(`两个黄鹂鸣翠柳，一行白鹭上青天 ${i+1}`)\r\n          }\r\n          options.itemList = arr\r\n        }\r\n        if(this.titleColorCustom){\r\n          options.titleColor = '#007AFF'\r\n        }\r\n        if(this.itemColorCustom){\r\n          options.itemColor = '#ff00ff'\r\n        }\r\n        if(this.cancelTextCustom){\r\n          options.cancelText = 'custom cancel'\r\n        }\r\n        if(this.cancelColorCustom){\r\n          options.cancelColor = '#007AFF'\r\n        }\r\n        if(this.backgroundColorCustom){\r\n          options.backgroundColor = '#ccc'\r\n        }\r\n        uni.showActionSheet(options)\r\n      },\r\n      showActionSheetAndShowAgainInCallback(){\r\n        uni.showActionSheet({\r\n          title: '第一个',\r\n          itemList: ['1','2','3'],\r\n          complete(){\r\n              uni.showActionSheet({\r\n                title: '第二个',\r\n                itemList: ['a','b','c'],\r\n                complete: (res) => {\r\n                  console.log('showActionSheetAndShowAgainInCallback complete', res)\r\n                }\r\n              })\r\n          }\r\n        })\r\n      },\r\n      // 自动化测试\r\n      // #ifdef WEB\r\n      closeWebActionSheet(){\r\n        document.querySelector('.uni-action-sheet_dialog__cell').click()\r\n      },\r\n      // #endif\r\n      // 自动化测试\r\n      hideActionSheet(){\r\n        uni.hideActionSheet()\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"hideActionSheet":{"name":"## uni.hideActionSheet() @hideactionsheet","description":"关闭栈顶页面操作菜单","compatibility":"### hideActionSheet 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.51 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.51 | 4.51 | 4.51 | 4.51 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.actionSheet.hideActionSheet)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=hideActionSheet&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=hideActionSheet&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=hideActionSheet&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=hideActionSheet&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=hideActionSheet&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=hideActionSheet)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=hideActionSheet&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"showModal":{"name":"## uni.showModal(options) @showmodal","description":"显示模态弹窗，可以只有一个确定按钮，也可以同时有确定和取消按钮。类似于一个API整合了 html 中：alert、confirm。","compatibility":"### showModal 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ShowModalOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| title | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 提示的标题 |\n@| content | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 提示的内容 |\n@| showCancel | boolean | 否 | true<br/>是否显示取消按钮，默认为 true | - |  |\n@| cancelText | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 取消按钮的文字，默认为\"取消\" |\n@| cancelColor | [string.ColorString](/uts/data-type.md#ide-string) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 取消按钮的文字颜色，默认为\"#000000\" |\n@| confirmText | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 确定按钮的文字，默认为\"确定\" |\n@| confirmColor | [string.ColorString](/uts/data-type.md#ide-string) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 确定按钮的文字颜色 |\n@| editable | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否显示输入框 |\n@| placeholderText | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 显示输入框时的提示文本 |\n@| success | (result: [UniShowModalResult](#unishowmodalresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [UniShowModalFail](#unishowmodalfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### UniShowModalResult 的属性值 @unishowmodalresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| content | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | editable 为 true 时，用户输入的文本 |\n| cancel | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 为 true 时，表示用户点击了取消（用于 Android 系统区分点击蒙层关闭还是点击取消按钮关闭） |\n| confirm | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 为 true 时，表示用户点击了确定按钮 |\n\n#### UniShowModalFail 的属性值 @unishowmodalfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| [UniPage](/api/unipage.md) | 否 |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.modal.showModal)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showModal.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=showModal&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=showModal&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=showModal&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=showModal&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=showModal)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=showModal&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/show-modal/show-modal.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/show-modal/show-modal\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/show-modal/show-modal\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-list\">\r\n        <radio-group @change=\"radioChange\">\r\n          <radio class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in items\" :key=\"item.value\"\r\n            :class=\"index < items.length - 1 ? 'uni-list-cell-line' : ''\" :value=\"item.value\"\r\n            :checked=\"index === current\">\r\n            {{ item.name }}\r\n          </radio>\r\n        </radio-group>\r\n      </view>\r\n      <view class=\"uni-list\">\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">是否显示过长文字</view>\r\n          <switch :checked=\"showLongContent\" @change=\"showLongContentChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">是否显示取消按钮</view>\r\n          <switch :checked=\"showCancelSelect\" @change=\"showCancelChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">定制取消文案</view>\r\n          <switch :checked=\"cancelTextSelect\" @change=\"cancelTextChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">定制确认文案</view>\r\n          <switch :checked=\"confirmTextSelect\" @change=\"confirmTextChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">测试非法的颜色</view>\r\n          <switch :checked=\"illegalColorSelect\" @change=\"illegalColorChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">测试超长的按钮文本</view>\r\n          <switch :checked=\"illegalButtonTextSelect\" @change=\"illegalButtonTextChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">是否显示输入框</view>\r\n          <switch :checked=\"editableSelect\" @change=\"editableChange\" />\r\n        </view>\r\n        <view class=\"uni-list-cell uni-list-cell-pd\">\r\n          <view class=\"uni-list-cell-db\">是否定制输入提示词</view>\r\n          <switch :checked=\"placeholderTextSelect\" @change=\"placeholderTextChange\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-padding-wrap uni-common-mt\">\r\n        <text>complete 执行结果：{{ timesShowRet }}</text>\r\n        <view class=\"uni-btn-v\">\r\n          <button class=\"uni-btn-v\" type=\"primary\" @tap=\"modalTap\" id=\"btn-modal-show\">\r\n            modal单次弹出\r\n          </button>\r\n        </view>\r\n        <view class=\"uni-btn-v\">\r\n          <button class=\"uni-btn-v\" type=\"default\" @tap=\"modalTapTimes\" id=\"btn-modal-show-multitime\">\r\n            modal多次弹出\r\n          </button>\r\n        </view>\r\n        <!-- #ifndef MP -->\r\n        <view class=\"uni-btn-v\">\r\n          <button class=\"uni-btn-v\" type=\"default\" @tap=\"closeAllModal\" id=\"btn-modal-hide-all\">\r\n            延迟3s关闭全部弹窗\r\n          </button>\r\n        </view>\r\n        <view class=\"uni-btn-v\">\r\n          <button class=\"uni-btn-v\" type=\"default\" @tap=\"closeLastModal\" id=\"btn-modal-hide-last\">\r\n            延迟3s关闭最后一个弹窗\r\n          </button>\r\n        </view>\r\n        <!-- #endif -->\r\n        <text>\r\n          success/fail 执行结果：{{ exeRet }}\r\n        </text>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\n```\n\n>Script\n```uts\n\r\n  type ItemType = {\r\n    value : string,\r\n    name : string,\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'modal',\r\n        showCancelSelect: false,\r\n        showLongContent: false,\r\n        illegalColorSelect:false,\r\n        illegalButtonTextSelect:false,\r\n        cancelTextSelect: false,\r\n        confirmTextSelect: false,\r\n        editableSelect: false,\r\n        placeholderTextSelect: false,\r\n        exeRet: \"\",\r\n        lastModal : null as UniPage | null,\r\n        items: [{\r\n          value: '标题',\r\n          name: '有标题'\r\n        },\r\n        {\r\n          value: '',\r\n          name: '无标题'\r\n        },\r\n        {\r\n          value: '超长标题测试内容，测试超过显示最大范围之后的样式-超长标题测试内容，测试超过显示最大范围之后的样式',\r\n          name: '超长标题'\r\n        }\r\n        ] as ItemType[],\r\n        current: 0,\r\n        timesShowRet:[] as Array<any>,\r\n      }\r\n    },\r\n    onLoad() {\r\n      uni.showModal({\r\n        title: \"onLoad 调用示例,请手动取消\"\r\n      })\r\n    },\r\n    methods: {\r\n      showLongContentChange: function (e : UniSwitchChangeEvent) {\r\n        this.showLongContent = e.detail.value\r\n      },\r\n      illegalColorChange: function (e : UniSwitchChangeEvent) {\r\n        this.illegalColorSelect = e.detail.value\r\n      },\r\n      illegalButtonTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.illegalButtonTextSelect = e.detail.value\r\n      },\r\n      showCancelChange: function (e : UniSwitchChangeEvent) {\r\n        this.showCancelSelect = e.detail.value\r\n      },\r\n      cancelTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.cancelTextSelect = e.detail.value\r\n      },\r\n      confirmTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.confirmTextSelect = e.detail.value\r\n      },\r\n      editableChange: function (e : UniSwitchChangeEvent) {\r\n        this.editableSelect = e.detail.value\r\n      },\r\n      placeholderTextChange: function (e : UniSwitchChangeEvent) {\r\n        this.editableSelect = e.detail.value\r\n        this.placeholderTextSelect = e.detail.value\r\n      },\r\n      radioChange(e : UniRadioGroupChangeEvent) {\r\n        for (let i = 0; i < this.items.length; i++) {\r\n          if (this.items[i].value === e.detail.value) {\r\n            this.current = i;\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      closeLastModal: function () {\r\n        let that = this\r\n        setTimeout(function(){\r\n          uni.hideModal({\r\n            modalPage:that.lastModal,\r\n            success: (res) => {\r\n              that.exeRet = JSON.stringify(res)\r\n            },\r\n            fail: (res) => {\r\n              that.exeRet = JSON.stringify(res)\r\n            },\r\n            complete: (res) => {\r\n              that.timesShowRet.push(res)\r\n            }\r\n          })\r\n        },3000)\r\n      },\r\n      closeAllModal: function () {\r\n        let that = this\r\n        setTimeout(function(){\r\n          uni.hideModal({\r\n            modalPage:null,\r\n            success: (res) => {\r\n              that.exeRet = JSON.stringify(res)\r\n            },\r\n            fail: (res) => {\r\n              that.exeRet = JSON.stringify(res)\r\n            },\r\n            complete: (res) => {\r\n              that.timesShowRet.push(res)\r\n            }\r\n          })\r\n        },3000)\r\n\r\n      },\r\n      modalTapTimes: function () {\r\n        // 多次弹出前清空结果集合\r\n        this.timesShowRet = []\r\n        this.modalTap()\r\n        this.modalTap()\r\n        let that = this\r\n        setTimeout(function(){\r\n          that.modalTap()\r\n        },200)\r\n      },\r\n      modalTap: function () {\r\n         // 单次弹出前清空多次结果集合\r\n        this.timesShowRet = []\r\n\r\n        let cancelTextVal : string|null = null\r\n        let cancelColorVal = ''\r\n        if (this.cancelTextSelect) {\r\n          cancelTextVal = \"修改后的取消文本\"\r\n          cancelColorVal = \"#ff00ff\"\r\n        }else{\r\n          //#ifdef MP\r\n          cancelTextVal = \"取消\"\r\n          //#endif\r\n        }\r\n\r\n        let confirmTextVal : string|null = null\r\n        let confirmColorVal = ''\r\n        if (this.confirmTextSelect) {\r\n          confirmTextVal = \"修改后的确定文本\"\r\n          confirmColorVal = \"#0ff\"\r\n        }else{\r\n          //#ifdef MP\r\n          confirmTextVal = \"确定\"\r\n          //#endif\r\n        }\r\n        let placeholderTextVal = ''\r\n        let contentVal = \"弹窗内容，告知当前状态、信息和解决方法，描述文字尽量控制在三行内\"\r\n\r\n        if (this.showLongContent) {\r\n          contentVal = \"弹窗内容，告知当前状态、信息和解决方法，描述文字原则上可以无限多！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！\"\r\n        }\r\n        if (this.placeholderTextSelect) {\r\n          placeholderTextVal = \"定制提示信息\"\r\n        }\r\n        if (this.illegalColorSelect) {\r\n          cancelColorVal = \"#WW00ff\"\r\n          confirmColorVal = \"#0ffff\"\r\n        }\r\n        if (this.illegalButtonTextSelect) {\r\n          confirmTextVal = \"超长版文字-修改后的确定文本-超长版本文字\"\r\n          cancelTextVal = \"超长版文字-修改后的取消文本-超长版本文字\"\r\n        }\r\n\r\n        let op = {\r\n          title: this.items[this.current].value,\r\n          editable: this.editableSelect,\r\n          placeholderText: placeholderTextVal,\r\n          content: contentVal,\r\n          showCancel: this.showCancelSelect,\r\n          cancelText: cancelTextVal,\r\n          cancelColor: cancelColorVal,\r\n          confirmText: confirmTextVal,\r\n          confirmColor: confirmColorVal,\r\n          success: (res) => {\r\n            this.exeRet = JSON.stringify(res)\r\n          },\r\n          fail: (res) => {\r\n            this.exeRet = JSON.stringify(res)\r\n          },\r\n          complete: (res) => {\r\n            this.timesShowRet.push(res)\r\n          }\r\n        } as ShowModalOptions\r\n        // console.log(op)\r\n        this.lastModal = uni.showModal(op)\r\n      }\r\n\r\n    }\r\n  }\r\n\n```\n\n:::"},"hideModal":{"name":"## uni.hideModal(options?) @hidemodal","description":"隐藏已弹出的对话框实例，如果 `modalPage` 参数为空，则隐藏当前栈顶全部对话框","compatibility":"### hideModal 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.61 | - | 4.61 | 4.61 | 4.61 | 4.61 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **HideModalOptions** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| modalPage | [UniPage](/api/unipage.md) | 否 | - | - | 期望隐藏的目标modal 如果为null 会关闭当前栈顶全部modal |\n@| success | (result: UniHideModalResult) => void | 否 | - | - | 接口调用成功的回调函数 |\n@| fail | (result: [UniHideModalFail](#unihidemodalfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### UniHideModalFail 的属性值 @unihidemodalfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.modal.hideModal)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=hideModal&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=hideModal&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=hideModal&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=hideModal&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=hideModal&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=hideModal)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=hideModal&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"showLoading":{"name":"## uni.showLoading(options) @showloading","description":"显示 loading 提示框, 需主动调用 uni.hideLoading 才能关闭提示框。","compatibility":"### showLoading 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ShowLoadingOptions** | 是 | - | - | uni.showLoading参数定义 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| title | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 提示的内容，长度与 icon 取值有关。 |\n@| mask | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否显示透明蒙层，防止触摸穿透，默认：false |\n@| success | (res: ShowLoadingSuccess) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.showLoading成功回调函数定义 |\n@| fail | (res: [IPromptError](#iprompterror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.showLoading失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.showLoading完成回调函数定义 | \n\n#### IPromptError 的属性值 @iprompterror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1 | - | 撤销 |\n@| 1001 | - | 请求参数非法 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.loading.showLoading)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showLoading.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=showLoading&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=showLoading&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=showLoading&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=showLoading&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=showLoading)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=showLoading&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/show-loading/show-loading.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/show-loading/show-loading\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/show-loading/show-loading\n\n>Template\n```vue\n<template>\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">是否显示透明蒙层-屏蔽点击事件</view>\r\n        <switch :checked=\"maskSelect\" @change=\"maskChange\" />\r\n      </view>\r\n      <view class=\"uni-padding-wrap\">\r\n        <view class=\"uni-title uni-common-mt\">\r\n          <text class=\"uni-title-text\"> 设置标题 </text>\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list uni-common-pl\">\r\n        <radio-group @change=\"radioChange\">\r\n          <radio class=\"uni-list-cell uni-list-cell-pd radio\" v-for=\"(item, index) in items\" :key=\"item.value\"\r\n            :class=\"index < items.length - 1 ? 'uni-list-cell-line' : ''\" :value=\"item.value\"\r\n            :checked=\"index === current\">\r\n            {{ item.name }}\r\n          </radio>\r\n        </radio-group>\r\n      </view>\r\n    </view>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-btn-v\">\r\n        <button class=\"uni-btn-v\" type=\"primary\" @click=\"showLoading\">显示 loading 提示框</button>\r\n        <button class=\"uni-btn-v\" @click=\"hideLoading\">隐藏 loading 提示框</button>\r\n        <text>为方便演示，loading弹出3秒后自动关闭</text>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\n\n```\n\n>Script\n```uts\n\r\n  type ItemType = {\r\n    value : string\r\n    name : string\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'loading',\r\n        items: [\r\n          {\r\n            value: 'null',\r\n            name: '无标题',\r\n          },\r\n          {\r\n            value: '三秒后自动关闭',\r\n            name: '普通标题',\r\n          },\r\n          {\r\n            value: '超长文本内容，测试超出范围-超长文本内容，测试超出范围-三秒后自动关闭',\r\n            name: '长标题',\r\n          },\r\n        ] as ItemType[],\r\n        current: 0,\r\n        maskSelect: false,\r\n        titleSelect: \"null\"\r\n      }\r\n    },\r\n    onLoad() {\r\n      uni.showLoading({\r\n        title: 'onLoad 调用示例,2秒后消失'\r\n      })\r\n      setTimeout(function () {\r\n        uni.hideLoading()\r\n      }, 2000);\r\n    },\r\n    methods: {\r\n      //自动化测试例专用\r\n      jest_getWindowInfo() : GetWindowInfoResult {\r\n        return uni.getWindowInfo();\r\n      },\r\n\r\n      radioChange(e : UniRadioGroupChangeEvent) {\r\n        const selected = this.items.find((item) : boolean => {\r\n          return item.value == e.detail.value\r\n        })\r\n        if (selected != null) {\r\n          this.titleSelect = selected.value\r\n        }\r\n      },\r\n      maskChange: function (e : UniSwitchChangeEvent) {\r\n        this.maskSelect = e.detail.value\r\n      },\r\n      showLoading: function () {\r\n\r\n        console.log(this.titleSelect)\r\n        if (this.titleSelect == \"null\") {\r\n          uni.showLoading({\r\n            title: \"\",\r\n            mask: this.maskSelect\r\n          });\r\n        } else {\r\n          uni.showLoading({\r\n            title: this.titleSelect,\r\n            mask: this.maskSelect\r\n          });\r\n        }\r\n        setTimeout(() => {\r\n          this.hideLoading();\r\n        }, 3000);\r\n      },\r\n      hideLoading: function () {\r\n        uni.hideLoading();\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"hideLoading":{"name":"## uni.hideLoading() @hideloading","description":"隐藏 loading 提示框。","compatibility":"### hideLoading 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.loading.hideLoading)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.hideLoading.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=hideLoading&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=hideLoading&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=hideLoading&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=hideLoading&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=hideLoading)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=hideLoading&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"showToast":{"name":"## uni.showToast(options) @showtoast","description":"显示消息提示框","compatibility":"### showToast 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ShowToastOptions** | 是 | - | - | uni.showToast参数定义 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| title | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 提示的内容，长度与 icon 取值有关。 |\n@| icon | string | 否 | \"success\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"x\"]]}' /> | icon值说明 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| success | - | 显示成功图标 |\n@@| error | - | 显示错误图标 |\n@@| fail | - | 显示错误图标，此时title文本无长度显示 |\n@@| exception | - | 显示异常图标，此时title文本无长度显示 |\n@@| loading | - | 显示加载图标 |\n@@| none | - | 不显示图标 |\n@| image | [string.ImageURIString](/uts/data-type.md#ide-string) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 自定义图标的本地路径（app端暂不支持gif） |\n@| mask | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 是否显示透明蒙层，防止触摸穿透 |\n@| duration | number | 否 | 1500 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 提示的延迟时间，单位毫秒 |\n@| position | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | position值说明。纯文本轻提示显示位置，填写有效值后只有 title 属性生效，且不支持通过 uni.hideToast 隐藏。 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| top | - | 居上显示 |\n@@| center | - | 居中显示 |\n@@| bottom | - | 居底显示 |\n@| success | (res: ShowToastSuccess) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.showToast成功回调函数定义 |\n@| fail | (res: [IPromptError](#iprompterror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.showToast失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.showToast完成回调函数定义 | \n\n#### IPromptError 的属性值 @iprompterror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1 | - | 撤销 |\n@| 1001 | - | 请求参数非法 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.toast.showToast)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=showToast&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=showToast&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=showToast&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=showToast&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=showToast)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=showToast&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/show-toast/show-toast.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/show-toast/show-toast\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/show-toast/show-toast\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view direction=\"vertical\" style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-padding-wrap\">\r\n        <text class=\"uni-title-text uni-common-mb\">设置icon</text>\r\n      </view>\r\n      <view class=\"uni-list uni-common-pl\">\r\n        <radio-group @change=\"radioChangeIcon\">\r\n          <radio class=\"uni-list-cell uni-list-cell-pd radio-icon\" v-for=\"(icon, index) in icon_enum\" :key=\"icon.value\"\r\n            :class=\"index < icon_enum.length - 1 ? 'uni-list-cell-line' : ''\" :value=\"icon.value\"\r\n            :checked=\"index === icon_current\">{{icon.name}}</radio>\r\n        </radio-group>\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <view class=\"uni-list-cell-db\">是否显示自定义图标</view>\r\n        <switch :checked=\"imageSelect\" @change=\"change_image_boolean\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-padding\">\r\n        <view class=\"uni-list-cell-db\">是否显示透明蒙层-屏蔽点击事件</view>\r\n        <switch :checked=\"maskSelect\" @change=\"change_mask_boolean\" />\r\n      </view>\r\n      <view class=\"uni-title uni-list-cell-padding\">提示的延迟时间，默认：1500（单位毫秒）</view>\r\n      <view class=\"uni-list-cell-padding\">\r\n        <slider @change=\"sliderChange\" foreColor=\"#007AFF\" :value=\"intervalSelect\" :min=\"1500\" :max=\"5000\"\r\n          :show-value=\"true\" />\r\n      </view>\r\n      <view class=\"uni-btn-v\">\r\n        <button class=\"uni-btn-v\" type=\"default\" @tap=\"toast1Tap\" id=\"btn-toast-default\">点击弹出toast</button>\r\n        <button class=\"uni-btn-v\" type=\"default\" @tap=\"hideToast\" id=\"btn-toast-hide\">点击隐藏toast</button>\r\n      </view>\r\n      <!-- #ifdef APP -->\r\n      <view class=\"uni-padding-wrap uni-common-mt\">\r\n        <text class=\"uni-title-text uni-common-mb\"> 设置position，仅App生效 </text>\r\n      </view>\r\n      <view class=\"uni-list uni-common-pl\">\r\n        <radio-group @change=\"radioChangePosition\">\r\n          <radio class=\"uni-list-cell uni-list-cell-pd radio-position\" v-for=\"(position, index) in position_enum\"\r\n            :key=\"position.value\" :class=\"index < position_enum.length - 1 ? 'uni-list-cell-line' : ''\"\r\n            :value=\"position.value\" :checked=\"index === position_current\">{{position.name}}</radio>\r\n        </radio-group>\r\n      </view>\r\n      <button class=\"uni-btn uni-btn-v uni-common-mb\" type=\"default\" @tap=\"toast2Tap\">点击弹出设置position的toast</button>\r\n      <!-- #endif -->\r\n      <text>{{exeRet}}</text>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\n\n```\n\n>Script\n```uts\n\r\n  type IconItemType = {\r\n    value : \"success\" | \"error\" | \"fail\" | \"exception\" | \"loading\" | \"none\";\r\n    name : string\r\n  }\r\n  type PositionItemType = {\r\n    value : \"top\" | \"center\" | \"bottom\";\r\n    name : string\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'toast',\r\n        exeRet: '',\r\n        imageSelect: false,\r\n        maskSelect: false,\r\n        intervalSelect: 1500,\r\n        position_current: 0,\r\n        position_enum: [\r\n          { \"value\": \"top\", \"name\": \"top: 居上显示（Android 暂不支持）\" },\r\n          { \"value\": \"center\", \"name\": \"center: 居中显示（Android 暂不支持）\" },\r\n          { \"value\": \"bottom\", \"name\": \"bottom: 居底显示\" },\r\n        ] as PositionItemType[],\r\n        icon_current: 0,\r\n        icon_enum: [\r\n          {\r\n            value: 'success',\r\n            name: '显示成功图标',\r\n          },\r\n          {\r\n            value: 'error',\r\n            name: '显示错误图标',\r\n          },\r\n          // {\r\n          //   value: 'fail',\r\n          //   name: '显示错误图标',\r\n          // },\r\n          // {\r\n          //   value: 'exception',\r\n          //   name: '显示异常图标，此时title文本无长度显示',\r\n          // },\r\n          {\r\n            value: 'loading',\r\n            name: '显示加载图标',\r\n          },\r\n          {\r\n            value: 'none',\r\n            name: '不显示图标',\r\n          },\r\n        ] as IconItemType[],\r\n      }\r\n    },\r\n    onLoad() {\r\n      uni.showToast({\r\n        title: 'onLoad 调用示例,2秒后消失'\r\n      })\r\n      setTimeout(function () {\r\n        uni.hideToast()\r\n      }, 2000);\r\n    },\r\n    methods: {\r\n      //自动化测试例专用\r\n      jest_getWindowInfo() : GetWindowInfoResult {\r\n        return uni.getWindowInfo();\r\n      },\r\n      radioChangeIcon(e : UniRadioGroupChangeEvent) {\r\n        for (let i = 0; i < this.icon_enum.length; i++) {\r\n          if (this.icon_enum[i].value === e.detail.value) {\r\n            this.icon_current = i;\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      change_image_boolean: function (e : UniSwitchChangeEvent) {\r\n        this.imageSelect = e.detail.value\r\n      },\r\n      change_mask_boolean: function (e : UniSwitchChangeEvent) {\r\n        this.maskSelect = e.detail.value\r\n      },\r\n      sliderChange(e : UniSliderChangeEvent) {\r\n        this.intervalSelect = e.detail.value\r\n      },\r\n      radioChangePosition(e : UniRadioGroupChangeEvent) {\r\n        for (let i = 0; i < this.position_enum.length; i++) {\r\n          if (this.position_enum[i].value === e.detail.value) {\r\n            this.position_current = i;\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      toast1Tap: function () {\r\n        uni.showToast({\r\n          title: \"默认\",\r\n          icon: this.icon_enum[this.icon_current].value,\r\n          duration: this.intervalSelect,\r\n          image: this.imageSelect ? \"/static/uni.png\" : null,\r\n          mask: this.maskSelect,\r\n          success: (res) => {\r\n            // console.log('success:',res)\r\n            this.exeRet = \"success:\" + JSON.stringify(res)\r\n          },\r\n          fail: (res) => {\r\n            this.exeRet = \"fail:\" + JSON.stringify(res)\r\n          },\r\n        })\r\n      },\n      toast3Tap: function () {\n        uni.showToast({\n          title: \"默认\",\n          icon: 'none',\n          duration: this.intervalSelect,\n          image: this.imageSelect ? \"/static/uni.png\" : null,\n          mask: this.maskSelect,\n          success: (res) => {\n            // console.log('success:',res)\n            this.exeRet = \"success:\" + JSON.stringify(res)\n          },\n          fail: (res) => {\n            this.exeRet = \"fail:\" + JSON.stringify(res)\n          },\n        })\n      },\r\n      // #ifdef APP\r\n      toast2Tap: function () {\r\n        let positionValue = this.position_enum[this.position_current].value\r\n        uni.showToast({\r\n          title: \"显示一段轻提示,position:\" + positionValue,\r\n          position: positionValue,\r\n          success: (res) => {\r\n            this.exeRet = \"success:\" + JSON.stringify(res)\r\n          },\r\n          fail: (res) => {\r\n            this.exeRet = \"fail:\" + JSON.stringify(res)\r\n          },\r\n        })\r\n      },\r\n      // #endif\r\n      hideToast: function () {\r\n        uni.hideToast()\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"hideToast":{"name":"## uni.hideToast() @hidetoast","description":"隐藏消息提示框。","compatibility":"### hideToast 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.toast.hideToast)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.hideToast.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=hideToast&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=hideToast&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=hideToast&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=hideToast&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=hideToast)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=hideToast&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"loadFontFace":{"name":"## uni.loadFontFace(options) @loadfontface","description":"动态加载网络字体\n","compatibility":"### loadFontFace 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | √ | 4.10 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **LoadFontFaceOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| global | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"x\",\"4.65\"]]}' /> | 是否全局生效。微信小程序 '2.10.0'起支持全局生效，需在 app.vue 中调用。 |\n@| family | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.10\",\"4.61\"]]}' /> | 定义的字体名称 |\n@| source | [string.FontURIString](/uts/data-type.md#ide-string) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.10\",\"4.61\"]]}' /> | 字体资源的地址, App-Android 平台不支持 woff、woff2 格式字体文件 |\n@| desc | **LoadFontFaceOptionDesc** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"4.10\",\"x\"]]}' /> | 可选的字体描述符 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| style | string | 否 | - | - |  |\n@@| weight | string | 否 | - | - |  |\n@@| variant | string | 否 | - | - |  |\n@| success | (result: [AsyncApiSuccessResult](#asyncapisuccessresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.10\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (error: [LoadFontFaceFail](#loadfontfacefail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.10\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (res: [AsyncApiResult](#asyncapiresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"√\",\"4.10\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| scopes | Array&lt;any&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 字体作用范围，可选值为 webview / native，默认 webview，设置 native 可在 Canvas 2D 下使用<br/> | \n\n#### AsyncApiSuccessResult 的属性值 @asyncapisuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n\n#### LoadFontFaceFail 的属性值 @loadfontfacefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 4 | - | 框架内部异常 |\n@| 99 | - | page is not ready |\n@| 101 | - | 参数错误 |\n@| 100001 | - | family is null |\n@| 100002 | - | source is null |\n@| 200001 | - | local font not found |\n@| 300001 | - | same source task is loading |\n@| 300002 | - | download fail |\n| status | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 加载字体结果<br/> |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### AsyncApiResult 的属性值 @asyncapiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Promise\\<**AsyncApiSuccessResult**> | 否 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| errMsg | string | 是 | - | - | - | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.loadFontFace)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ui/font/wx.loadFontFace.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=loadFontFace&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=loadFontFace&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=loadFontFace&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=loadFontFace&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=loadFontFace)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=loadFontFace&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/load-font-face/load-font-face.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/load-font-face/load-font-face\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/load-font-face/load-font-face\n\n>Template\n```vue\n<template>\r\n  <page-head title=\"loadFontFace\"></page-head>\r\n  <view class=\"uni-padding-wrap\">\r\n    <text class=\"font-size-20\">全局加载字体：</text>\r\n    <text class=\"font-size-20 line-height-40\" style=\"font-family: UniFontFamily\">font-family: uni.ttf</text>\r\n    <view style=\"flex-direction: row;\">\r\n      <!-- 微信小程序只支持加载网络字体 -->\r\n      <!-- #ifdef MP-WEIXIN -->\r\n      <text class=\"font-size-20\" style=\"font-family: UniFontFamily2;\">{{uniIcon3}}</text>\r\n      <text class=\"icon-text\">\\ue102</text>\r\n      <!-- #endif -->\r\n      <!-- #ifndef MP-WEIXIN -->\r\n      <text class=\"font-size-20\" style=\"font-family: UniFontFamily;\">{{uniIcon1}}</text>\r\n      <text class=\"icon-text\">\\ue100</text>\r\n      <text class=\"font-size-20\" style=\"font-family: UniFontFamily;\">{{uniIcon2}}</text>\r\n      <text style=\"margin-left:5px;line-height:22px;\">\\ue101</text>\r\n      <!-- #endif -->\r\n    </view>\n    <!-- #ifndef APP-HARMONY -->\r\n    <text class=\"uni-common-mt font-size-20\">非全局加载字体：</text>\n    <!-- #endif -->\n    <text class=\"font-size-20 line-height-40\">font-family: uni.ttf(base64格式)</text>\n    <view style=\"flex-direction: row;\">\n      <text class=\"font-size-20\" style=\"font-family: UniFontFamily2;\">{{uniIcon3}}</text>\n      <text class=\"icon-text\">\\ue102</text>\n    </view>\r\n    <text class=\"font-size-20 line-height-40\" style=\"font-family: AlimamaDaoLiTiTTF\">font-family: 阿里妈妈刀隶体-ttf\r\n      (网络字体下载后生效)</text>\r\n    <text class=\"font-size-20 line-height-40\" style=\"font-family: AlimamaDaoLiTiOTF\">font-family:\r\n      阿里妈妈刀隶体-otf</text>\r\n    <text class=\"item\" style=\"font-family: AlimamaDaoLiTiWOFF\">font-family: 阿里妈妈刀隶体-woff</text>\r\n    <text class=\"item\" style=\"font-family: AlimamaDaoLiTiWOFF2\">font-family: 阿里妈妈刀隶体-woff2</text>\r\n    <button class=\"uni-btn\" @click=\"navigateToChild\">跳转子页面测试字体生效范围</button>\r\n  </view>\r\n</template>\r\n\r\n\r\n<style>\r\n  .font-size-20 {\r\n    font-size: 20px;\r\n  }\r\n\r\n  .line-height-40 {\r\n    line-height: 40px;\r\n  }\r\n\r\n  .icon-text{\r\n    margin-left:5px;\r\n    margin-right: 20px;\r\n    line-height:22px;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        uniIcon1: '\\ue100',\r\n        uniIcon2: '\\ue101',\n        uniIcon3: '\\ue102'\r\n      }\r\n    },\r\n    onLoad() {\r\n      uni.loadFontFace({\r\n        global: true,\r\n        family: 'UniFontFamily',\r\n        source: \"url('/static/font/uni.ttf')\",\r\n        success() {\r\n          console.log('global loadFontFace uni.ttf success')\r\n        },\r\n        fail(error) {\r\n          console.warn('global loadFontFace uni.ttf fail', error.errMsg)\r\n        },\r\n      })\n      uni.loadFontFace({\n        family: 'UniFontFamily2',\n        source: \"url(data:font/ttf;charset=utf-8;base64,AAEAAAAKAIAAAwAgT1MvMjpAVPQAAACsAAAAYGNtYXAADeKoAAABDAAAAUJnbHlmUL6yUwAAAlAAAAEYaGVhZBeGAMAAAANoAAAANmhoZWED3gOCAAADoAAAACRobXR4BCEAAAAAA8QAAAAGbG9jYQCMAAYAAAPMAAAABm1heHABEQBiAAAD1AAAACBuYW1le6YhIAAAA/QAAAMecG9zdNTj4UYAAAcUAAAAMAAEBAABkAAFAAACiQLMAAAAjwKJAswAAAHrADIBCAAAAgAFAwAAAAAAAAAAAAAQAAAAAAAAAAAAAABQZkVkAEDhAuECA4D/gABcA4AAgAAAAAEAAAAAAgACzQAAAAAAAAAAAAMAAAADAAAAHAABAAAAAAA8AAMAAQAAABwABAAgAAAABAAEAAEAAOEC//8AAOEC//8e/wABAAAAAAAAAQYAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFACH/rAPgA1QACwAXACwAOABVAAABPgE3LgEnDgEHHgE3LgEnPgE3HgEXDgEHIgYHFhc2Nx4BFxYnIQYHIRYnLgEBPgE3LgEnDgEHHgE3IiY9ASMuATQ2OwE1NDYyFh0BMzIWFAYHIxUUBgJpTmkCAmhPTmkCAmlOMUIBAUIxMUIBAUIxOmUpGxU/WZScAQER/oUBCgFyagECxP3iW3wCAntcXHsDA3tcCxFSCw8PC1IRFxBSCw8PC1IQAccCclVVbQICb1NVcj8BTDs5SQEBSTk6TXcZFhYcHwEGiTsNASEgAUZbsf4hAnxcXHsCAntcXXtKDg1YAQ8WD1kMDg4MWQ8WDwFYDQ4AAAAAAQAAAAEAAKwmoyNfDzz1AAsEAAAAAADaMRNzAAAAANo0qVAAIf+sA+ADVAAAAAgAAgAAAAAAAAABAAADgP+AAFwEAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQQAAAAAIQAAAAAABgCMAAAAAQAAAAIAVgAFAAAAAAACAAAACgAKAAAA/wAAAAAAAAAAABIA3gABAAAAAAAAABMAAAABAAAAAAABAAgAEwABAAAAAAACAAcAGwABAAAAAAADABUAIgABAAAAAAAEAAgANwABAAAAAAAFADsAPwABAAAAAAAGAAgAegABAAAAAAAKACsAggABAAAAAAALABMArQADAAEECQAAACYAwAADAAEECQABABAA5gADAAEECQACAA4A9gADAAEECQADACoBBAADAAEECQAEABABLgADAAEECQAFAHYBPgADAAEECQAGABABtAADAAEECQAKAFYBxAADAAEECQALACYCGkNyZWF0ZWQgYnkgaWNvbmZvbnR1bmlpY29uc1JlZ3VsYXJ1bmlpY29uczpWZXJzaW9uIDEuMDB1bmlpY29uc1ZlcnNpb24gMS4wMDtKYW51YXJ5IDMsIDIwMjA7Rm9udENyZWF0b3IgMTIuMC4wLjI1MzUgNjQtYml0dW5paWNvbnNHZW5lcmF0ZWQgYnkgc3ZnMnR0ZiBmcm9tIEZvbnRlbGxvIHByb2plY3QuaHR0cDovL2ZvbnRlbGxvLmNvbQBDAHIAZQBhAHQAZQBkACAAYgB5ACAAaQBjAG8AbgBmAG8AbgB0AHUAbgBpAGkAYwBvAG4AcwBSAGUAZwB1AGwAYQByAHUAbgBpAGkAYwBvAG4AcwA6AFYAZQByAHMAaQBvAG4AIAAxAC4AMAAwAHUAbgBpAGkAYwBvAG4AcwBWAGUAcgBzAGkAbwBuACAAMQAuADAAMAA7AEoAYQBuAHUAYQByAHkAIAAzACwAIAAyADAAMgAwADsARgBvAG4AdABDAHIAZQBhAHQAbwByACAAMQAyAC4AMAAuADAALgAyADUAMwA1ACAANgA0AC0AYgBpAHQAdQBuAGkAaQBjAG8AbgBzAEcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAAcwB2AGcAMgB0AHQAZgAgAGYAcgBvAG0AIABGAG8AbgB0AGUAbABsAG8AIABwAHIAbwBqAGUAYwB0AC4AaAB0AHQAcAA6AC8ALwBmAG8AbgB0AGUAbABsAG8ALgBjAG8AbQAAAAIAAAAAAAAACgABAAAAAAAAAAAAAAAAAAAAAAAAAAIAAgAAAQIJcGVyc29uYWRk)\",\n        success() {\n          console.log('loadFontFace uni.ttf(base64 format) success')\n        },\n        fail(error) {\n          console.warn('loadFontFace uni.ttf(base64 format) fail', error.errMsg)\n        },\n      })\r\n      uni.loadFontFace({\r\n        family: 'AlimamaDaoLiTiTTF',\r\n        source:\r\n          \"url('https://qiniu-web-assets.dcloud.net.cn/uni-app-x/static/font/AlimamaDaoLiTi.ttf')\",\r\n        success() {\r\n          console.log('loadFontFace Remote AlimamaDaoLiTi.ttf success')\r\n        },\r\n        fail(error) {\r\n          console.warn('loadFontFace Remote AlimamaDaoLiTi.ttf fail', error.errMsg)\r\n        },\r\n      })\r\n      uni.loadFontFace({\r\n        family: 'AlimamaDaoLiTiOTF',\r\n        source: \"url('/static/font/AlimamaDaoLiTi.otf')\",\r\n        success() {\r\n          console.log('loadFontFace AlimamaDaoLiTi.otf success')\r\n        },\r\n        fail(error) {\r\n          console.warn('loadFontFace AlimamaDaoLiTi.otf fail', error.errMsg)\r\n        },\r\n      })\r\n      uni.loadFontFace({\r\n        family: 'AlimamaDaoLiTiWOFF',\r\n        source: \"url('/static/font/AlimamaDaoLiTi.woff')\",\r\n        success() {\r\n          console.log('loadFontFace AlimamaDaoLiTi.woff success')\r\n        },\r\n        fail(error) {\r\n          console.warn('loadFontFace AlimamaDaoLiTi.woff fail', error.errMsg)\r\n        },\r\n      })\r\n      uni.loadFontFace({\r\n        family: 'AlimamaDaoLiTiWOFF2',\r\n        source: \"url('/static/font/AlimamaDaoLiTi.woff2')\",\r\n        success() {\r\n          console.log('loadFontFace AlimamaDaoLiTi.woff2 success')\r\n        },\r\n        fail(error) {\r\n          console.warn('loadFontFace AlimamaDaoLiTi.woff2 fail', error.errMsg)\r\n        },\r\n      })\r\n    },\r\n    methods: {\r\n      navigateToChild() {\r\n        uni.navigateTo({\r\n          url: '/pages/API/load-font-face/load-font-face-child',\r\n        })\r\n      },\r\n    },\r\n  }\r\n\n```\n\n:::"},"rpx2px":{"name":"## uni.rpx2px(number) @rpx2px","description":"将rpx单位值转换成px","compatibility":"### rpx2px 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.02 | 4.41 | 4.02 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| number | number | 是 | - | - | - | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| number |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.rpx2px)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/rpx2px/rpx2px.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/rpx2px/rpx2px\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/rpx2px/rpx2px\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <view class=\"page\">\r\n      <page-head :title=\"title\"></page-head>\r\n      <view>\r\n        <view class=\"item\">\r\n          <text class=\"item-k\">输入:</text>\r\n          <text class=\"item-v\">{{rpxValue}}rpx</text>\r\n        </view>\r\n        <view class=\"item\">\r\n          <text class=\"item-k\">返回:</text>\r\n          <text class=\"item-v\">{{pxValue}}px</text>\r\n        </view>\r\n      </view>\r\n      <view>\r\n        <button id=\"convert\" @click=\"rpx2px\">转换</button>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n<style>\r\n  .page {\r\n    padding: 15px;\r\n  }\r\n\r\n  .item {\r\n    flex-direction: row;\r\n  }\r\n\r\n  .item-k {\r\n    width: 72px;\r\n    line-height: 2;\r\n  }\r\n\r\n  .item-v {\r\n    font-weight: bold;\r\n    line-height: 2;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'rpx2px',\r\n        rpxValue: 750,\r\n        pxValue: 0,\r\n        result: false\r\n      }\r\n    },\r\n    methods: {\r\n      rpx2px: function () {\r\n        this.pxValue = uni.rpx2px(this.rpxValue);\r\n\r\n        // 仅限自动化测试\r\n        const windowInfo = uni.getWindowInfo();\r\n        if (windowInfo.windowWidth == this.pxValue) {\r\n          this.result = true\r\n        }\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"setAppTheme":{"name":"## uni.setAppTheme(options) @setapptheme","description":"设置应用主题","compatibility":"### setAppTheme 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.18 | 4.18 | 4.18 | 4.18 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetAppThemeOptions** | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"4.18\",\"4.18\",\"x\"]]}' /> |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| theme | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"4.18\",\"4.18\",\"x\"]]}' /> | 主题 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| light | - | - |\n@@| dark | - | - |\n@@| auto | - | - |\n@| success | (result: [SetAppThemeSuccessResult](#setappthemesuccessresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"4.18\",\"4.18\",\"x\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [IAppThemeFail](#iappthemefail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"4.18\",\"4.18\",\"x\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"4.18\",\"4.18\",\"x\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SetAppThemeSuccessResult 的属性值 @setappthemesuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| theme | string | 是 | - | - | - |\n\n#### IAppThemeFail 的属性值 @iappthemefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"4.18\",\"4.18\",\"x\"]]}' /> | 错误码<br/>- 702001  参数错误<br/>- 2002000  未知错误 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 702001 | - | - |\n@| 2002000 | - | - |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.themeChange.setAppTheme)"},"onOsThemeChange":{"name":"## uni.onOsThemeChange(callback) @onosthemechange","description":"开启监听系统主题变化","compatibility":"### onOsThemeChange 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.18 | 4.18 | 4.18 | 4.18 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (res: [OsThemeChangeResult](#osthemechangeresult-values)) => void | 是 | - | - | - | \n\n### OsThemeChangeResult 的属性值 @osthemechangeresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| osTheme | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"4.18\",\"4.18\",\"x\"]]}' /> | 系统主题 |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| number |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.themeChange.onOsThemeChange)"},"offOsThemeChange":{"name":"## uni.offOsThemeChange(id) @offosthemechange","description":"取消监听系统主题变化","compatibility":"### offOsThemeChange 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.18 | 4.18 | 4.18 | 4.18 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| id | number | 是 | - | - | - | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.themeChange.offOsThemeChange)"},"onAppThemeChange":{"name":"## uni.onAppThemeChange(callback) @onappthemechange","description":"开启监听应用主题变化","compatibility":"### onAppThemeChange 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.18 | 4.18 | 4.18 | 4.18 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (res: [AppThemeChangeResult](#appthemechangeresult-values)) => void | 是 | - | - | - | \n\n### AppThemeChangeResult 的属性值 @appthemechangeresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| appTheme | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.18\",\"4.18\",\"4.18\",\"x\"]]}' /> | 应用主题 |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| number |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.themeChange.onAppThemeChange)"},"offAppThemeChange":{"name":"## uni.offAppThemeChange(id) @offappthemechange","description":"取消监听应用主题变化","compatibility":"### offAppThemeChange 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.18 | 4.18 | 4.18 | 4.18 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| id | number | 是 | - | - | - | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.themeChange.offAppThemeChange)"},"onHostThemeChange":{"name":"## uni.onHostThemeChange(callback) @onhostthemechange","description":"监听宿主题状态变化。","compatibility":"### onHostThemeChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.35 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnHostThemeChangeCallbackResult](#onhostthemechangecallbackresult-values)) => void | 是 | - | - | - | \n\n### OnHostThemeChangeCallbackResult 的属性值 @onhostthemechangecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| hostTheme | string | 是 | - | - | 主题名称 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| dark | - | - |\n@| light | - | - |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| number |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.themeChange.onHostThemeChange)\n- [参见uni-app相关文档](https://uniapp.dcloud.io/api/system/theme.html#onhostthemechange)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=onHostThemeChange&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onHostThemeChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onHostThemeChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onHostThemeChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onHostThemeChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onHostThemeChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onHostThemeChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offHostThemeChange":{"name":"## uni.offHostThemeChange(id) @offhostthemechange","description":"取消监听宿主题状态变化。","compatibility":"### offHostThemeChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.35 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| id | number | 是 | - | - | - | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.themeChange.offHostThemeChange)\n- [参见uni-app相关文档](https://uniapp.dcloud.io/api/system/theme.html#offhostthemechange)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=offHostThemeChange&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offHostThemeChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offHostThemeChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offHostThemeChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offHostThemeChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offHostThemeChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offHostThemeChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offThemeChange":{"name":"## uni.~~offThemeChange(callback)~~ @offthemechange","description":"取消监听系统主题状态变化。  **已废弃，在web、小程序上推荐使用 offHostThemeChange**","compatibility":"### offThemeChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnThemeChangeCallbackResult](#onthemechangecallbackresult-values)) => void | 是 | - | - | - | \n\n### OnThemeChangeCallbackResult 的属性值 @onthemechangecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| theme | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 主题名称 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| dark | - | - |\n@| light | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.themeChange.onThemeChange)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/app-event/wx.offThemeChange.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.io/api/system/theme.html#offthemechange)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offThemeChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offThemeChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offThemeChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offThemeChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offThemeChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offThemeChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onThemeChange":{"name":"## uni.~~onThemeChange(callback)~~ @onthemechange","description":"监听系统主题状态变化。  **已废弃，在web、小程序上推荐使用 onHostThemeChange**","compatibility":"### onThemeChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnThemeChangeCallbackResult](#onthemechangecallbackresult-values)) => void | 是 | - | - | - | \n\n### OnThemeChangeCallbackResult 的属性值 @onthemechangecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| theme | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 主题名称 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| dark | - | - |\n@| light | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.themeChange.offThemeChange)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/app/app-event/wx.onThemeChange.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.io/api/system/theme.html#onthemechange)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onThemeChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onThemeChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onThemeChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onThemeChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onThemeChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onThemeChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"themeChange":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/theme-change/theme-change.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/theme-change/theme-change\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/theme-change/theme-change\n\n>Template\n```vue\n<template>\r\n  <view class=\"uni-padding-wrap\">\r\n    <!-- #ifdef APP -->\r\n    <view class=\"uni-common-mt item-box\">\r\n      <text>osTheme:</text>\r\n      <text id=\"theme\">{{ osTheme }}</text>\r\n    </view>\r\n    <!-- #endif -->\r\n    <view class=\"uni-common-mt item-box\">\r\n      <text>应用当前主题:</text>\r\n      <text id=\"theme\">{{ appTheme }}</text>\r\n    </view>\r\n\r\n    <!-- #ifdef APP -->\r\n    <view>\r\n      <view class=\"uni-title uni-common-mt\">\r\n        <text class=\"uni-title-text\"> 修改appTheme主题（此处仅为演示API，本应用并未完整适配暗黑模式） </text>\r\n      </view>\r\n    </view>\r\n    <view class=\"uni-list uni-common-pl\">\r\n      <radio-group @change=\"radioChange\" class=\"radio-group\">\r\n        <radio class=\"uni-list-cell uni-list-cell-pd radio\" v-for=\"(item, index) in items\" :key=\"item\"\r\n          :class=\"index < items.length - 1 ? 'uni-list-cell-line' : ''\" :value=\"item\" :checked=\"index === current\">\r\n          {{ item }}\r\n        </radio>\r\n      </radio-group>\r\n    </view>\r\n    <!-- #endif -->\r\n\r\n  </view>\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .item-box {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n  }\r\n\r\n  .uni-list-cell {\r\n    justify-content: flex-start;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        osThemeChangeId: 0,\r\n        appThemeChangeId: 0,\r\n        osTheme: \"light\" as string,\r\n        appTheme: \"light\" as string,\r\n        originalTheme: \"light\" as string,\r\n        current: 0,\r\n        items: [\r\n          \"light\",\r\n          \"dark\",\r\n          \"auto\"\r\n        ] as string[]\r\n      }\r\n    },\r\n    methods: {\r\n      bindOsThemeChange() : number {\r\n        //注册osTheme变化监听\r\n        return uni.onOsThemeChange((res : OsThemeChangeResult) => {\r\n          this.osTheme = res.osTheme\r\n        })\r\n      },\r\n      bindAppThemeChange() : number {\r\n        // #ifdef APP\r\n        //注册appTheme变化监听\r\n        return uni.onAppThemeChange((res : AppThemeChangeResult) => {\r\n          this.appTheme = res.appTheme\r\n        })\r\n        // #endif\r\n        // #ifdef WEB || MP\r\n        return uni.onHostThemeChange((res : OnHostThemeChangeCallbackResult) => {\r\n          this.appTheme = res.hostTheme\r\n        })\r\n        // #endif\r\n      },\r\n      radioChange(e : UniRadioGroupChangeEvent) {\r\n        const theme = e.detail.value\r\n        this.setAppTheme(theme)\r\n        uni.showToast({\r\n          icon: 'none',\r\n          title: '当前选中:' + theme,\r\n        })\r\n      },\r\n      setAppTheme(value : string) {\r\n        uni.setAppTheme({\r\n          theme: value as 'light' | 'dark' | 'auto',\r\n          success: function () {\r\n            console.log(\"设置appTheme为\", value, \"成功\")\r\n          },\r\n          fail: function (e : IAppThemeFail) {\r\n            console.log(\"设置appTheme为\", value, \"失败,原因:\", e.errMsg)\r\n          }\r\n        })\r\n      }\r\n    },\r\n    onReady() {\r\n      uni.getSystemInfo({\r\n        success: (res : GetSystemInfoResult) => {\r\n          // #ifdef APP\r\n          this.osTheme = res.osTheme!\r\n          this.originalTheme = res.appTheme!\r\n          this.appTheme = res.appTheme == \"auto\" ? res.osTheme! : res.appTheme!\r\n          this.current = this.items.indexOf(res.appTheme!)\r\n          // #endif\n          // #ifdef WEB || MP\n          this.appTheme = res.hostTheme\n          // #endif\r\n        }\r\n      })\r\n      // #ifdef APP\r\n      this.osThemeChangeId = this.bindOsThemeChange()\r\n      // #endif\r\n      this.appThemeChangeId = this.bindAppThemeChange()\r\n    },\r\n    onUnload() {\r\n      //注销监听\n      // #ifdef APP\r\n      uni.offAppThemeChange(this.appThemeChangeId)\r\n      uni.offOsThemeChange(this.osThemeChangeId)\n      // #endif\n      // #ifdef WEB || MP\r\n      uni.offHostThemeChange(this.appThemeChangeId)\n      // #endif\r\n      //暂时屏蔽 避免5.1安卓设备自动化测试不过\r\n      // uni.showToast({\r\n      //   \"position\": \"bottom\",\r\n      //   \"title\": \"已停止监听主题切换\"\r\n      // })\r\n    }\r\n  }\r\n\n```\n\n:::"},"getLocale":{"name":"## uni.getLocale() @getlocale","description":"获取当前设置的语言\n","compatibility":"### getLocale 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| string |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.locale.getLocale)\n - [参见uni-app相关文档](https://uniapp.dcloud.io/api/ui/locale.html#getlocale)"},"setLocale":{"name":"## uni.setLocale(locale) @setlocale","description":"设置当前语言\n","compatibility":"### setLocale 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| locale | string | 是 | - | - | - | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.locale.setLocale)\n - [参见uni-app相关文档](https://uniapp.dcloud.io/api/ui/locale.html#setlocale)"},"onLocaleChange":{"name":"## uni.onLocaleChange(callback) @onlocalechange","description":"设置当前语言\n","compatibility":"### onLocaleChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnLocaleChangeCallbackResult](#onlocalechangecallbackresult-values)) => void | 是 | - | - | - | \n\n### OnLocaleChangeCallbackResult 的属性值 @onlocalechangecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| locale | string | 否 | - | - | 当前语言 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ui.locale.onLocaleChange)\n - [参见uni-app相关文档](https://uniapp.dcloud.io/api/ui/locale.html#onlocalechange)"},"request":{"name":"## uni.request(param) @request","description":"发起网络请求。","compatibility":"### request 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| param | [RequestOptions\\<T>](#requestoptions-values) | 是 | - | - | 网络请求参数 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器接口地址<br/> |\n@| data | any | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 请求的参数 在`app-android端，参数类型只能为`UTSJSONObject`或者`string`类型,app-android平台从 4.51版本开始支持ArrayBuffer, app-ios平台从 4.61版本开始支持ArrayBuffer |\n@| header | [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 设置请求的 header，header 中不能设置 Referer |\n@| method | string | 否 | \"GET\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 请求方法 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| GET | - | GET方法请求一个指定资源的表示形式，使用 GET 的请求应该只被用于获取数据。 |\n@@| POST | - | POST方法用于将实体提交到指定的资源，通常导致在服务器上的状态变化或副作用。 |\n@@| PUT | - | PUT方法用有效载荷请求替换目标资源的所有当前表示。 |\n@@| PATCH | - | PATCH方法用于对资源应用部分修改。 |\n@@| DELETE | - | DELETE方法删除指定的资源。 |\n@@| HEAD | - | HEAD方法请求一个与GET请求的响应相同的响应，但没有响应体。 |\n@@| OPTIONS | - | OPTIONS 方法用于描述目标资源的通信选项。 |\n@| timeout | number | 否 | 60000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"-\"]]}' /> | 超时时间，单位 ms |\n@| withCredentials | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | 跨域请求时是否携带凭证（cookies）<br/> |\n@| firstIpv4 | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | DNS解析时优先使用ipv4 |\n@| success | (option: [RequestSuccess\\<T>](#requestsuccess-values)) => void | 否 | null | - | 网络请求成功回调。 |\n@| fail | (option: [RequestFail](#requestfail-values)) => void | 否 | null | - | 网络请求失败回调。 |\n@| complete | (option: any) => void | 否 | null | - | 网络请求完成回调，成功或者失败都会调用。 | \n\n#### RequestSuccess\\<T> 的属性值 @requestsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| data | T | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器返回的数据, app-android平台从 4.51版本开始支持ArrayBuffer, app-ios平台从 4.61版本开始支持ArrayBuffer |\n| statusCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器返回的 HTTP 状态码 |\n| header | any | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器返回的 HTTP Response Header |\n| cookies | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器返回的 cookies，格式为字符串数组 |\n\n#### RequestFail 的属性值 @requestfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 5 | - | 接口超时 |\n@| 1000 | - | 服务端系统错误 |\n@| 100001 | - | json数据解析错误 |\n@| 100002 | - | 错误信息json解析失败 |\n@| 600003 | - | 网络中断 |\n@| 600008 | - | data参数类型不合法 |\n@| 600009 | - | URL格式不合法 |\n@| 602001 | - | request系统错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [RequestTask](#requesttask-values) |\n\n#### RequestTask 的方法 @requesttask-values \n\n#### abort(): void @abort\n中断网络请求。\n##### abort 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.request)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/request/RequestTask.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=request&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=request&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=request&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=request&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=request)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=request&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/request/request.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/request/request\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/request/request\n\n>Template\n```vue\n<template>\n  <view style=\"flex: 1;\">\n    <view class=\"uni-padding-wrap uni-common-mt\">\n      <view class=\"uni-common-mt\" style=\"border-width: 2px;border-style: solid; border-radius: 4px;\">\n        <textarea :value=\"res\" class=\"uni-textarea\" style=\"width: 100%; height: 40px;\"></textarea>\n      </view>\n      <view>\n        <text>地址 : {{ host + url}}</text>\n        <text>请求方式 : {{method}}</text>\n      </view>\n      <view class=\"uni-btn-v uni-common-mt\">\n        <button type=\"primary\" @click=\"sendRequest\">发起请求</button>\n      </view>\n    </view>\n    <scroll-view style=\"flex: 1;\" show-scrollbar=\"true\">\n      <view style=\"padding: 20px;\">\n        <text>设置请求方式</text>\n        <view class=\"uni-common-pb\"></view>\n        <view style=\"flex-direction: row;flex-wrap: wrap;\">\n          <button style=\"padding: 5px; margin-right: 10px;\" type=\"primary\" size=\"mini\"\n            @click=\"changeMethod('GET')\">GET</button>\n          <button style=\"padding: 5px; margin-right: 10px; \" type=\"primary\" size=\"mini\"\n            @click=\"changeMethod('POST')\">POST</button>\n          <button style=\"padding: 5px; margin-right: 10px; \" type=\"primary\" size=\"mini\"\n            @click=\"changeMethod('PUT')\">PUT</button>\n          <button style=\"padding: 5px; margin-right: 10px;\" type=\"primary\" size=\"mini\"\n            @click=\"changeMethod('DELETE')\">DELETE</button>\n          <button style=\"padding: 5px; margin-right: 10px; \" type=\"primary\" size=\"mini\"\n            @click=\"changeMethod('PATCH')\">PATCH</button>\n          <button style=\"padding: 5px;margin-right: 10px;\" type=\"primary\" size=\"mini\"\n            @click=\"changeMethod('OPTIONS')\">OPTIONS</button>\n          <button style=\"padding: 5px;\" type=\"primary\" size=\"mini\" @click=\"changeMethod('HEAD')\">HEAD</button>\n        </view>\n      </view>\n      <view style=\"padding: 20px;\">\n        <text>请求返回错误码的接口（默认为GET）</text>\n        <view class=\"uni-common-pb\"></view>\n        <view style=\"flex-direction: row;flex-wrap: wrap;\">\n          <button style=\"padding: 5px;\" type=\"primary\" size=\"mini\" v-for=\"(item, index) in errorCodeUrls\" :key=\"index\"\n            @click=\"changeUrl(item)\">{{item}}</button>\n        </view>\n      </view>\n      <view style=\"padding: 20px;\">\n        <text>请求不同header的接口（默认为GET）</text>\n        <view class=\"uni-common-pb\"></view>\n        <view style=\"flex-direction: row;flex-wrap: wrap;\">\n          <button style=\"padding: 5px;\" type=\"primary\" size=\"mini\" v-for=\"(item, index) in headerUrls\" :key=\"index\"\n            @click=\"changeUrl(item)\">{{item}}</button>\n        </view>\n      </view>\n      <view style=\"padding: 20px;\">\n        <text>请求不同content-type的接口（默认为GET）</text>\n        <view class=\"uni-common-pb\"></view>\n        <view style=\"flex-direction: row;flex-wrap: wrap;\">\n          <button style=\"padding: 5px;\" type=\"primary\" size=\"mini\" v-for=\"(item, index) in contentTypeUrls\" :key=\"index\"\n            @click=\"changeUrl(item)\">{{item}}</button>\n        </view>\n      </view>\n\n      <view style=\"padding: 20px;\">\n        <text>POST请求(有body)</text>\n        <view class=\"uni-common-pb\"></view>\n        <view style=\"flex-direction: row;flex-wrap: wrap;\">\n          <button style=\"padding: 5px;\" type=\"primary\" size=\"mini\" v-for=\"(item, index) in postUrls\" :key=\"index\"\n            @click=\"changeUrlFromPost(item)\">{{item}}</button>\n        </view>\n      </view>\n      <!-- #ifdef APP || MP-WEIXIN || WEB -->\n      <view style=\"padding: 20px;\">\n        <text>ArrayBuffer 测试</text>\n        <view class=\"uni-common-pb\"></view>\n        <view style=\"flex-direction: row;flex-wrap: wrap;\">\n          <button style=\"padding: 5px;\" type=\"primary\" size=\"mini\"\n            @click=\"sendArrayBuffer(false)\">请求body为ArrayBuffer，response也为ArrayBuffer</button>\n          <button style=\"padding: 5px;\" type=\"primary\" size=\"mini\"\n            @click=\"sendArrayBuffer(true)\">请求response为ArrayBuffer</button>\n        </view>\n      </view>\n      <!-- #endif -->\n    </scroll-view>\n  </view>\n</template>\n\n\n```\n\n>Script\n```uts\n\n  // #ifdef APP-ANDROID || APP-IOS\n  import {\n    testInovkeRequest,\n    CommonOptions\n  } from '@/uni_modules/test-invoke-network-api'\n  // #endif\n\n  class GETDataType {\n    data : UTSJSONObject | null = null\n  }\n\n  const duration = 2000\n  const methodMap = {\n    \"GET\": \"/api/http/method/get\",\n    \"POST\": \"/api/http/method/post\",\n    \"PUT\": \"/api/http/method/put\",\n    \"DELETE\": \"/api/http/method/delete\",\n    \"PATCH\": \"/api/http/method/patch\",\n    \"OPTIONS\": \"/api/http/method/options\",\n    \"HEAD\": \"/api/http/method/head\"\n  }\n\n\n  export default {\n    data() {\n      return {\n        title: 'request',\n        res: '',\n        task: null as RequestTask | null,\n        host: \"https://request.dcloud.net.cn\",\n        url: \"/api/http/method/get\",\n        method: \"GET\" as RequestMethod | null,\n        data: null as any | null,\n        header: null as UTSJSONObject | null,\n        errorCodeUrls: [\n          \"/api/http/statusCode/200\",\n          \"/api/http/statusCode/204\",\n          \"/api/http/statusCode/301\",\n          \"/api/http/statusCode/302\",\n          \"/api/http/statusCode/307\",\n          \"/api/http/statusCode/400\",\n          \"/api/http/statusCode/401\",\n          \"/api/http/statusCode/403\",\n          \"/api/http/statusCode/404\",\n          \"/api/http/statusCode/405\",\n          \"/api/http/statusCode/500\",\n          \"/api/http/statusCode/502\",\n          \"/api/http/statusCode/503\",\n          \"/api/http/statusCode/504\",\n        ],\n        headerUrls: [\n          \"/api/http/header/ua\",\n          \"/api/http/header/referer\",\n          \"/api/http/header/requestCookie\",\n          \"/api/http/header/setCookie\",\n          \"/api/http/header/deleteCookie\"\n        ],\n        contentTypeUrls: [\n          \"/api/http/contentType/text/plain\",\n          \"/api/http/contentType/text/html\",\n          \"/api/http/contentType/text/xml\",\n          \"/api/http/contentType/image/gif\",\n          \"/api/http/contentType/image/jpeg\",\n          \"/api/http/contentType/image/png\",\n          \"/api/http/contentType/application/json\",\n          \"/api/http/contentType/application/octetStream\",\n        ],\n        postUrls: [\n          \"/api/http/contentType/json\",\n          \"/api/http/contentType/xWwwFormUrlencoded\",\n        ],\n        //自动化测试例专用\n        jest_result: false,\n        jest_result_data: \"\"\n      }\n    },\n    onLoad() {\n    },\n    onUnload() {\n      uni.hideLoading();\n      this.task?.abort();\n    },\n    methods: {\n      changeMethod(e : RequestMethod) {\n        this.method = e;\n        this.url = methodMap[e] as string;\n        this.data = null;\n        this.header = null;\n      },\n      changeUrl(e : string) {\n        this.method = \"GET\";\n        this.url = e;\n        this.data = null;\n        this.header = null;\n      },\n      changeUrlFromPost(e : string) {\n        this.method = \"POST\";\n        this.url = e;\n        switch (e) {\n          case \"/api/http/contentType/json\":\n            this.header = {\n              \"Content-Type\": \"application/json\"\n            };\n            this.data = {\n              \"hello\": \"world\"\n            };\n            break;\n          case \"/api/http/contentType/xWwwFormUrlencoded\":\n            this.header = {\n              \"Content-Type\": \"application/x-www-form-urlencoded\"\n            };\n            this.data = \"hello=world\";\n            break;\n        }\n      },\n      // #ifdef APP | MP-WEIXIN | WEB\n      sendArrayBuffer(onlyResponse : boolean) {\n        this.method = \"POST\"\n        this.url = \"/api/http/contentType/arrayBuffer/post\"\n\n        if (onlyResponse) {\n          this.header = {\n            \"Content-Type\": \"application/json\"\n          };\n          this.data = {\n            \"hello\": \"world\"\n          };\n          uni.showLoading({\n            title: \"请求中...\"\n          })\n          this.task = uni.request<ArrayBuffer>({\n            url: this.host + this.url,\n            method: this.method,\n            data: this.data,\n            header: this.header,\n            timeout: 60000,\n            sslVerify: false,\n            withCredentials: false,\n            responseType:'arraybuffer',\n            firstIpv4: false,\n            success: (res) => {\n              if (res.data != null) {\n                let uint8 = new Uint8Array(res.data as ArrayBuffer)\n                console.log('request success', uint8.toString())\n                this.res = '请求结果 : ' + uint8.toString()\n\n                console.log('request success header is :', JSON.stringify(res.header))\n                uni.showToast({\n                  title: '请求成功',\n                  icon: 'success',\n                  mask: true,\n                  duration: duration\n                });\n              } else {\n                uni.showModal({\n                  content: 'error',\n                  showCancel: false\n                });\n              }\n\n            },\n            fail: (err) => {\n              console.log('request fail', err);\n              uni.showModal({\n                content: err.errMsg,\n                showCancel: false\n              });\n            },\n            complete: () => {\n              uni.hideLoading()\n              this.task = null\n            },\n          });\n\n\n        } else {\n          uni.chooseImage({\n            count: 1,\n            albumMode: \"system\",\n            sizeType: [\"original\"],\n            sourceType: [\"album\"],\n            success: (e) => {\n              console.log(e.tempFilePaths[0]);\n              uni.getFileSystemManager().readFile({\n                filePath: e.tempFilePaths[0],\n                success: (res) => {\n                    this.data = res.data as ArrayBuffer\n                    this.header = {\n                      \"Content-Type\": \"application/octet-stream\"\n                    };\n\n                    uni.showLoading({\n                      title: \"请求中...\"\n                    })\n                    this.task = uni.request<ArrayBuffer>({\n                      url: this.host + this.url,\n                      method: this.method,\n                      data: this.data,\n                      header: this.header,\n                      timeout: 60000,\n                      sslVerify: false,\n                      withCredentials: false,\n                      firstIpv4: false,\n                      responseType:'arraybuffer',\n                      success: (res) => {\n                        console.log()\n                        if (res.data != null) {\n                          uni.showToast({\n                            title: '请求成功',\n                            icon: 'success',\n                            mask: true,\n                            duration: duration\n                          });\n                          this.res = '请求结果 : byteLength=' + (res.data as ArrayBuffer).byteLength\n                          console.log('request success header is :', JSON.stringify(res.header))\n                        } else {\n                          uni.showModal({\n                            content: 'error',\n                            showCancel: false\n                          });\n                        }\n\n                      },\n                      fail: (err) => {\n                        console.log('request fail', err);\n                        uni.showModal({\n                          content: err.errMsg,\n                          showCancel: false\n                        });\n                      },\n                      complete: () => {\n                        uni.hideLoading()\n                        this.task = null\n                      },\n                    });\n\n                }\n              })\n            }\n          });\n        }\n      },\n      // #endif\n      sendRequest() {\n        uni.showLoading({\n          title: \"请求中...\"\n        })\n        this.task = uni.request({\n          url: this.host + this.url,\n          // dataType: \"json\",\n          // responseType: \"json\",\n          method: this.method,\n          data: this.data,\n          header: this.header,\n          timeout: 6000,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: (res) => {\n            console.log('request success', JSON.stringify(res.data))\n            console.log('request success header is :', JSON.stringify(res.header))\n            uni.showToast({\n              title: '请求成功',\n              icon: 'success',\n              mask: true,\n              duration: duration\n            });\n            this.res = '请求结果 : ' + JSON.stringify(res);\n          },\n          fail: (err) => {\n            console.log('request fail', err);\n            uni.showModal({\n              content: err.errMsg,\n              showCancel: false\n            });\n          },\n          complete: () => {\n            uni.hideLoading()\n            this.task = null\n          },\n        });\n      },\n      //自动化测试例专用\n      jest_request() {\n        uni.request({\n          url: this.host + this.url,\n          // dataType: \"json\",\n          // responseType: \"json\",\n          method: this.method,\n          data: this.data,\n          header: this.header,\n          timeout: 6000,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: () => {\n            this.jest_result = true;\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      },\n      jest_set_cookie() {\n        uni.request({\n          url: this.host + \"/api/http/header/setCookie\",\n          method: \"GET\",\n          timeout: 6000,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: () => {\n            this.jest_cookie_request(true)\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      },\n      jest_set_cookie_expires() {\n        uni.request({\n          url: this.host + \"/api/http/header/setCookie?expires=5\",\n          method: \"GET\",\n          timeout: 6000,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: () => {\n            this.jest_cookie_request(true)\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      },\n      jest_delete_cookie() {\n        uni.request({\n          url: this.host + \"/api/http/header/deleteCookie\",\n          method: \"GET\",\n          timeout: 6000,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: () => {\n            this.jest_cookie_request(false)\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      },\n      jest_cookie_request(needCookie : boolean) {\n        uni.request({\n          url: this.host + \"/api/http/header/requestCookie\",\n          method: \"GET\",\n          timeout: 6000,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: (res) => {\n            const requestCookie = (res.data as UTSJSONObject).getJSON(\"data\")?.getAny(\"requestCookie\")\n            this.jest_result_data = JSON.stringify(requestCookie)\n            if (requestCookie instanceof Array) {\n              this.jest_result = needCookie ? requestCookie.length > 0 : requestCookie.length == 0\n            } else {\n              this.jest_result = needCookie ? (requestCookie as UTSJSONObject).toMap().size > 0 : (requestCookie as UTSJSONObject).toMap().size == 0\n            }\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      },\n      jest_timeout_null() {\n        uni.request({\n          url: this.host + (methodMap['GET'] as string),\n          method: \"GET\",\n          timeout: null,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: () => {\n            this.jest_result = true;\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      },\n      jest_get_with_data() {\n        uni.request({\n          url: \"https://unidemo.dcloud.net.cn/api/banner/36kr\",\n          method: \"GET\",\n          data: {\n            column: 'id,post_id,title,author_name,cover,published_at' //需要的字段名\n          },\n          timeout: 6000,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: () => {\n            this.jest_result = true;\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      },\n      jest_get_with_generics() {\n        uni.request<GETDataType>({\n          url: this.host + (methodMap['GET'] as string),\n          method: \"GET\",\n          timeout: null,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: (res : RequestSuccess<GETDataType>) => {\n            this.jest_result = true;\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      },\n      jest_get_array() {\n        uni.request<UTSJSONObject[]>({\n          url: 'https://unidemo.dcloud.net.cn/api/news?column=title,author_name,cover,published_at',\n          method: \"GET\",\n          success: (res : RequestSuccess<UTSJSONObject[]>) => {\n            if (res.statusCode == 200 && Array.isArray(res.data)) {\n              this.jest_result = true\n            } else {\n              this.jest_result = false\n            }\n          },\n          fail: () => {\n            this.jest_result = false\n          }\n        });\n      },\n      jest_uts_module_invoked() {\n        // #ifdef APP-ANDROID || APP-IOS\n        this.jest_result = false\n        testInovkeRequest({\n          success: (res : any) => {\n            this.jest_result = true\n          },\n          fail: (err : any) => {\n            this.jest_result = false\n          }\n        } as CommonOptions)\n        // #endif\n      },\n      jest_respone_json_string() {\n        uni.request({\n          url: \"https://request.dcloud.net.cn/api/http/contentType/text/json\",\n          success: (res : RequestSuccess<any>) => {\n            this.jest_result = typeof res.data == \"object\"\n          },\n          fail: (e : RequestFail) => {\n            this.jest_result = false\n          }\n        })\n      },\n      jest_respone_with_string_generics() {\n        uni.request<string>({\n          url: this.host + (methodMap['GET'] as string),\n          method: \"GET\",\n          timeout: null,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: (res : RequestSuccess<string>) => {\n            this.jest_result = true;\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      },\n      jest_respone_with_404_and_string_generics() {\n        uni.request<string>({\n          url: this.host + \"/api/http/statusCode/404\",\n          method: \"GET\",\n          timeout: null,\n          sslVerify: false,\n          withCredentials: false,\n          firstIpv4: false,\n          success: (res : RequestSuccess<string>) => {\n            this.jest_result = true;\n          },\n          fail: () => {\n            this.jest_result = false;\n          },\n        });\n      }\n    }\n  }\n\n```\n\n:::"},"uploadFile":{"name":"## uni.uploadFile(options) @uploadfile","description":"将本地资源上传到开发者服务器。","compatibility":"### uploadFile 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **UploadFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器 url |\n@| filePath | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 要上传文件资源的路径, 支持uni.env |\n@| name | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 文件对应的 key , 开发者在服务器端通过这个 key 可以获取到文件二进制内容 |\n@| files | Array&lt;**UploadFileOptionFiles**&gt; | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 需要上传的文件列表。 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| name | string | 否 | \"file\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | multipart 提交时，表单的项目名，默认为 file，如果 name 不填或填的值相同，可能导致服务端读取文件时只能读取到一个文件。 |\n@@| uri | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 要上传文件资源的路径 |\n@@| file | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"x\"]]}' /> | 要上传的文件对象 |\n@| header | [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | HTTP 请求 Header, header 中不能设置 Referer |\n@| formData | [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | HTTP 请求中其他额外的 form data |\n@| timeout | number | 否 | 120000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 超时时间，单位 ms |\n@| success | (result: [UploadFileSuccess](#uploadfilesuccess-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 成功返回的回调函数 |\n@| fail | (result: [UploadFileFail](#uploadfilefail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 结束的回调函数（调用成功、失败都会执行） |\n@| enableHttp2 | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.10.4`<br/><br/>是否开启 http2<br/> |\n@| enableProfile | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否开启 profile，默认开启。开启后可在接口回调的 res.profile 中查看性能调试信息。目前仅 iOS 端支持。<br/> |\n@| useHighPerformanceMode | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `3.4.1`<br/><br/>使用高性能模式，暂仅支持 Android，默认关闭。该模式下有更优的网络性能表现。<br/> | \n\n#### UploadFileSuccess 的属性值 @uploadfilesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| data | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器返回的数据 |\n| statusCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器返回的 HTTP 状态码 |\n\n#### UploadFileFail 的属性值 @uploadfilefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 5 | - | 接口超时 |\n@| 1000 | - | 服务端系统错误 |\n@| 100001 | - | json数据解析错误 |\n@| 100002 | - | 错误信息json解析失败 |\n@| 600003 | - | 网络中断 |\n@| 600008 | - | data参数类型不合法 |\n@| 600009 | - | URL格式不合法 |\n@| 602001 | - | request系统错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [UploadTask](#uploadtask-values) |\n\n#### UploadTask 的方法 @uploadtask-values \n\n#### abort(): void, @abort\n中断上传任务。\n##### abort 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n\n\n#### onProgressUpdate(callback: UploadFileProgressUpdateCallback): void, @onprogressupdate\n监听上传进度变化。\n##### onProgressUpdate 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnProgressUpdateResult](#onprogressupdateresult-values)) => void | 是 | - | - | - | \n\n##### OnProgressUpdateResult 的属性值 @onprogressupdateresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| progress | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 上传进度百分比 |\n| totalBytesSent | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 已经上传的数据长度，单位 Bytes |\n| totalBytesExpectedToSend | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 预期需要上传的数据总长度，单位 Bytes |\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.uploadFile)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/upload/UploadTask.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=uploadFile&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=uploadFile&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=uploadFile&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=uploadFile&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=uploadFile)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=uploadFile&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/upload-file/upload-file.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/upload-file/upload-file\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/upload-file/upload-file\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-padding-wrap uni-common-mt\">\r\n        <view class=\"demo\">\r\n          <image v-if=\"imageSrc\" :src=\"imageSrc\" class=\"image\" mode=\"widthFix\"></image>\r\n          <text v-else class=\"uni-hello-addfile\" @click=\"chooseImage\">+ 选择图片</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n<style>\r\n  .image {\r\n    width: 100%;\r\n  }\r\n\r\n  .demo {\r\n    background: #fff;\r\n    padding: 25px;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .uni-hello-addfile {\r\n    text-align: center;\r\n    background: #fff;\r\n    padding: 25px;\r\n    margin-top: 10px;\r\n    font-size: 19px;\r\n    color: #808080;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  // #ifdef APP-ANDROID || APP-IOS || APP-HARMONY\r\n  import {\r\n    testInovkeUploadFile,\r\n    CommonOptions\r\n  } from '@/uni_modules/test-invoke-network-api'\r\n  // #endif\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'uploadFile',\r\n        imageSrc: '',\r\n        task: null as UploadTask | null,\r\n        //自动化测试例专用\r\n        jest_result: false,\r\n      }\r\n    },\r\n    onLoad() {\r\n    },\r\n    onUnload() {\r\n      this.imageSrc = '';\r\n      uni.hideLoading();\r\n      this.task?.abort();\r\n    },\r\n    methods: {\r\n      chooseImage: function () {\r\n        uni.chooseImage({\r\n          count: 1,\r\n          sizeType: ['compressed'],\r\n          sourceType: ['album'],\r\n          success: (res) => {\r\n            console.log('chooseImage success, temp path is', res.tempFilePaths[0])\r\n            var imageSrc = res.tempFilePaths[0]\r\n            uni.showLoading({\r\n              title: '上传中'\r\n            })\r\n            this.task = uni.uploadFile({\r\n              url: 'https://unidemo.dcloud.net.cn/upload', //仅为示例，非真实的接口地址\r\n              filePath: imageSrc,\r\n              name: 'file',\r\n              formData: {\r\n                'user': 'test'\r\n              },\r\n              success: (res) => {\r\n                console.log('uploadImage success, res is:', res)\r\n                uni.showToast({\r\n                  title: '上传成功',\r\n                  icon: 'success',\r\n                  duration: 1000\r\n                })\r\n                this.imageSrc = imageSrc\r\n              },\r\n              fail: (err) => {\r\n                console.log('uploadImage fail', err);\r\n                uni.showModal({\r\n                  content: err.errMsg,\r\n                  showCancel: false\r\n                });\r\n              },\r\n              complete: (res) => {\r\n                uni.hideLoading();\r\n                this.task = null\r\n              }\r\n            });\r\n          },\r\n          fail: (err) => {\r\n            console.log('chooseImage fail', err)\r\n          }\r\n        })\r\n      },\r\n      //自动化测试例专用\r\n      jest_uploadFile() {\r\n        const imageSrc = \"/static/uni.png\";\r\n        uni.uploadFile({\r\n          url: 'https://unidemo.dcloud.net.cn/upload', //仅为示例，非真实的接口地址\r\n          filePath: imageSrc,\r\n          name: 'file',\r\n          formData: {\r\n            'user': 'test'\r\n          },\r\n          success: () => {\r\n            this.jest_result = true;\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false;\r\n          },\r\n        })\r\n      },\r\n      jest_uploadFile_with_uni_env() {\r\n        /**\r\n         * 微信小程序只支持USER_DATA_PATH，且子目录未创建的情况下不能直接下载到子目录内\r\n         */\r\n        const filePath = `${uni.env.USER_DATA_PATH}/uni-app.png`\r\n        uni.downloadFile({\r\n          url: \"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-app.png\",\r\n          filePath: filePath,\r\n          success: () => {\r\n            uni.uploadFile({\r\n              url: 'https://unidemo.dcloud.net.cn/upload', //仅为示例，非真实的接口地址\r\n              filePath: filePath,\r\n              name: 'file',\r\n              success: () => {\r\n                this.jest_result = true;\r\n              },\r\n              fail: () => {\r\n                this.jest_result = false;\r\n              },\r\n            })\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false\r\n          }\r\n        });\r\n      },\r\n      jest_set_cookie() {\r\n        uni.request({\r\n          url: \"https://request.dcloud.net.cn/api/http/header/setCookie\",\r\n          method: \"GET\",\r\n          timeout: 6000,\r\n          sslVerify: false,\r\n          withCredentials: false,\r\n          firstIpv4: false,\r\n          success: () => {\r\n            this.jest_cookie_upload(true)\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false;\r\n          },\r\n        });\r\n      },\r\n\r\n      jest_delete_cookie() {\r\n        uni.request({\r\n          url: \"https://request.dcloud.net.cn/api/http/header/deleteCookie\",\r\n          method: \"GET\",\r\n          timeout: 6000,\r\n          sslVerify: false,\r\n          withCredentials: false,\r\n          firstIpv4: false,\r\n          success: () => {\r\n            this.jest_cookie_upload(false)\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false;\r\n          },\r\n        });\r\n      },\r\n      jest_cookie_upload(needCookie : boolean) {\r\n        const imageSrc = \"/static/uni.png\";\r\n        uni.uploadFile({\r\n          url: 'https://request.dcloud.net.cn/api/http/header/upload',\r\n          filePath: imageSrc,\r\n          name: 'file',\r\n          success: (res : UploadFileSuccess) => {\r\n            const data = JSON.parseObject(res.data)\r\n            const errCode = data?.getNumber(\"errCode\")\r\n            if (errCode != null && errCode == 1000) {\r\n              this.jest_result = needCookie ? false : true;\r\n            } else {\r\n              this.jest_result = needCookie ? true : false;\r\n            }\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false;\r\n          },\r\n        })\r\n      },\r\n      jest_files_upload() {\r\n        const imageSrc = \"/static/uni.png\";\r\n        uni.uploadFile({\r\n          url: 'https://unidemo.dcloud.net.cn/upload',\r\n          files: [\r\n            {\r\n              name: \"file1\",\r\n              uri: imageSrc\r\n            } as UploadFileOptionFiles,\r\n            {\r\n              name: \"file2\",\r\n              uri: imageSrc\r\n            } as UploadFileOptionFiles\r\n          ],\r\n          success: (res : UploadFileSuccess) => {\r\n            if (res.statusCode == 200) {\r\n              this.jest_result = true;\r\n            }\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false;\r\n          },\r\n        })\r\n      },\r\n      jest_uts_module_invoked() {\r\n        // #ifdef APP-ANDROID || APP-IOS || APP-HARMONY\r\n        testInovkeUploadFile({\r\n          success: (res : any) => {\r\n            this.jest_result = true\r\n          },\r\n          fail: (err : any) => {\r\n            this.jest_result = false\r\n          }\r\n        } as CommonOptions)\r\n        // #endif\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"downloadFile":{"name":"## uni.downloadFile(options) @downloadfile","description":"下载文件资源到本地，客户端直接发起一个 HTTP GET 请求，返回文件的本地临时路径。","compatibility":"### downloadFile 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **DownloadFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 下载资源的 url |\n@| header | [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"-\"]]}' /> | HTTP 请求 Header，header 中不能设置 Referer |\n@| filePath | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 指定文件下载路径<br/>支持相对路径与绝对路径，例：<br/>`/imgs/pic.png`、`/storage/emulated/0/Android/data/io.dcloud.HBuilder/apps/HBuilder/temp/imgs/pic.png`<br/>并且支持指定下载目录，例：<br/>`/imgs/`<br/>支持uni.env的平台兼容性：Android自3.9开始支持uni.env，iOS自4.13开始支持uni.env |\n@| timeout | number | 否 | 120000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 超时时间，单位 ms |\n@| success | (result: [DownloadFileSuccess](#downloadfilesuccess-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 下载成功后以 tempFilePath 的形式传给页面，res = {tempFilePath: '文件的临时路径'} |\n@| fail | (result: [DownloadFileFail](#downloadfilefail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 结束的回调函数（调用成功、失败都会执行） |\n@| enableHttp2 | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.10.4`<br/><br/>是否开启 http2<br/> |\n@| enableProfile | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否开启 profile，默认开启。开启后可在接口回调的 res.profile 中查看性能调试信息。<br/> |\n@| enableQuic | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.10.4`<br/><br/>是否开启 Quic 协议（gQUIC Q43）<br/> |\n@| useHighPerformanceMode | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `3.4.1`<br/><br/>使用高性能模式，暂仅支持 Android，默认关闭。该模式下有更优的网络性能表现。<br/> | \n\n#### DownloadFileSuccess 的属性值 @downloadfilesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempFilePath | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 临时文件路径，下载后的文件会存储到一个临时文件 |\n| statusCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器返回的 HTTP 状态码 |\n| filePath | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 用户文件路径 (本地路径)。传入 filePath 时会返回，跟传入的 filePath 一致<br/> |\n| profile | **DownloadFileSuccessProfile** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.10.4`<br/><br/>网络请求过程中一些调试信息，[查看详细说明](https://developers.weixin.qq.com/miniprogram/dev/framework/performance/network.html)<br/> |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SSLconnectionEnd | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | SSL建立完成的时间,如果不是安全连接,则值为 0<br/> |\n@| SSLconnectionStart | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | SSL建立连接的时间,如果不是安全连接,则值为 0<br/> |\n@| connectEnd | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | HTTP（TCP） 完成建立连接的时间（完成握手），如果是持久连接，则与 fetchStart 值相等。注意如果在传输层发生了错误且重新建立连接，则这里显示的是新建立的连接完成的时间。注意这里握手结束，包括安全连接建立完成、SOCKS 授权通过<br/> |\n@| connectStart | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | HTTP（TCP） 开始建立连接的时间，如果是持久连接，则与 fetchStart 值相等。注意如果在传输层发生了错误且重新建立连接，则这里显示的是新建立的连接开始的时间<br/> |\n@| domainLookUpEnd | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | DNS 域名查询完成的时间，如果使用了本地缓存（即无 DNS 查询）或持久连接，则与 fetchStart 值相等<br/> |\n@| domainLookUpStart | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | DNS 域名查询开始的时间，如果使用了本地缓存（即无 DNS 查询）或持久连接，则与 fetchStart 值相等<br/> |\n@| downstreamThroughputKbpsEstimate | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 评估当前网络下载的kbps<br/> |\n@| estimate_nettype | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 评估的网络状态 unknown, offline, slow 2g, 2g, 3g, 4g, last/0, 1, 2, 3, 4, 5, 6<br/> |\n@| fetchStart | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 组件准备好使用 HTTP 请求抓取资源的时间，这发生在检查本地缓存之前<br/> |\n@| httpRttEstimate | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 协议层根据多个请求评估当前网络的 rtt（仅供参考）<br/> |\n@| peerIP | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当前请求的IP<br/> |\n@| port | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当前请求的端口<br/> |\n@| protocol | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 使用协议类型，有效值：http1.1, h2, quic, unknown<br/> |\n@| receivedBytedCount | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 收到字节数<br/> |\n@| redirectEnd | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 最后一个 HTTP 重定向完成时的时间。有跳转且是同域名内部的重定向才算，否则值为 0<br/> |\n@| redirectStart | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 第一个 HTTP 重定向发生时的时间。有跳转且是同域名内的重定向才算，否则值为 0<br/> |\n@| requestEnd | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | HTTP请求读取真实文档结束的时间<br/> |\n@| requestStart | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | HTTP请求读取真实文档开始的时间（完成建立连接），包括从本地读取缓存。连接错误重连时，这里显示的也是新建立连接的时间<br/> |\n@| responseEnd | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | HTTP 响应全部接收完成的时间（获取到最后一个字节），包括从本地读取缓存<br/> |\n@| responseStart | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | HTTP 开始接收响应的时间（获取到第一个字节），包括从本地读取缓存<br/> |\n@| rtt | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当次请求连接过程中实时 rtt<br/> |\n@| sendBytesCount | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 发送的字节数<br/> |\n@| socketReused | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否复用连接<br/> |\n@| throughputKbps | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当前网络的实际下载kbps<br/> |\n@| transportRttEstimate | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 传输层根据多个请求评估的当前网络的 rtt（仅供参考）<br/> |\n@| usingHighPerformanceMode | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否走到了高性能模式。基础库 v3.3.4 起支持。<br/> |\n\n#### DownloadFileFail 的属性值 @downloadfilefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 5 | - | 接口超时 |\n@| 1000 | - | 服务端系统错误 |\n@| 100001 | - | json数据解析错误 |\n@| 100002 | - | 错误信息json解析失败 |\n@| 600003 | - | 网络中断 |\n@| 600008 | - | data参数类型不合法 |\n@| 600009 | - | URL格式不合法 |\n@| 602001 | - | request系统错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [DownloadTask](#downloadtask-values) |\n\n#### DownloadTask 的方法 @downloadtask-values \n\n#### abort(): void, @abort\n中断下载任务\n##### abort 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n\n\n#### onProgressUpdate(callback: DownloadFileProgressUpdateCallback): void, @onprogressupdate\n监听下载进度变化。\n##### onProgressUpdate 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnProgressDownloadResult](#onprogressdownloadresult-values)) => void | 是 | - | - | - | \n\n##### OnProgressDownloadResult 的属性值 @onprogressdownloadresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| progress | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 下载进度百分比 |\n| totalBytesWritten | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 已经下载的数据长度，单位 Bytes |\n| totalBytesExpectedToWrite | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 预期需要下载的数据总长度，单位 Bytes |\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.downloadFile)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/download/DownloadTask.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=downloadFile&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=downloadFile&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=downloadFile&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=downloadFile&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=downloadFile)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=downloadFile&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/download-file/download-file.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/download-file/download-file\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/download-file/download-file\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view>\r\n        <view v-if=\"imageSrc\">\r\n          <image class=\"img\" :src=\"imageSrc\" mode=\"aspectFit\" />\r\n        </view>\r\n        <view v-else style=\"margin: 10px;\">\r\n          <text class=\"uni-hello-text\">点击按钮下载服务端示例图片（下载网络文件到本地临时目录）</text>\r\n          <button type=\"primary\" @tap=\"downloadImage\">下载</button>\r\n        </view>\r\n        <view style=\"margin: 10px;\">\r\n          <text class=\"uni-hello-text\">下载接口的Content-Disposition中的filename非法值例子</text>\r\n          <button type=\"primary\" @tap=\"downloadErrorFilename\">下载</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n<style>\r\n  .img {\r\n    margin: 0 auto;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  // #ifdef APP-ANDROID || APP-IOS || APP-HARMONY\r\n  import {\r\n    testInovkeDownloadFile,\r\n    CommonOptions\r\n  } from '@/uni_modules/test-invoke-network-api'\r\n  // #endif\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'downloadFile',\r\n        imageSrc: '',\r\n        task: null as DownloadTask | null,\r\n        //自动化测试例专用\r\n        jest_result: false,\r\n        jest_callback_triggred: false\r\n      }\r\n    },\r\n    onLoad() {\r\n    },\r\n    onUnload() {\r\n      // this.imageSrc = '';\r\n      uni.hideLoading();\r\n      this.task?.abort();\r\n    },\r\n    methods: {\r\n      downloadImage: function () {\r\n        uni.showLoading({\r\n          title: '下载中'\r\n        })\r\n        var self = this\r\n        this.task = uni.downloadFile({\r\n          url: \"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-app.png\",\r\n          success: (res) => {\r\n            console.log('downloadFile success, res is', res.tempFilePath)\r\n            self.imageSrc = res.tempFilePath;\r\n          },\r\n          fail: (err) => {\r\n            console.log('downloadFile fail, err is:', err)\r\n          },\r\n          complete: (res) => {\r\n            uni.hideLoading();\r\n            this.task = null;\r\n          }\r\n        });\r\n        this.task?.onProgressUpdate((update) => {\r\n          console.log(\"progress : \", update.progress);\r\n        })\r\n      },\r\n      downloadErrorFilename(){\r\n        uni.downloadFile({\r\n          url:\"https://qiniu-web-assets.dcloud.net.cn/uni-app-x/static/file/test9.txt\",\r\n          success: (res) => {\r\n            console.log('downloadFile success, res is', res.tempFilePath)\r\n          },\r\n          fail: (err) => {\r\n            console.log('downloadFile fail, err is:', err)\r\n          }\r\n        })\r\n      },\r\n      //自动化测试例专用\r\n      jest_downloadFile() {\r\n        uni.downloadFile({\r\n          url: \"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-app.png\",\r\n          success: () => {\r\n            this.jest_result = true\r\n            this.jest_callback_triggred = true\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false\r\n            this.jest_callback_triggred = true\r\n          }\r\n        });\r\n      },\r\n\r\n      jest_downloadFile_with_uni_env() {\r\n        uni.downloadFile({\r\n          url: \"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni-app.png\",\r\n          filePath: `${uni.env.CACHE_PATH}/a/b/`,\r\n          success: () => {\r\n            this.jest_result = true\r\n            this.jest_callback_triggred = true\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false\r\n            this.jest_callback_triggred = true\r\n          }\r\n        });\r\n      },\r\n\r\n      jest_set_cookie() {\r\n        uni.request({\r\n          url: \"https://request.dcloud.net.cn/api/http/header/setCookie\",\r\n          method: \"GET\",\r\n          timeout: 6000,\r\n          sslVerify: false,\r\n          withCredentials: true,\r\n          firstIpv4: false,\r\n          success: () => {\r\n            this.jest_cookie_download(true)\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false;\r\n            this.jest_callback_triggred = true\r\n          },\r\n        });\r\n      },\r\n\r\n      jest_delete_cookie() {\r\n        uni.request({\r\n          url: \"https://request.dcloud.net.cn/api/http/header/deleteCookie\",\r\n          method: \"GET\",\r\n          timeout: 6000,\r\n          sslVerify: false,\r\n          withCredentials: true,\r\n          firstIpv4: false,\r\n          success: () => {\r\n            this.jest_cookie_download(false)\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false;\r\n            this.jest_callback_triggred = true\r\n          },\r\n        });\r\n      },\r\n      jest_cookie_download(needCookie : boolean) {\r\n        uni.downloadFile({\r\n          url: \"https://request.dcloud.net.cn/api/http/header/download\",\r\n          success: () => {\r\n            this.jest_result = needCookie ? true : false;\r\n            this.jest_callback_triggred = true\r\n          },\r\n          fail: () => {\r\n            this.jest_result = needCookie ? false : true;\r\n          }\r\n        });\r\n      },\r\n      jest_uts_module_invoked() {\r\n        // #ifdef APP-ANDROID || APP-IOS || APP-HARMONY\r\n        testInovkeDownloadFile({\r\n          success: (res : any) => {\r\n            this.jest_result = true\r\n            this.jest_callback_triggred = true\r\n          },\r\n          fail: (err : any) => {\r\n            this.jest_result = false\r\n            this.jest_callback_triggred = true\r\n          }\r\n        } as CommonOptions)\r\n        // #endif\r\n      },\r\n      jest_special_characters_download() {\r\n        uni.downloadFile({\r\n          url: \"https://web-ext-storage.dcloud.net.cn/hello-uni-app-x/1789834995055525889-你好%23你好.png\",\r\n          success: (res : DownloadFileSuccess) => {\r\n            this.jest_result = true;\r\n            this.jest_callback_triggred = true\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false;\r\n            this.jest_callback_triggred = true\r\n          }\r\n        });\r\n      },\n      jest_download_call_timeout() {\n        uni.downloadFile({\n          url: \"https://web-assets.dcloud.net.cn/video/sample/2minute-demo-10k.mp4\",\n          timeout: 3000,\n          fail: () => {\n            this.jest_result = false;\n          }\n        })\n        setTimeout(() => {\n          this.jest_result = true;\n        }, 4000)\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"getNetworkType":{"name":"## uni.getNetworkType(options) @getnetworktype","description":"获取网络类型","compatibility":"### getNetworkType 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetNetworkTypeOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [GetNetworkTypeSuccess](#getnetworktypesuccess-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### GetNetworkTypeSuccess 的属性值 @getnetworktypesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| networkType | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 网络类型 |\n| hasSystemProxy | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.22.1`<br/><br/>设备是否使用了网络代理<br/> |\n| signalStrength | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 信号强弱，单位 dbm<br/> |\n| weakNet | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `3.5.3`<br/><br/>是否处于弱网环境<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.getNetworkType)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/network/wx.getNetworkType.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getNetworkType&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getNetworkType&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getNetworkType&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getNetworkType&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getNetworkType)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getNetworkType&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-network-type/get-network-type.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-network-type/get-network-type\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-network-type/get-network-type\n\n>Template\n```vue\n<template>\r\n  <page-head :title=\"title\"></page-head>\r\n  <view class=\"uni-padding-wrap uni-common-mt\">\r\n    <view style=\"background:#FFFFFF; padding:20px;\">\r\n      <view class=\"uni-center\">网络状态</view>\r\n      <view v-if=\"hasNetworkType == false\">\r\n        <view class=\"uni-center uni-common-mt\">未获取</view>\r\n        <view class=\"uni-center uni-common-mt\">请点击下面按钮获取网络状态</view>\r\n      </view>\r\n      <view v-if=\"hasNetworkType == true\">\r\n        <view class=\"uni-center uni-common-mt\">{{networkType}}</view>\r\n      </view>\r\n    </view>\r\n    <view class=\"uni-btn-v uni-common-mt\">\r\n      <button type=\"primary\" @tap=\"getNetworkType\">获取设备网络状态</button>\r\n      <button class=\"uni-common-mt\" @tap=\"clear\">清空</button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n\r\n<style>\r\n\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'getNetworkType',\r\n        hasNetworkType: false,\r\n        networkType: '',\r\n        connectedWifi: '',\r\n        //自动化测试例专用\r\n        jest_result: false,\r\n      }\r\n    },\r\n    onLoad() {\r\n    },\r\n    onUnload: function () {\r\n      this.networkType = '';\r\n      this.hasNetworkType = false;\r\n    },\r\n    methods: {\r\n      getNetworkType: function () {\r\n        uni.getNetworkType({\r\n          success: (res) => {\r\n            console.log(res)\r\n            this.hasNetworkType = true;\r\n            this.networkType = res.networkType\r\n          },\r\n          fail: () => {\r\n            uni.showModal({\r\n              content: '获取失败！',\r\n              showCancel: false\r\n            })\r\n          }\r\n        })\r\n      },\r\n      clear: function () {\r\n        this.hasNetworkType = false;\r\n        this.networkType = '';\r\n        this.connectedWifi = '';\r\n      },\r\n      //自动化测试例专用\r\n      jest_getNetworkType() {\r\n        uni.getNetworkType({\r\n          success: () => {\r\n            this.jest_result = true;\r\n          },\r\n          fail: () => {\r\n            this.jest_result = false;\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"connectSocket":{"name":"## uni.connectSocket(options) @connectsocket","description":"创建一个 WebSocket 连接。","compatibility":"### connectSocket 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ConnectSocketOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 开发者服务器接口地址 |\n@| header | [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"-\"]]}' /> | HTTP 请求 Header，header 中不能设置 Referer |\n@| protocols | Array&lt;string&gt; | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"-\"]]}' /> | 子协议数组 |\n@| success | (result: [ConnectSocketSuccess](#connectsocketsuccess-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [ConnectSocketFail](#connectsocketfail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| forceCellularNetwork | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.29.0`<br/><br/>强制使用蜂窝网络发送请求<br/> |\n@| perMessageDeflate | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.8.0`<br/><br/>是否开启压缩扩展<br/> |\n@| tcpNoDelay | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.4.0`<br/><br/>建立 TCP 连接的时候的 TCP_NODELAY 设置<br/> |\n@| timeout | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.10.0`<br/><br/>超时时间，单位为毫秒<br/> | \n\n#### ConnectSocketSuccess 的属性值 @connectsocketsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n\n#### ConnectSocketFail 的属性值 @connectsocketfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码<br/>- 600009 URL格式不合法 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [SocketTask](#sockettask-values) |\n\n#### SocketTask 的方法 @sockettask-values \n\n#### send(options: SendSocketMessageOptions): void; @send\n通过 WebSocket 连接发送数据\n##### send 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SendSocketMessageOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| data | any | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 需要发送的内容, app平台从 4.61 版本开始支持ArrayBuffer |\n@| success | (result: [GeneralCallbackResult](#generalcallbackresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SendSocketMessageFail](#sendsocketmessagefail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### SendSocketMessageFail 的属性值 @sendsocketmessagefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 10001 | - | 发送数据超限，发送队列不能超过16M大小。 |\n@| 10002 | - | websocket未连接 |\n@| 602001 | - | websocket系统错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### close(options: CloseSocketOptions): void; @close\n关闭 WebSocket 连接\n##### close 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CloseSocketOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| code | number | 否 | 1000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 一个数字值表示关闭连接的状态号，表示连接被关闭的原因。如果这个参数没有被指定，默认的取值是1000 （表示正常连接关闭） |\n@| reason | string | 否 | \"\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 一个可读的字符串，表示连接被关闭的原因。这个字符串必须是不长于123字节的UTF-8 文本（不是字符） |\n@| success | (result: [GeneralCallbackResult](#generalcallbackresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [GeneralCallbackResult](#generalcallbackresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [GeneralCallbackResult](#generalcallbackresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### onOpen(callback: (result: OnSocketOpenCallbackResult) => void): void; @onopen\n监听 WebSocket 连接打开事件\n##### onOpen 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnSocketOpenCallbackResult](#onsocketopencallbackresult-values)) => void | 是 | - | - | - | \n\n##### OnSocketOpenCallbackResult 的属性值 @onsocketopencallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| header | any | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 连接成功的 HTTP 响应 Header |\n\n\n#### onClose(callback: (result: any) => void): void; @onclose\n监听 WebSocket 连接关闭事件\n##### onClose 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onError(callback: (result: GeneralCallbackResult) => void): void; @onerror\n监听 WebSocket 错误\n##### onError 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [GeneralCallbackResult](#generalcallbackresult-values)) => void | 是 | - | - | - | \n\n\n#### onMessage(callback: (result: OnSocketMessageCallbackResult) => void): void; @onmessage\n监听 WebSocket 接受到服务器的消息事件\n##### onMessage 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnSocketMessageCallbackResult](#onsocketmessagecallbackresult-values)) => void | 是 | - | - | - | \n\n##### OnSocketMessageCallbackResult 的属性值 @onsocketmessagecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| data | any | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 服务器返回的消息, app平台从 4.61 版本开始支持ArrayBuffer |\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.websocket.connectSocket)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/websocket/SocketTask.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=connectSocket&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=connectSocket&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=connectSocket&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=connectSocket&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=connectSocket)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=connectSocket&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onSocketClose":{"name":"## uni.~~onSocketClose(callback)~~ @onsocketclose","description":"监听WebSocket关闭。  **已废弃，使用 SocketTask 的 onClose 替换。**","compatibility":"### onSocketClose 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnSocketCloseCallbackResult](#onsocketclosecallbackresult-values)) => void | 是 | - | - | - | \n\n### OnSocketCloseCallbackResult 的属性值 @onsocketclosecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| code | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 一个数字值表示关闭连接的状态号，表示连接被关闭的原因。 |\n| reason | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 一个可读的字符串，表示连接被关闭的原因。 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.websocket.onSocketOpen)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/websocket/wx.onSocketClose.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onSocketClose&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onSocketClose&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onSocketClose&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onSocketClose&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onSocketClose)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onSocketClose&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"closeSocket":{"name":"## uni.~~closeSocket(options)~~ @closesocket","description":"关闭 WebSocket 连接。  **已废弃，使用 SocketTask 的 close 替换。**","compatibility":"### closeSocket 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CloseSocketOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| code | number | 否 | 1000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 一个数字值表示关闭连接的状态号，表示连接被关闭的原因。如果这个参数没有被指定，默认的取值是1000 （表示正常连接关闭） |\n@| reason | string | 否 | \"\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 一个可读的字符串，表示连接被关闭的原因。这个字符串必须是不长于123字节的UTF-8 文本（不是字符） |\n@| success | (result: [GeneralCallbackResult](#generalcallbackresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [GeneralCallbackResult](#generalcallbackresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [GeneralCallbackResult](#generalcallbackresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.websocket.onSocketError)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/websocket/wx.closeSocket.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=closeSocket&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=closeSocket&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=closeSocket&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=closeSocket&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=closeSocket)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=closeSocket&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onSocketMessage":{"name":"## uni.~~onSocketMessage(callback)~~ @onsocketmessage","description":"监听WebSocket接受到服务器的消息事件。  **已废弃，使用 SocketTask 的 onMessage 替换。**","compatibility":"### onSocketMessage 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnSocketMessageCallbackResult](#onsocketmessagecallbackresult-values)) => void | 是 | - | - | - | \n\n### OnSocketMessageCallbackResult 的属性值 @onsocketmessagecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| data | any | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 服务器返回的消息, app平台从 4.61 版本开始支持ArrayBuffer |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.websocket.sendSocketMessage)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/websocket/wx.onSocketMessage.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onSocketMessage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onSocketMessage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onSocketMessage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onSocketMessage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onSocketMessage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onSocketMessage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"sendSocketMessage":{"name":"## uni.~~sendSocketMessage(options)~~ @sendsocketmessage","description":"通过 WebSocket 连接发送数据，需要先 uni.connectSocket，并在 uni.onSocketOpen 回调之后才能发送。  **已废弃，使用 SocketTask 的 send 替换。**","compatibility":"### sendSocketMessage 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SendSocketMessageOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| data | any | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 需要发送的内容, app平台从 4.61 版本开始支持ArrayBuffer |\n@| success | (result: [GeneralCallbackResult](#generalcallbackresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [SendSocketMessageFail](#sendsocketmessagefail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SendSocketMessageFail 的属性值 @sendsocketmessagefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 10001 | - | 发送数据超限，发送队列不能超过16M大小。 |\n@| 10002 | - | websocket未连接 |\n@| 602001 | - | websocket系统错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.websocket.onSocketMessage)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/websocket/wx.sendSocketMessage.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=sendSocketMessage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=sendSocketMessage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=sendSocketMessage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=sendSocketMessage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=sendSocketMessage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=sendSocketMessage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onSocketError":{"name":"## uni.~~onSocketError(callback)~~ @onsocketerror","description":"监听WebSocket错误。  **已废弃，使用 SocketTask 的 onError 替换。**","compatibility":"### onSocketError 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnSocketErrorCallbackResult](#onsocketerrorcallbackresult-values)) => void | 是 | - | - | - | \n\n### OnSocketErrorCallbackResult 的属性值 @onsocketerrorcallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.websocket.closeSocket)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/websocket/wx.onSocketError.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onSocketError&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onSocketError&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onSocketError&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onSocketError&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onSocketError)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onSocketError&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onSocketOpen":{"name":"## uni.~~onSocketOpen(options)~~ @onsocketopen","description":"监听WebSocket连接打开事件。  **已废弃，使用 SocketTask 的 onOpen 替换。**","compatibility":"### onSocketOpen 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | (result: [OnSocketOpenCallbackResult](#onsocketopencallbackresult-values)) => void | 是 | - | - | - | \n\n### OnSocketOpenCallbackResult 的属性值 @onsocketopencallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| header | any | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 连接成功的 HTTP 响应 Header |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.websocket.onSocketClose)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/network/websocket/wx.onSocketOpen.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onSocketOpen&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onSocketOpen&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onSocketOpen&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onSocketOpen&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onSocketOpen)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onSocketOpen&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"websocket":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/websocket/websocket.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/websocket/websocket\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/websocket/websocket\n\n>Template\n```vue\n<template>\r\n  <page-head title=\"websocket通讯示例\"></page-head>\r\n  <view class=\"uni-padding-wrap\">\r\n    <view class=\"uni-btn-v\">\r\n      <text class=\"websocket-msg\">{{ showMsg }}</text>\r\n      <button class=\"uni-btn-v\" type=\"primary\" @click=\"connect\">\r\n        连接websocket服务\r\n      </button>\r\n      <button class=\"uni-btn-v\" v-show=\"connected\" type=\"primary\" @click=\"send\">\r\n        发送一条消息\r\n      </button>\r\n      <button class=\"uni-btn-v\" type=\"primary\" @click=\"close\">\r\n        断开websocket服务\r\n      </button>\r\n      <text class=\"websocket-tips\">发送消息后会收到一条服务器返回的消息（与发送的消息内容一致）</text>\r\n      <text class=\"websocket-tips\">web端和小程序端uni-push功能、app-android端和app-ios端的web-view组件日志回显、app-harmony端的日志回显会占用一个socket链接，此时使用全局的socket api会引发混乱。应使用socketTask操作websocket链接。</text>\n      <text class=\"websocket-tips\">小程序端日志回显功能也会占用一个socket链接，如果不希望使用此功能可以在HBuilderX控制台关闭日志回显。</text>\r\n      <button class=\"uni-btn-v\" type=\"primary\" @click=\"goSocketTask\">\r\n        跳转 socketTask 示例\r\n      </button>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .uni-btn-v {\r\n    padding: 5px 0;\r\n  }\r\n\r\n  .uni-btn-v {\r\n    margin: 10px 0;\r\n  }\r\n\r\n  .websocket-msg {\r\n    padding: 40px 0px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    line-height: 40px;\r\n    color: #666666;\r\n  }\r\n\r\n  .websocket-tips {\r\n    padding: 10px 0px;\r\n    text-align: center;\r\n    font-size: 14px;\r\n    line-height: 24px;\r\n    color: #666666;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        connected: false,\r\n        connecting: false,\r\n        msg: '',\r\n        roomId: '',\r\n        platform: '',\r\n      }\r\n    },\r\n    computed: {\r\n      showMsg() : string {\r\n        if (this.connected) {\r\n          if (this.msg.length > 0) {\r\n            return '收到消息：' + this.msg\r\n          } else {\r\n            return '等待接收消息'\r\n          }\r\n        } else {\r\n          return '尚未连接'\r\n        }\r\n      },\r\n    },\r\n    onLoad() {\r\n      this.platform = uni.getDeviceInfo().platform as string\r\n    },\r\n    onUnload() {\r\n      uni.closeSocket({\r\n        code: 1000,\r\n        reason: 'close reason from client',\r\n        success: (res : any) => {\r\n          console.log('uni.closeSocket success', res)\r\n        },\r\n        fail: (err : any) => {\r\n          console.log('uni.closeSocket fail', err)\r\n        },\r\n      } as CloseSocketOptions)\r\n      uni.hideLoading()\r\n    },\r\n    methods: {\r\n      connect() {\r\n        if (this.connected || this.connecting) {\r\n          uni.showModal({\r\n            content: '正在连接或者已经连接，请勿重复连接',\r\n            showCancel: false,\r\n          })\r\n          return\r\n        }\r\n        this.connecting = true\r\n        uni.showLoading({\r\n          title: '连接中...',\r\n        })\r\n        uni.connectSocket({\r\n          url: 'wss://websocket.dcloud.net.cn',\r\n          header: null,\r\n          protocols: null,\r\n          success: (res : any) => {\r\n            // 这里是接口调用成功的回调，不是连接成功的回调，请注意\r\n            console.log('uni.connectSocket success', res)\r\n          },\r\n          fail: (err : any) => {\r\n            // 这里是接口调用失败的回调，不是连接失败的回调，请注意\r\n            console.log('uni.connectSocket fail', err)\r\n          },\r\n        })\r\n        uni.onSocketOpen((res) => {\r\n          this.connecting = false\r\n          this.connected = true\r\n          uni.hideLoading()\r\n\r\n          uni.showToast({\r\n            icon: 'none',\r\n            title: '连接成功',\r\n          })\r\n          console.log('onOpen', res)\r\n        })\r\n        uni.onSocketError((err) => {\r\n          this.connecting = false\r\n          this.connected = false\r\n          uni.hideLoading()\r\n\r\n          uni.showModal({\r\n            content: '连接失败，可能是websocket服务不可用，请稍后再试',\r\n            showCancel: false,\r\n          })\r\n          console.log('onError', err)\r\n        })\r\n        uni.onSocketMessage((res) => {\n\t\t   if(res.data instanceof ArrayBuffer){\n\t\t   \tvar int8 = new Int8Array(res.data)\n\t\t   \tthis.msg = int8.toString()\n\t\t   \tconsole.log('onMessage', res)\n\t\t   }else{\n\t\t   \tthis.msg = res.data as string\n\t\t   \tconsole.log('onMessage', res)\n\t\t   }\r\n        })\r\n        uni.onSocketClose((res) => {\r\n          this.connected = false\r\n          this.msg = ''\r\n          console.log('onClose', res)\r\n        })\r\n      },\r\n      send() {\r\n        uni.sendSocketMessage({\r\n          data:\r\n            'from ' +\r\n            this.platform +\r\n            ' : ' +\r\n            parseInt((Math.random() * 10000).toString()).toString(),\r\n          success: (res : any) => {\r\n            console.log(res)\r\n          },\r\n          fail: (err : any) => {\r\n            console.log(err)\r\n          },\r\n        } as SendSocketMessageOptions)\r\n      },\r\n      close() {\r\n        uni.closeSocket({\r\n          code: 1000,\r\n          reason: 'close reason from client',\r\n          success: (res : any) => {\r\n            console.log('uni.closeSocket success', res)\r\n          },\r\n          fail: (err : any) => {\r\n            console.log('uni.closeSocket fail', err)\r\n          },\r\n        } as CloseSocketOptions)\r\n      },\r\n      goSocketTask() {\r\n        uni.navigateTo({\r\n          url: '/pages/API/websocket/socketTask',\r\n        })\r\n      }\r\n    },\r\n  }\r\n\n```\n\n:::"},"connectEventSource":{"name":"## uni.connectEventSource(options) @connecteventsource","description":"连接 SSE","compatibility":"### connectEventSource 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.51 | 4.51 | 4.63 | 4.63 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ConnectEventSourceOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| url | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.63\",\"4.63\",\"x\"]]}' /> | 服务器地址 |\n@| header | [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.61\",\"4.61\",\"4.63\",\"4.63\",\"x\"]]}' /> | 请求头 | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [UniEventSource](#unieventsource-values) |\n\n#### UniEventSource 的方法 @unieventsource-values \n\n#### onMessage(callback : ConnectEventSourceCallback) : void @onmessage\nmessage 事件，会在通过事件源收到数据时触发。\n##### onMessage 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| x | - | 4.51 | 4.51 | 4.63 | 4.63 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (ev: [UniMessageEvent](#unimessageevent-values)) => void | 是 | - | - | 事件回调 | \n\n##### UniMessageEvent 的属性值 @unimessageevent-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| type | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.63\",\"4.63\",\"x\"]]}' /> | 事件类型。 |\n| data | any | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.63\",\"4.63\",\"x\"]]}' /> | 消息发射器发出的数据。 |\n| lastEventId | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.63\",\"4.63\",\"x\"]]}' /> | 一个字符串，表示事件的唯一 ID。 |\n\n\n#### onError(callback : ConnectEventSourceErrorCallback) : void @onerror\nonerror 是当发生错误且这个错误事件（error）被 UniEventSource 触发时调用的一个事件处理函数。\n##### onError 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| x | - | 4.51 | 4.51 | 4.63 | 4.63 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (error: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 是 | - | - | 事件回调 | \n\n\n#### onOpen(callback : ConnectEventSourceCallback) : void @onopen\n一个事件处理器，它在收到 open 事件时被调用，在那时，连接刚被打开。\n##### onOpen 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| x | - | 4.51 | 4.51 | 4.63 | 4.63 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (ev: [UniMessageEvent](#unimessageevent-values)) => void | 是 | - | - | 事件回调 | \n\n\n#### close() : void @close\n关闭当前的连接\n##### close 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| x | - | 4.51 | 4.51 | 4.63 | 4.63 | x |\n\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.network.connectEventSource)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=connectEventSource&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=connectEventSource&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=connectEventSource&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=connectEventSource&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=connectEventSource&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=connectEventSource)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=connectEventSource&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/connect-event-source/connect-event-source.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/connect-event-source/connect-event-source\n```uvue\n<template>\n\r\n  <page-head :title=\"title\"></page-head>\r\n\t<button class=\"button\" type=\"primary\" @click=\"connect\">连接</button>\r\n\t<button class=\"button\" type=\"primary\" @click=\"close\">关闭</button>\r\n\r\n\t<!-- #ifdef APP -->\r\n\t<scroll-view style=\"flex:1\">\r\n\t<!-- #endif -->\r\n\t\t<view>\r\n\t\t\t<text style=\"width: 100%; text-align: center; margin-bottom: 5px;\">\n\t\t\t  显示简易操作日志(可滚动查看)\n\t\t\t</text>\n\t\t\t<button size=\"mini\" @click=\"logList = []\">清空日志</button>\r\n\t\t\t<view style=\"margin-top: 10px;\">\r\n\t\t\t\t<view v-for=\"(item, index) in logList\" :key=\"index\">\r\n\t\t\t\t\t<text style=\"margin-left: 20px; margin-right: 20px;\">\r\n\t\t\t\t\t\t{{ item }}\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t<!-- #ifdef APP -->\r\n\t</scroll-view>\r\n\t<!-- #endif -->\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tlogList: [] as string[],\r\n\t\t\t\ttitle: 'sse',\r\n\t\t\t\turl: 'https://request.dcloud.net.cn/api/sse/connect',\r\n\t\t\t\teventSource: null as UniEventSource | null,\r\n\t\t\t\topen: false,\r\n\t\t\t\treceiveMessage: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tunmounted() {\r\n\t\t\tif (this.eventSource != null) {\r\n\t\t\t\tthis.eventSource?.close()\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tconnect() {\r\n\t\t\t\tconsole.log('connect start')\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: \"\",\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t})\r\n\t\t\t\tthis.eventSource?.close()\r\n\t\t\t\tlet headers : UTSJSONObject = new UTSJSONObject()\r\n\t\t\t\theaders.set(\"header1\", \"value1\")\r\n\t\t\t\theaders.set(\"header2\", \"value3\")\r\n\t\t\t\tthis.eventSource = uni.connectEventSource({\r\n\t\t\t\t\turl: this.url,\r\n\t\t\t\t\theader: headers\r\n\t\t\t\t})\r\n\t\t\t\tthis.eventSource?.onMessage((ev) => {\r\n\t\t\t\t\tconst log = 'onMessage callback:' + '\\n' + 'type: ' + ev.type + '\\n' + 'data: ' + ev.data + '\\n\\n'\r\n\t\t\t\t\tthis.logList.push(log)\r\n\t\t\t\t\tthis.receiveMessage = true\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t\tthis.eventSource?.onOpen((ev) => {\r\n\t\t\t\t\tconst log = 'onOpen callback: ' + ev.type + '\\n\\n'\r\n\t\t\t\t\tthis.logList.push(log)\r\n\t\t\t\t\tthis.open = true\r\n\t\t\t\t})\r\n\t\t\t\tthis.eventSource?.onError((err) => {\r\n          const log = `onError callback: ${err} \\n\\n`\r\n\t\t\t\t\tthis.logList.push(log)\r\n\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclose() {\r\n\t\t\t\tthis.eventSource?.close()\r\n\t\t\t\tconst log = 'connect close' + '\\n\\n'\r\n\t\t\t\tthis.logList.push(log)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.button {\r\n\t\tmargin-left: 30px;\r\n\t\tmargin-right: 30px;\r\n\t\tmargin-bottom: 15px;\r\n\t}\r\n</style>\n\n```\n:::"},"getSystemInfo":{"name":"## uni.getSystemInfo(options) @getsysteminfo","description":"异步获取系统信息","compatibility":"### getSystemInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetSystemInfoOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [GetSystemInfoResult](#getsysteminforesult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### GetSystemInfoResult 的属性值 @getsysteminforesult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| SDKVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 客户端基础库版本<br/> |\n| appId | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用appid。<br/> |\n| appLanguage | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 应用设置的语言。<br/> |\n| appName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用名称。<br/> |\n| appVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用版本名称。<br/> |\n| appVersionCode | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用版本名号。<br/> |\n| appWgtVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"4.61\"]]}' /> | 应用资源（wgt）的版本名称。<br/> |\n| browserName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"x\",\"3.9\",\"4.11\",\"x\"]]}' /> | 浏览器名称。`App` 端是系统 webview 的名字，比如 wkwebview、chrome。小程序端为空<br/> |\n| browserVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"x\",\"3.9\",\"4.11\",\"x\"]]}' /> | 浏览器版本、webview 版本。<br/> |\n| deviceId | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备 ID<br/> |\n| deviceBrand | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备品牌。如：`apple`、`huawei`。<br/> |\n| deviceModel | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备型号<br/> |\n| deviceType | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备类型。<br/> |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| phone | - | - |\n@| pad | - | - |\n@| tv | - | - |\n@| watch | - | - |\n@| pc | - | - |\n@| undefined | - | - |\n@| car | - | - |\n@| vr | - | - |\n@| appliance | - | - |\n| devicePixelRatio | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备像素比<br/> |\n| deviceOrientation | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备方向。<br/> |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| portrait | - | 纵向 |\n@| landscape | - | 横向 |\n| osName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 系统名称<br/> |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| ios | - | - |\n@| android | - | - |\n@| harmonyos | - | - |\n@| macos | - | - |\n@| windows | - | - |\n@| linux | - | - |\n| osVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 操作系统版本。如 ios 版本，andriod 版本<br/> |\n| osLanguage | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 操作系统语言<br/> |\n| osTheme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"4.11\",\"4.61\"]]}' /> | 操作系统主题<br/> |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| light | - | - |\n@| dark | - | - |\n| screenWidth | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 屏幕宽度，单位为px<br/> |\n| screenHeight | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 屏幕高度，单位为px<br/> |\n| statusBarHeight | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 状态栏的高度，单位为px<br/> |\n| safeArea | **SafeArea** | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 在竖屏正方向下的安全区域<br/> |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| left | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域左上角横坐标，单位为px<br/> |\n@| right | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域右下角横坐标，单位为px<br/> |\n@| top | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域左上角纵坐标，单位为px<br/> |\n@| bottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域右下角纵坐标，单位为px<br/> |\n@| width | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域的宽度，单位为px<br/> |\n@| height | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域的高度，单位为px<br/> |\n| safeAreaInsets | **SafeAreaInsets** | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 在竖屏正方向下的安全区域插入位置<br/> |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| left | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域左侧插入位置（距离左边边界距离），单位为px<br/> |\n@| right | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域右侧插入位置（距离右边边界距离），单位为px<br/> |\n@| top | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区顶部插入位置（距离顶部边界距离），单位为px<br/> |\n@| bottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域底部插入位置（距离底部边界距离），单位为px<br/> |\n| ua | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"x\",\"3.9\",\"4.11\",\"x\"]]}' /> | 用户标识。小程序端为空<br/> |\n| uniCompilerVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni 编译器版本。<br/> |\n| uniPlatform | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni-app 运行平台，与条件编译平台相同。<br/> |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| app | - | - |\n@| web | - | - |\n@| mp-weixin | - | - |\n@| mp-alipay | - | - |\n@| mp-baidu | - | - |\n@| mp-toutiao | - | - |\n@| mp-lark | - | - |\n@| mp-qq | - | - |\n@| mp-kuaishou | - | - |\n@| mp-jd | - | - |\n@| mp-360 | - | - |\n@| quickapp-webview | - | - |\n@| quickapp-webview-union | - | - |\n@| quickapp-webview-huawei | - | - |\n| uniRuntimeVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni 运行时版本。<br/> |\n| uniCompilerVersionCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni 编译器版本号。<br/> |\n| uniRuntimeVersionCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni 运行时版本号。<br/> |\n| romName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | rom 名称。Android 部分机型获取不到值。iOS 恒为 `ios`<br/> |\n| romVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | rom 版本号。Android 部分机型获取不到值。iOS 为操作系统版本号（同 `osVersion`）。<br/> |\n| windowWidth | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 可使用窗口宽度，单位为px<br/> |\n| windowHeight | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 可使用窗口高度，单位为px<br/> |\n| windowTop | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 内容区域距离顶部的距离（同CSS变量 `--window-top`），单位为px<br/> |\n| windowBottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 内容区域距离底部的距离（同CSS变量 `--window-bottom`），单位为px<br/> |\n| osAndroidAPILevel | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"x\",\"x\"]]}' /> | Android 系统API库的版本。<br/> |\n| osHarmonySDKAPIVersion | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"x\",\"4.61\"]]}' /> | 鸿蒙系统软件API版本<br/> |\n| osHarmonyDisplayVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"x\",\"4.61\"]]}' /> | 产品版本，关于本机信息内的软件版本<br/> |\n| appTheme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | 当前App的主题<br/> |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| light | - | - |\n@| dark | - | - |\n@| auto | - | - |\n| albumAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信使用相册的开关（仅 iOS 有效）<br/> |\n| benchmarkLevel | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `1.8.0`<br/><br/>设备性能等级（仅 Android）。取值为：-2 或 0（该设备无法运行小游戏），-1（性能未知），>=1（设备性能值，该值越高，设备性能越好）<br> 注意：性能等级当前仅反馈真机机型，暂不支持 IDE 模拟器机型<br/> |\n| bluetoothEnabled | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>蓝牙的系统开关<br/> |\n| cameraAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信使用摄像头的开关<br/> |\n| enableDebug | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.15.0`<br/><br/>是否已打开调试。可通过右上角菜单或 [uni.setEnableDebug](https://developers.weixin.qq.com/miniprogram/dev/api/base/debug/wx.setEnableDebug.html) 打开调试。<br/> |\n| fontSizeSetting | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `1.5.0`<br/><br/>用户字体大小（单位px）。以微信客户端「我-设置-通用-字体大小」中的设置为准<br/> |\n| host | **GetSystemInfoResultHost** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.12.3`<br/><br/>当前小程序运行的宿主环境<br/> |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| appId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 宿主 app 对应的 appId<br/> |\n| locationAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信使用定位的开关<br/> |\n| locationEnabled | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>地理位置的系统开关<br/> |\n| locationReducedAccuracy | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | `true` 表示模糊定位，`false` 表示精确定位，仅 iOS 支持<br/> |\n| microphoneAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信使用麦克风的开关<br/> |\n| notificationAlertAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信通知带有提醒的开关（仅 iOS 有效）<br/> |\n| notificationAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信通知的开关<br/> |\n| notificationBadgeAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信通知带有标记的开关（仅 iOS 有效）<br/> |\n| notificationSoundAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信通知带有声音的开关（仅 iOS 有效）<br/> |\n| phoneCalendarAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.19.3`<br/><br/>允许微信使用日历的开关<br/> |\n| wifiEnabled | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>Wi-Fi 的系统开关<br/> |\n| theme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.11.0`<br/><br/>系统当前主题，取值为`light`或`dark`，全局配置`\"darkmode\":true`时才能获取，否则为 undefined （不支持小游戏）<br/><br/>可选值：<br/>- 'dark': 深色主题;<br/>- 'light': 浅色主题;<br/> |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| dark | - | - |\n@| light | - | - |\n| ~~version~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 引擎版本号。  **已废弃，仅为了向下兼容保留** |\n| ~~uniCompileVersionCode~~ | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | uni 编译器版本号。  **已废弃，仅为了向下兼容保留** |\n| ~~uniCompileVersion~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | uni 编译器版本。  **已废弃，仅为了向下兼容保留** |\n| ~~system~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 操作系统版本  **已废弃，仅为了向下兼容保留** |\n| ~~platform~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 客户端平台  **已废弃，仅为了向下兼容保留** |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| ios | - | - |\n@| android | - | - |\n@| harmonyos | - | - |\n@| mac | - | - |\n@| windows | - | - |\n@| linux | - | - |\n@| devtools | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | - |\n| ~~pixelRatio~~ | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 设备像素比  **已废弃，仅为了向下兼容保留** |\n| ~~model~~ | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 手机型号  **已废弃，仅为了向下兼容保留** |\n| ~~language~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 程序设置的语言  **已废弃，仅为了向下兼容保留** |\n| ~~brand~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 手机品牌。  **已废弃，仅为了向下兼容保留** |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getSystemInfo.getSystemInfo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/system/wx.getSystemInfo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getSystemInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getSystemInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getSystemInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getSystemInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getSystemInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getSystemInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-system-info/get-system-info.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-system-info/get-system-info\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-system-info/get-system-info\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-common-mt\">\r\n        <view class=\"uni-list\">\r\n          <view class=\"uni-list-cell\" v-for=\"(item, _) in items\" style=\"align-items: center\">\r\n            <view class=\"uni-pd\">\r\n              <view class=\"uni-label\" style=\"width: 180px\">{{\r\n                item.label\r\n              }}</view>\r\n            </view>\r\n            <view class=\"uni-list-cell-db\">\r\n              <text class=\"uni-list-cell-db-text\">{{ item.value == '' ? '未获取' : item.value }}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"uni-padding-wrap\">\r\n          <view class=\"uni-btn-v\">\r\n            <button type=\"primary\" @tap=\"getSystemInfoSync\">\r\n              同步获取设备系统信息\r\n            </button>\r\n            <button type=\"primary\" @tap=\"getSystemInfo\" style=\"margin-top: 20px;\">\r\n              异步获取设备系统信息\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n<style>\r\n  .uni-pd {\r\n    padding-left: 15px;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  type Item = {\r\n    label : string,\r\n    value : string,\r\n  }\r\n\r\n  let globalScreenHeight = 0\r\n  try {\r\n    globalScreenHeight = uni.getWindowInfo().screenHeight\r\n  } catch (e) {\r\n    // 兼容本地测试\r\n    console.error(e)\r\n  }\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'getSystemInfo',\r\n        items: [] as Item[],\r\n        screenHeightAtReady: 0,\r\n        jest_result: false,\r\n      }\r\n    },\r\n    onUnload: function () {\r\n    },\r\n    onReady() {\r\n      this.screenHeightAtReady = uni.getSystemInfoSync().screenHeight\r\n      console.log(`全局获取屏幕高度: ${globalScreenHeight}  onReady内获取屏幕高度: ${this.screenHeightAtReady}`);\r\n    },\r\n    methods: {\r\n      getSystemInfo: function () {\r\n        uni.getSystemInfo({\r\n          success: (res) => {\r\n            this.items = [] as Item[];\r\n            const res_str = JSON.stringify(res);\r\n            const res_obj = JSON.parseObject(res_str);\r\n            const res_map = res_obj!.toMap();\r\n            let keys = [] as string[]\r\n            res_map.forEach((_, key) => {\r\n              keys.push(key);\r\n            });\r\n            keys.sort().forEach(key => {\r\n              const value = res[key];\r\n              if (value != null) {\r\n                const item = {\r\n                  label: key,\r\n                  value: \"\" + ((typeof value == \"object\") ? JSON.stringify(value) : value)\r\n                } as Item;\r\n                this.items.push(item);\r\n              }\r\n            });\r\n          },\r\n        })\r\n      },\r\n      getSystemInfoSync: function () {\r\n        this.items = [] as Item[];\r\n        const res = uni.getSystemInfoSync()\r\n        const res_str = JSON.stringify(res);\r\n        const res_obj = JSON.parseObject(res_str);\r\n        const res_map = res_obj!.toMap();\r\n        let keys = [] as string[]\r\n        res_map.forEach((_, key) => {\r\n          keys.push(key);\r\n        });\r\n        keys.sort().forEach(key => {\r\n          const value = res[key];\r\n          if (value != null) {\r\n            const item = {\r\n              label: key,\r\n              value: \"\" + ((typeof value == \"object\") ? JSON.stringify(value) : value)\r\n            } as Item;\r\n            this.items.push(item);\r\n          }\r\n        });\r\n      },\r\n      //自动化测试例专用\r\n      jest_getSystemInfo() : GetSystemInfoResult {\r\n        return uni.getSystemInfoSync();\r\n      },\r\n      jest_getScreenHeight_at_different_stages() {\r\n        this.jest_result = (globalScreenHeight == this.screenHeightAtReady)\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"getSystemInfoSync":{"name":"## uni.getSystemInfoSync() @getsysteminfosync","description":"同步获取系统信息","compatibility":"### getSystemInfoSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| **GetSystemInfoResult** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SDKVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 客户端基础库版本<br/> |\n@| appId | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用appid。<br/> |\n@| appLanguage | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 应用设置的语言。<br/> |\n@| appName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用名称。<br/> |\n@| appVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用版本名称。<br/> |\n@| appVersionCode | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用版本名号。<br/> |\n@| appWgtVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"4.61\"]]}' /> | 应用资源（wgt）的版本名称。<br/> |\n@| browserName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"x\",\"3.9\",\"4.11\",\"x\"]]}' /> | 浏览器名称。`App` 端是系统 webview 的名字，比如 wkwebview、chrome。小程序端为空<br/> |\n@| browserVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"x\",\"3.9\",\"4.11\",\"x\"]]}' /> | 浏览器版本、webview 版本。<br/> |\n@| deviceId | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备 ID<br/> |\n@| deviceBrand | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备品牌。如：`apple`、`huawei`。<br/> |\n@| deviceModel | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备型号<br/> |\n@| deviceType | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备类型。<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| phone | - | - |\n@@| pad | - | - |\n@@| tv | - | - |\n@@| watch | - | - |\n@@| pc | - | - |\n@@| null | - | - |\n@@| car | - | - |\n@@| vr | - | - |\n@@| appliance | - | - |\n@| devicePixelRatio | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备像素比<br/> |\n@| deviceOrientation | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备方向。<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| portrait | - | 纵向 |\n@@| landscape | - | 横向 |\n@| osName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 系统名称<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ios | - | - |\n@@| android | - | - |\n@@| harmonyos | - | - |\n@@| macos | - | - |\n@@| windows | - | - |\n@@| linux | - | - |\n@| osVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 操作系统版本。如 ios 版本，andriod 版本<br/> |\n@| osLanguage | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 操作系统语言<br/> |\n@| osTheme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"4.11\",\"4.61\"]]}' /> | 操作系统主题<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| light | - | - |\n@@| dark | - | - |\n@| screenWidth | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 屏幕宽度，单位为px<br/> |\n@| screenHeight | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 屏幕高度，单位为px<br/> |\n@| statusBarHeight | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 状态栏的高度，单位为px<br/> |\n@| safeArea | **SafeArea** | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 在竖屏正方向下的安全区域<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| left | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域左上角横坐标，单位为px<br/> |\n@@| right | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域右下角横坐标，单位为px<br/> |\n@@| top | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域左上角纵坐标，单位为px<br/> |\n@@| bottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域右下角纵坐标，单位为px<br/> |\n@@| width | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域的宽度，单位为px<br/> |\n@@| height | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域的高度，单位为px<br/> |\n@| safeAreaInsets | **SafeAreaInsets** | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 在竖屏正方向下的安全区域插入位置<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| left | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域左侧插入位置（距离左边边界距离），单位为px<br/> |\n@@| right | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域右侧插入位置（距离右边边界距离），单位为px<br/> |\n@@| top | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区顶部插入位置（距离顶部边界距离），单位为px<br/> |\n@@| bottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域底部插入位置（距离底部边界距离），单位为px<br/> |\n@| ua | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"x\",\"3.9\",\"4.11\",\"x\"]]}' /> | 用户标识。小程序端为空<br/> |\n@| uniCompilerVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni 编译器版本。<br/> |\n@| uniPlatform | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni-app 运行平台，与条件编译平台相同。<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| app | - | - |\n@@| web | - | - |\n@@| mp-weixin | - | - |\n@@| mp-alipay | - | - |\n@@| mp-baidu | - | - |\n@@| mp-toutiao | - | - |\n@@| mp-lark | - | - |\n@@| mp-qq | - | - |\n@@| mp-kuaishou | - | - |\n@@| mp-jd | - | - |\n@@| mp-360 | - | - |\n@@| quickapp-webview | - | - |\n@@| quickapp-webview-union | - | - |\n@@| quickapp-webview-huawei | - | - |\n@| uniRuntimeVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni 运行时版本。<br/> |\n@| uniCompilerVersionCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni 编译器版本号。<br/> |\n@| uniRuntimeVersionCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | uni 运行时版本号。<br/> |\n@| romName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | rom 名称。Android 部分机型获取不到值。iOS 恒为 `ios`<br/> |\n@| romVersion | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | rom 版本号。Android 部分机型获取不到值。iOS 为操作系统版本号（同 `osVersion`）。<br/> |\n@| windowWidth | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 可使用窗口宽度，单位为px<br/> |\n@| windowHeight | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 可使用窗口高度，单位为px<br/> |\n@| windowTop | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 内容区域距离顶部的距离（同CSS变量 `--window-top`），单位为px<br/> |\n@| windowBottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 内容区域距离底部的距离（同CSS变量 `--window-bottom`），单位为px<br/> |\n@| osAndroidAPILevel | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"x\",\"x\"]]}' /> | Android 系统API库的版本。<br/> |\n@| osHarmonySDKAPIVersion | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"x\",\"4.61\"]]}' /> | 鸿蒙系统软件API版本<br/> |\n@| osHarmonyDisplayVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"x\",\"4.61\"]]}' /> | 产品版本，关于本机信息内的软件版本<br/> |\n@| appTheme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | 当前App的主题<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| light | - | - |\n@@| dark | - | - |\n@@| auto | - | - |\n@| albumAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信使用相册的开关（仅 iOS 有效）<br/> |\n@| benchmarkLevel | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `1.8.0`<br/><br/>设备性能等级（仅 Android）。取值为：-2 或 0（该设备无法运行小游戏），-1（性能未知），>=1（设备性能值，该值越高，设备性能越好）<br> 注意：性能等级当前仅反馈真机机型，暂不支持 IDE 模拟器机型<br/> |\n@| bluetoothEnabled | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>蓝牙的系统开关<br/> |\n@| cameraAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信使用摄像头的开关<br/> |\n@| enableDebug | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.15.0`<br/><br/>是否已打开调试。可通过右上角菜单或 [uni.setEnableDebug](https://developers.weixin.qq.com/miniprogram/dev/api/base/debug/wx.setEnableDebug.html) 打开调试。<br/> |\n@| fontSizeSetting | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `1.5.0`<br/><br/>用户字体大小（单位px）。以微信客户端「我-设置-通用-字体大小」中的设置为准<br/> |\n@| host | **GetSystemInfoResultHost** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.12.3`<br/><br/>当前小程序运行的宿主环境<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| appId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 宿主 app 对应的 appId<br/> |\n@| locationAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信使用定位的开关<br/> |\n@| locationEnabled | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>地理位置的系统开关<br/> |\n@| locationReducedAccuracy | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | `true` 表示模糊定位，`false` 表示精确定位，仅 iOS 支持<br/> |\n@| microphoneAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信使用麦克风的开关<br/> |\n@| notificationAlertAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信通知带有提醒的开关（仅 iOS 有效）<br/> |\n@| notificationAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信通知的开关<br/> |\n@| notificationBadgeAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信通知带有标记的开关（仅 iOS 有效）<br/> |\n@| notificationSoundAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>允许微信通知带有声音的开关（仅 iOS 有效）<br/> |\n@| phoneCalendarAuthorized | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.19.3`<br/><br/>允许微信使用日历的开关<br/> |\n@| wifiEnabled | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.6.0`<br/><br/>Wi-Fi 的系统开关<br/> |\n@| theme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.11.0`<br/><br/>系统当前主题，取值为`light`或`dark`，全局配置`\"darkmode\":true`时才能获取，否则为 undefined （不支持小游戏）<br/><br/>可选值：<br/>- 'dark': 深色主题;<br/>- 'light': 浅色主题;<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| dark | - | - |\n@@| light | - | - |\n@| ~~version~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 引擎版本号。  **已废弃，仅为了向下兼容保留** |\n@| ~~uniCompileVersionCode~~ | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | uni 编译器版本号。  **已废弃，仅为了向下兼容保留** |\n@| ~~uniCompileVersion~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | uni 编译器版本。  **已废弃，仅为了向下兼容保留** |\n@| ~~system~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 操作系统版本  **已废弃，仅为了向下兼容保留** |\n@| ~~platform~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 客户端平台  **已废弃，仅为了向下兼容保留** |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ios | - | - |\n@@| android | - | - |\n@@| harmonyos | - | - |\n@@| mac | - | - |\n@@| windows | - | - |\n@@| linux | - | - |\n@@| devtools | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | - |\n@| ~~pixelRatio~~ | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 设备像素比  **已废弃，仅为了向下兼容保留** |\n@| ~~model~~ | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 手机型号  **已废弃，仅为了向下兼容保留** |\n@| ~~language~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 程序设置的语言  **已废弃，仅为了向下兼容保留** |\n@| ~~brand~~ | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 手机品牌。  **已废弃，仅为了向下兼容保留** | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getSystemInfo.getSystemInfoSync)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/system/wx.getSystemInfoSync.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getSystemInfoSync&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getSystemInfoSync&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getSystemInfoSync&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getSystemInfoSync&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getSystemInfoSync)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getSystemInfoSync&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"getDeviceInfo":{"name":"## uni.getDeviceInfo(options?) @getdeviceinfo","description":"获取设备信息","compatibility":"### getDeviceInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetDeviceInfoOptions** | 否 | 包含所有字段的过滤对象 | - | \\[options=包含所有字段的过滤对象]过滤的字段对象, 不传参数默认为获取全部字段。 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filter | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"-\",\"x\"]]}' /> | 过滤字段的字符串数组，假如要获取指定字段，传入此数组。 | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| **GetDeviceInfoResult** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| deviceBrand | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备品牌<br/> |\n@| deviceId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备 id 。由 uni-app 框架生成并存储，清空 Storage 会导致改变<br/> |\n@| deviceModel | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备型号<br/> |\n@| deviceType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备类型phone、pad、pc<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| phone | - | - |\n@@| pad | - | - |\n@@| tv | - | - |\n@@| watch | - | - |\n@@| pc | - | - |\n@@| null | - | - |\n@@| car | - | - |\n@@| vr | - | - |\n@@| appliance | - | - |\n@| deviceOrientation | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"x\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备方向 竖屏 portrait、横屏 landscape<br/> |\n@| devicePixelRatio | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"x\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备像素比<br/> |\n@| system | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 操作系统及版本<br/> |\n@| platform | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 客户端平台<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ios | - | - |\n@@| android | - | - |\n@@| harmonyos | - | - |\n@@| mac | - | - |\n@@| windows | - | - |\n@@| linux | - | - |\n@| isRoot | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.9\",\"4.11\",\"x\"]]}' /> | 是否root。iOS 为是否越狱<br/> |\n@| isUSBDebugging | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"x\",\"x\"]]}' /> | adb是否开启<br/> |\n@| osName | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | 系统名称<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ios | - | - |\n@@| android | - | - |\n@@| harmonyos | - | - |\n@@| macos | - | - |\n@@| windows | - | - |\n@@| linux | - | - |\n@| osVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | 操作系统版本。如 ios 版本，andriod 版本<br/> |\n@| osLanguage | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | 操作系统语言<br/> |\n@| osTheme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | 操作系统主题<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| light | - | - |\n@@| dark | - | - |\n@| osAndroidAPILevel | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"x\",\"x\"]]}' /> | Android 系统API库的版本。<br/> |\n@| osHarmonySDKAPIVersion | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"x\",\"4.61\"]]}' /> | 鸿蒙系统软件API版本<br/> |\n@| osHarmonyDisplayVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"√\",\"x\",\"4.61\"]]}' /> | 产品版本，关于本机信息内的软件版本<br/> |\n@| romName | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | rom 名称。Android 部分机型获取不到值。iOS 恒为 `ios`<br/> |\n@| romVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | rom 版本号。Android 部分机型获取不到值。iOS 为操作系统版本号（同 `osVersion`）。<br/> |\n@| abi | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 应用（微信APP）二进制接口类型（仅 Android 支持）<br/> |\n@| benchmarkLevel | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  |\n@| cpuType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.29.0`<br/><br/>设备 CPU 型号（仅 Android 支持）（Tips: GPU 型号可通过 WebGLRenderingContext.getExtension('WEBGL_debug_renderer_info') 来获取）<br/> |\n@| deviceAbi | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.25.1`<br/><br/>设备二进制接口类型（仅 Android 支持）<br/> |\n@| memorySize | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.30.0`<br/><br/>设备内存大小，单位为 MB<br/> |\n@| ~~isSimulator~~ | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.9\",\"4.11\",\"x\"]]}' /> | 是否是模拟器<br/>  **已废弃，由于合规问题在4.51版本后不会采集传感器信息，会影响准确度，建议使用`isSimulator()`代替。** |\n@| ~~model~~ | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 设备型号  **已废弃，仅为了向下兼容保留** |\n@| ~~brand~~ | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.9\",\"4.11\",\"x\"]]}' /> | 设备品牌  **已废弃，仅为了向下兼容保留** | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getDeviceInfo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/system/wx.getDeviceInfo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getDeviceInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getDeviceInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getDeviceInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getDeviceInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getDeviceInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getDeviceInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-device-info/get-device-info.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-device-info/get-device-info\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-device-info/get-device-info\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-common-mt\">\r\n        <view class=\"uni-list\">\r\n          <view class=\"uni-list\">\r\n            <view class=\"uni-list-cell\" v-for=\"(item, _) in items\" style=\"align-items: center\">\r\n              <view class=\"uni-pd\">\r\n                <view class=\"uni-label\" style=\"width: 180px\">{{\r\n                  item.label\r\n                }}</view>\r\n              </view>\r\n              <view class=\"uni-list-cell-db\">\r\n                <text class=\"uni-list-cell-db-text\">{{\r\n                  item.value == \"\" ? \"未获取\" : item.value\r\n                }}</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"uni-padding-wrap\">\r\n          <view class=\"uni-btn-v\">\r\n            <button type=\"primary\" @tap=\"getDeviceInfo\">获取设备信息</button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n<style>\r\n  .uni-pd {\r\n    padding-left: 15px;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  import { setDevicePixelRatio } from '@/store/index.uts'\r\n\r\n  type Item = {\r\n    label : string,\r\n    value : string,\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'getDeviceInfo',\r\n        items: [] as Item[],\r\n      }\r\n    },\r\n    onUnload: function () {\r\n    },\r\n    methods: {\r\n      getDeviceInfo: function () {\r\n        const res = uni.getDeviceInfo();\r\n        // 获取像素比, 供截图对比使用\r\n        setDevicePixelRatio(res.devicePixelRatio !== null ? res.devicePixelRatio! : 1)\r\n        this.items = [] as Item[];\r\n\r\n        const res_str = JSON.stringify(res);\r\n        const res_obj = JSON.parseObject(res_str);\r\n        const res_map = res_obj!.toMap();\r\n        let keys = [] as string[]\r\n        res_map.forEach((_, key) => {\r\n          keys.push(key);\r\n        });\r\n        keys.sort().forEach(key => {\r\n          const value = res[key];\r\n          if (value != null) {\r\n            const item = {\r\n              label: key,\r\n              value: \"\" + ((typeof value == \"object\") ? JSON.stringify(value) : value)\r\n            } as Item;\r\n            this.items.push(item);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"getWindowInfo":{"name":"## uni.getWindowInfo() @getwindowinfo","description":"同步获取窗口信息","compatibility":"### getWindowInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 | 描述 |\n| :- | :- |\n| **GetWindowInfoResult** | result |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| pixelRatio | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备像素比<br/> |\n@| screenWidth | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 屏幕宽度，单位为px<br/> |\n@| screenHeight | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 屏幕高度，单位为px<br/> |\n@| windowWidth | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 可使用窗口宽度，单位为px<br/> |\n@| windowHeight | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 可使用窗口高度，单位为px<br/> |\n@| statusBarHeight | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 状态栏的高度，单位为px<br/> |\n@| windowTop | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 内容区域距离顶部的距离（同CSS变量 `--window-top`），单位为px<br/> |\n@| windowBottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 内容区域距离底部的距离（同CSS变量 `--window-bottom`），单位为px<br/> |\n@| safeArea | **SafeArea** | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域在屏幕中的位置信息<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| left | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域左上角横坐标，单位为px<br/> |\n@@| right | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域右下角横坐标，单位为px<br/> |\n@@| top | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域左上角纵坐标，单位为px<br/> |\n@@| bottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域右下角纵坐标，单位为px<br/> |\n@@| width | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域的宽度，单位为px<br/> |\n@@| height | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域的高度，单位为px<br/> |\n@| safeAreaInsets | **SafeAreaInsets** | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域插入位置（与屏幕边界的距离）信息<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| left | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域左侧插入位置（距离左边边界距离），单位为px<br/> |\n@@| right | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域右侧插入位置（距离右边边界距离），单位为px<br/> |\n@@| top | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区顶部插入位置（距离顶部边界距离），单位为px<br/> |\n@@| bottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 安全区域底部插入位置（距离底部边界距离），单位为px<br/> |\n@| screenTop | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 窗口上边缘的 y 值，单位为px<br/> |\n@| cutoutArea | Array&lt;**CutoutRect**&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android 系统版本\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"9.0\",\"4.31\",\"x\",\"x\"]]}' /> | 挖孔、刘海区域在屏幕中的位置信息<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| left | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android 系统版本\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"9.0\",\"4.31\",\"x\",\"x\"]]}' /> | 挖孔、刘海区域左上角横坐标，单位为px<br/> |\n@@| right | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android 系统版本\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"9.0\",\"4.31\",\"x\",\"x\"]]}' /> | 挖孔、刘海区域右下角横坐标，单位为px<br/> |\n@@| top | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android 系统版本\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"9.0\",\"4.31\",\"x\",\"x\"]]}' /> | 挖孔、刘海区域左上角纵坐标，单位为px<br/> |\n@@| bottom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android 系统版本\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"9.0\",\"4.31\",\"x\",\"x\"]]}' /> | 挖孔、刘海区域右下角纵坐标，单位为px<br/> | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getWindowInfo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/system/wx.getWindowInfo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getWindowInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getWindowInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getWindowInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getWindowInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getWindowInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getWindowInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-window-info/get-window-info.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-window-info/get-window-info\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-window-info/get-window-info\n\n>Template\n```vue\n<template>\r\n  <page-head :title=\"title\"></page-head>\r\n  <view class=\"uni-common-mt\">\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\" v-for=\"(item, _) in items\" style=\"align-items: center\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width: 180px\">{{ item.label }}</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <text class=\"uni-list-cell-db-text\">{{ item.value == '' ? '未获取' : item.value }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @tap=\"getWindowInfo\">获取窗口信息</button>\r\n      </view>\r\n      <!-- #ifdef APP-ANDROID -->\r\n      <view class=\"uni-btn-v\">\r\n        <navigator url=\"/pages/API/get-window-info/window-area\">\r\n          <button type=\"primary\">窗口各区域示例</button>\r\n        </navigator>\r\n      </view>\r\n      <!-- #endif -->\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n\r\n<style>\r\n  .uni-pd {\r\n    padding-left: 15px;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  import { setStatusBarHeight, setSafeArea } from '@/store/index.uts'\r\n  // #ifdef APP-ANDROID\r\n  import type { SafeArea } from '@/store/index.uts'\r\n  // #endif\r\n\r\n  type Item = {\r\n    label : string,\r\n    value : string,\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'getWindowInfo',\r\n        items: [] as Item[],\r\n      }\r\n    },\r\n    onUnload: function () {\r\n    },\r\n    onReady() {\r\n      this.getWindowInfo()\r\n    },\r\n    methods: {\r\n      getWindowInfo: function () {\r\n        const res = uni.getWindowInfo();\r\n        // 获取状态栏高度, 供截图对比使用\r\n        setStatusBarHeight(res.statusBarHeight);\r\n        // 获取安全区信息,供截图使用\r\n        // #ifdef APP-ANDROID\r\n        setSafeArea({\r\n          top: res.safeArea.top,\r\n          left: res.safeArea.left,\r\n          right: res.safeArea.right,\r\n          bottom: res.safeArea.bottom,\r\n          width: res.safeArea.width,\r\n          height: res.safeArea.height,\r\n        } as SafeArea);\r\n        // #endif\r\n        // #ifdef APP-IOS\r\n        setSafeArea({\r\n          top: res.safeArea.top,\r\n          left: res.safeArea.left,\r\n          right: res.safeArea.right,\r\n          bottom: res.safeArea.bottom,\r\n          width: res.safeArea.width,\r\n          height: res.safeArea.height,\r\n        });\r\n        // #endif\r\n        this.items = [] as Item[];\r\n\r\n        const res_str = JSON.stringify(res);\r\n        const res_obj = JSON.parseObject(res_str);\r\n        const res_map = res_obj!.toMap();\r\n        let keys = [] as string[]\r\n        res_map.forEach((_, key) => {\r\n          keys.push(key);\r\n        });\r\n        keys.sort().forEach(key => {\r\n          const value = res[key];\r\n          if (value != null) {\r\n            const item = {\r\n              label: key,\r\n              value: \"\" + ((typeof value == \"object\") ? JSON.stringify(value) : value)\r\n            } as Item;\r\n            this.items.push(item);\r\n          }\r\n        });\r\n      },\r\n    }\r\n  }\r\n\n```\n\n:::"},"getAppBaseInfo":{"name":"## uni.getAppBaseInfo(options?) @getappbaseinfo","description":"获取app基本信息","compatibility":"### getAppBaseInfo 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.91 | 3.91 | 4.11 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetAppBaseInfoOptions** | 否 | 包含所有字段的过滤对象 | - | \\[options=包含所有字段的过滤对象] 过滤的字段对象, 不传参数默认为获取全部字段。 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filter | Array&lt;string&gt; | 是 | - | - | 过滤字段的字符串数组，假如要获取指定字段，传入此数组。 | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| **GetAppBaseInfoResult** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| appId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | manifest.json 中应用appid，即DCloud appid。<br/> |\n@| appName | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用名称。<br/> |\n@| appVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | `manifest.json` 中应用版本名称，如果离线打包注意修改修改index.kt中UniAppConfig类型中的版本名称[文档](https://doc.dcloud.net.cn/uni-app-x/native/use/android.html#%E6%8B%B7%E8%B4%9Dkt%E6%96%87%E4%BB%B6)。<br/> |\n@| appVersionCode | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"x\"]]}' /> | `manifest.json` 中应用版本名号，如果离线打包注意修改修改index.kt中UniAppConfig类型中的版本号[文档](https://doc.dcloud.net.cn/uni-app-x/native/use/android.html#%E6%8B%B7%E8%B4%9Dkt%E6%96%87%E4%BB%B6)。<br/> |\n@| appLanguage | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"x\"]]}' /> | 应用设置的语言en、zh-Hans、zh-Hant、fr、es<br/> |\n@| language | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"x\"]]}' /> | 应用设置的语言<br/> |\n@| appWgtVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"4.61\"]]}' /> | 应用资源（wgt）的版本名称。<br/> |\n@| hostLanguage | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"x\",\"x\",\"x\",\"4.61\"]]}' /> | 小程序宿主语言<br/> |\n@| hostVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | App、小程序宿主版本。<br/> |\n@| hostName | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | 小程序宿主名称<br/> |\n@| hostPackageName | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | 小程序宿主包名<br/> |\n@| hostSDKVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | uni小程序SDK版本、小程序客户端基础库版本<br/> |\n@| hostTheme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | 系统当前主题，取值为light或dark。微信小程序全局配置\"darkmode\":true时才能获取，否则为 null （不支持小游戏）<br/> |\n@| isUniAppX | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"x\"]]}' /> | 是否uni-app x<br/> |\n@| uniCompilerVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"4.0\",\"4.0\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | uni 编译器版本<br/> |\n@| uniPlatform | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | uni-app 运行平台。<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| app | - | - |\n@@| web | - | - |\n@@| mp-weixin | - | - |\n@@| mp-alipay | - | - |\n@@| mp-baidu | - | - |\n@@| mp-toutiao | - | - |\n@@| mp-lark | - | - |\n@@| mp-qq | - | - |\n@@| mp-kuaishou | - | - |\n@@| mp-jd | - | - |\n@@| mp-360 | - | - |\n@@| quickapp-webview | - | - |\n@@| quickapp-webview-union | - | - |\n@@| quickapp-webview-huawei | - | - |\n@| uniRuntimeVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"x\"]]}' /> | uni 运行时版本<br/> |\n@| uniCompilerVersionCode | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.18\",\"4.41\",\"4.0\",\"4.0\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | uni 编译器版本号<br/> |\n@| uniRuntimeVersionCode | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | uni 运行时版本号<br/> |\n@| packageName | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.97\",\"3.97\",\"x\",\"x\",\"4.61\"]]}' /> | Android的包名<br/> |\n@| bundleName | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"x\",\"x\",\"4.61\"]]}' /> | 鸿蒙的包名<br/> |\n@| bundleId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"4.11\",\"4.11\",\"x\"]]}' /> | iOS的bundleId<br/> |\n@| signature | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.97\",\"3.97\",\"4.11\",\"4.11\",\"x\"]]}' /> | Android: 应用签名证书的SHA1值（全部为小写，中间不包含“:”）。<br/>iOS: 应用签名证书中绑定的Bundle ID（AppleID）的md5值（全部为小写）。<br/> |\n@| appTheme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.18\",\"4.18\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | 当前App的主题<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| light | - | - |\n@@| dark | - | - |\n@@| auto | - | - |\n@| channel | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.28\",\"4.28\",\"4.31\",\"4.31\",\"x\"]]}' /> | 当前应用分发的渠道<br/> |\n@| SDKVersion | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 客户端基础库版本<br/> |\n@| enableDebug | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  |\n@| fontSizeScaleFactor | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 微信字体大小缩放比例<br/> |\n@| fontSizeSetting | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.23.4`<br/><br/>微信字体大小，单位px<br/> |\n@| host | **GetAppBaseInfoResultHost** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当前小程序运行的宿主环境<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| appId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 宿主 app（第三方App） 对应的 appId （当小程序运行在第三方App环境时才返回）<br/> |\n@| theme | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 系统当前主题，取值为`light`或`dark`，全局配置`\"darkmode\":true`时才能获取，否则为 undefined （不支持小游戏）<br/><br/>可选值：<br/>- 'dark': 深色主题;<br/>- 'light': 浅色主题;<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| dark | - | - |\n@@| light | - | - |\n@| ~~uniCompileVersionCode~~ | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | uni 编译器版本号  **已废弃，仅为了向下兼容保留** |\n@| ~~uniCompileVersion~~ | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"x\"]]}' /> | uni 编译器版本  **已废弃，仅为了向下兼容保留** |\n@| ~~version~~ | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.91\",\"3.91\",\"4.11\",\"4.11\",\"4.61\"]]}' /> | 引擎版本号。已废弃，仅为了向下兼容保留  **已废弃，仅为了向下兼容保留** | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getAppBaseInfo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/system/wx.getAppBaseInfo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getAppBaseInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getAppBaseInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getAppBaseInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getAppBaseInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getAppBaseInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getAppBaseInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-app-base-info/get-app-base-info.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-app-base-info/get-app-base-info\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-app-base-info/get-app-base-info\n\n>Template\n```vue\n<template>\r\n  <page-head :title=\"title\"></page-head>\r\n  <view class=\"uni-common-mt\">\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\" v-for=\"(item,_) in items\" style=\"align-items: center;\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">{{item.label}}</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <text class=\"uni-list-cell-db-text\">{{ item.value == '' ? '未获取' : item.value }}</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @tap=\"getAppBaseInfo\">获取App基础信息</button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n\r\n<style>\r\n  .uni-pd {\r\n    padding-left: 15px;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  type Item = {\r\n    label : string,\r\n    value : string,\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'getAppBaseInfo',\r\n        items: [] as Item[],\r\n      }\r\n    },\r\n    onUnload: function () {\r\n    },\r\n    methods: {\r\n      getAppBaseInfo: function () {\r\n        const res = uni.getAppBaseInfo();\r\n        const res_str = JSON.stringify(res);\r\n        const res_obj = JSON.parseObject(res_str);\r\n        const res_map = res_obj!.toMap();\r\n        let keys = [] as string[]\r\n        res_map.forEach((_, key) => {\r\n          keys.push(key);\r\n        });\r\n\r\n        this.items = [] as Item[];\r\n        keys.sort().forEach(key => {\r\n          const value = res[key];\r\n          if (value != null) {\r\n            const item = {\r\n              label: key,\r\n              value: \"\" + ((typeof value == \"object\") ? JSON.stringify(value) : value)\r\n            } as Item;\r\n            this.items.push(item);\r\n          }\r\n        });\r\n\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"getAppAuthorizeSetting":{"name":"## uni.getAppAuthorizeSetting() @getappauthorizesetting","description":"获取 APP 授权设置。","compatibility":"### getAppAuthorizeSetting 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| **GetAppAuthorizeSettingResult** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| albumAuthorized | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.11\",\"-\"]]}' /> | 允许 App 使用相册的开关<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关） |\n@@| config error | - | Android平台：表示没有配置[相册相关权限](https://doc.dcloud.net.cn/uni-app-x/native/permission/android_permission_adapter.html)，[权限配置详情](https://uniapp.dcloud.net.cn/tutorial/app-nativeresource-android.html#permissions)；iOS平台：当前应用没有配置相册权限描述 |\n@| bluetoothAuthorized | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.11\",\"-\"]]}' /> | 允许 App 使用蓝牙的开关<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关） |\n@@| config error | - | Android平台：表示没有配置[蓝牙相关权限](https://doc.dcloud.net.cn/uni-app-x/native/permission/android_permission_adapter.html)，[权限配置详情](https://uniapp.dcloud.net.cn/tutorial/app-nativeresource-android.html#permissions)；iOS平台：当前应用没有配置蓝牙权限描述 |\n@| cameraAuthorized | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 允许 App 使用摄像头的开关<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关） |\n@@| config error | - | Android平台：表示没有配置 `android.permission.CAMERA` 权限，[权限配置详情](https://uniapp.dcloud.net.cn/tutorial/app-nativeresource-android.html#permissions)；iOS平台：当前应用没有配置相机权限描述 |\n@| locationAuthorized | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 允许 App 使用定位的开关<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关） |\n@@| config error | - | Android平台：表示没有配置 `android.permission.ACCESS_COARSE_LOCATION` 权限，[权限配置详情](https://uniapp.dcloud.net.cn/tutorial/app-nativeresource-android.html#permissions)；iOS平台：当前应用没有配置定位权限描述 |\n@| locationAccuracy | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 定位准确度。<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| reduced | - | 模糊定位 |\n@@| full | - | 精准定位 |\n@@| unsupported | - | 不支持（包括用户拒绝定位权限和没有包含定位权限描述） |\n@| locationReducedAccuracy | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"4.11\",\"-\"]]}' /> | 定位准确度（推荐使用 locationAccuracy 属性）。true 表示模糊定位，false 表示精确定位（仅 iOS 支持） |\n@| microphoneAuthorized | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 允许 App 使用麦克风的开关<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关） |\n@@| config error | - | Android平台：表示没有配置 `android.permission.RECORD_AUDIO` 权限，[权限配置详情](https://uniapp.dcloud.net.cn/tutorial/app-nativeresource-android.html#permissions)；iOS平台：当前应用没有配置麦克风权限描述 |\n@| notificationAuthorized | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 允许 App 通知的开关<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关） |\n@@| config error | - | Android平台没有该值；iOS平台：没有包含推送权限描述 |\n@| notificationAlertAuthorized | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"4.11\",\"-\"]]}' /> | 允许 App 通知带有提醒的开关（仅 iOS 支持）<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关） |\n@@| config error | - | 当前应用没有配置推送权限描述 |\n@| notificationBadgeAuthorized | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"4.11\",\"-\"]]}' /> | 允许 App 通知带有标记的开关（仅 iOS 支持）<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关） |\n@@| config error | - | 当前应用没有配置推送权限描述 |\n@| notificationSoundAuthorized | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"4.11\",\"-\"]]}' /> | 允许 App 通知带有声音的开关（仅 iOS 支持）<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求；（仅 iOS 会出现。此种情况下引导用户打开系统设置，不展示开关） |\n@@| config error | - | 当前应用没有配置推送权限描述 |\n@| phoneCalendarAuthorized | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"x\"]]}' /> | 允许读写日历的开关（仅微信小程序支持）<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求； |\n@@| config error | - | 当前应用没有配置推送权限描述 |\n@| readPhoneCalendarAuthorized | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 允许读日历的开关（仅鸿蒙支持）<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权。Android平台：需要申请相册相关权限；iOS平台：此情况需要引导用户打开系统设置，在设置页中打开权限 |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求； |\n@@| config error | - | 当前应用没有配置推送权限描述 |\n@| writePhoneCalendarAuthorized | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 允许写日历的开关（仅鸿蒙支持）<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权；（此情况需要引导用户打开系统设置，在设置页中打开权限） |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求； |\n@| pasteboardAuthorized | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 允许读取剪切版（仅鸿蒙支持）<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| authorized | - | 已经获得授权，无需再次请求授权 |\n@@| denied | - | 请求授权被拒绝，无法再次请求授权；（此情况需要引导用户打开系统设置，在设置页中打开权限） |\n@@| not determined | - | 尚未请求授权，会在App下一次调用系统相应权限时请求； | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getAppAuthorizeSetting)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/system/wx.getAppAuthorizeSetting.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getAppAuthorizeSetting&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getAppAuthorizeSetting&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getAppAuthorizeSetting&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getAppAuthorizeSetting&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getAppAuthorizeSetting)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getAppAuthorizeSetting&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-app-authorize-setting/get-app-authorize-setting.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-app-authorize-setting/get-app-authorize-setting\n```uvue\n<template>\r\n  <page-head :title=\"title\"></page-head>\r\n  <view class=\"uni-common-mt\">\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">是否授权使用相册</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"albumAuthorized\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">是否授权使用蓝牙</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"bluetoothAuthorized\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">是否授权使用摄像头</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"cameraAuthorized\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">是否授权使用定位</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"locationAuthorized\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">定位准确度</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"locationAccuracy\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">是否授权使用麦克风</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"microphoneAuthorized\" />\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">是否授权通知</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"notificationAuthorized\" />\r\n        </view>\r\n      </view>\r\n      <!-- #ifdef APP-IOS -->\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">是否允许通知带有提醒</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"notificationAlertAuthorized\" />\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">是否允许通知带有标记</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"notificationBadgeAuthorized\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">是否允许通知带有声音</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"notificationSoundAuthorized\" />\r\n        </view>\r\n      </view>\r\n      <!-- #endif -->\r\n    </view>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @tap=\"getAppAuthorizeSetting\">获取App授权设置</button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'getAppAuthorizeSetting',\r\n        cameraAuthorized: \"\",\r\n        albumAuthorized: \"\",\r\n        locationAuthorized: \"\",\r\n        locationAccuracy: \"\",\r\n        microphoneAuthorized: \"\",\r\n        bluetoothAuthorized: \"\",\r\n        notificationAuthorized: \"\",\r\n        notificationAlertAuthorized: \"\",\r\n        notificationBadgeAuthorized: \"\",\r\n        notificationSoundAuthorized: \"\"\r\n      }\r\n    },\r\n    onUnload: function () {\r\n    },\r\n    methods: {\r\n      getAppAuthorizeSetting: function () {\r\n        const res = uni.getAppAuthorizeSetting();\r\n        this.albumAuthorized = res.albumAuthorized;\r\n        this.bluetoothAuthorized = res.bluetoothAuthorized;\r\n        this.cameraAuthorized = res.cameraAuthorized;\r\n        this.locationAuthorized = res.locationAuthorized;\r\n        this.locationAccuracy = res.locationAccuracy ?? \"unsupported\";\r\n        this.microphoneAuthorized = res.microphoneAuthorized;\r\n        this.notificationAuthorized = res.notificationAuthorized;\r\n        // #ifdef APP-IOS\r\n        this.notificationAlertAuthorized = res.notificationAlertAuthorized;\r\n        this.notificationBadgeAuthorized = res.notificationBadgeAuthorized;\r\n        this.notificationSoundAuthorized = res.notificationSoundAuthorized;\r\n        // #endif\r\n\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .uni-pd {\r\n    padding-left: 15px;\r\n  }\r\n</style>\n\n```\n:::"},"openAppAuthorizeSetting":{"name":"## uni.openAppAuthorizeSetting(options) @openappauthorizesetting","description":"跳转系统授权管理页","compatibility":"### openAppAuthorizeSetting 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.51 | 4.51 | 4.51 | 4.51 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **OpenAppAuthorizeSettingOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [OpenAppAuthorizeSettingSuccess](#openappauthorizesettingsuccess-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [OpenAppAuthorizeSettingFail](#openappauthorizesettingfail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: [OpenAppAuthorizeSettingComplete](#openappauthorizesettingcomplete-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### OpenAppAuthorizeSettingSuccess 的属性值 @openappauthorizesettingsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 错误信息 |\n\n#### OpenAppAuthorizeSettingFail 的属性值 @openappauthorizesettingfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 错误信息 |\n\n#### OpenAppAuthorizeSettingComplete 的属性值 @openappauthorizesettingcomplete-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.51\",\"4.51\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 错误信息 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.openAppAuthorizeSetting)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/system/wx.openAppAuthorizeSetting.html)\n- [参见uni-app相关文档](http://uniapp.dcloud.io/api/system/openappauthorizesetting)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=openAppAuthorizeSetting&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=openAppAuthorizeSetting&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=openAppAuthorizeSetting&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=openAppAuthorizeSetting&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=openAppAuthorizeSetting)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=openAppAuthorizeSetting&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/open-app-authorize-setting/open-app-authorize-setting.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/open-app-authorize-setting/open-app-authorize-setting\n```uvue\n<template>\n  <!-- #ifdef APP -->\n  <scroll-view style=\"flex:1\">\n  <!-- #endif -->\n    <button type=\"primary\" style=\"margin: 20px;\" @tap=\"go\">跳转系统授权管理页</button>\n  <!-- #ifdef APP -->\n  </scroll-view>\n  <!-- #endif -->\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n\n      }\n    },\n    methods: {\n      go() {\n         uni.openAppAuthorizeSetting({\n           success (res) {\n             console.log(res)\n           }\n         })\n      }\n    }\n  }\n</script>\n\n<style>\n\n</style>\n\n```\n:::"},"getSystemSetting":{"name":"## uni.getSystemSetting() @getsystemsetting","description":"获取系统设置","compatibility":"### getSystemSetting 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| **GetSystemSettingResult** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| bluetoothEnabled | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 蓝牙是否开启<br/> |\n@| bluetoothError | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 蓝牙的报错信息<br/> |\n@| locationEnabled | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 位置是否开启<br/> |\n@| wifiEnabled | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | wifi是否开启<br/> |\n@| wifiError | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.9\",\"x\",\"4.61\"]]}' /> | wifi的报错信息<br/> |\n@| deviceOrientation | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | 设备方向<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| portrait | - | 纵向 |\n@@| landscape | - | 横向 | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getSystemSetting)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/base/system/wx.getSystemSetting.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getSystemSetting&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getSystemSetting&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getSystemSetting&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getSystemSetting&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getSystemSetting)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getSystemSetting&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-system-setting/get-system-setting.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-system-setting/get-system-setting\n```uvue\n<template>\r\n  <page-head :title=\"title\"></page-head>\r\n  <view class=\"uni-common-mt\">\r\n    <view class=\"uni-list\">\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">蓝牙的系统开关</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"bluetoothEnabled\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">地理位置的系统开关</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"locationEnabled\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">Wi-Fi 的系统开关</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"wifiEnabled\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-list-cell\">\r\n        <view class=\"uni-pd\">\r\n          <view class=\"uni-label\" style=\"width:180px;\">设备方向</view>\r\n        </view>\r\n        <view class=\"uni-list-cell-db\">\r\n          <input type=\"text\" :disabled=\"true\" placeholder=\"未获取\" :value=\"deviceOrientation\" />\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @tap=\"getSystemSetting\">获取系统设置</button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'getSystemSetting',\r\n        bluetoothEnabled: \"\",\r\n        locationEnabled: \"\",\r\n        wifiEnabled: \"\",\r\n        deviceOrientation: \"\"\r\n      }\r\n    },\r\n    onUnload: function () {\r\n    },\r\n    methods: {\r\n      getSystemSetting: function () {\r\n        const res = uni.getSystemSetting();\r\n        this.bluetoothEnabled = (res.bluetoothEnabled ?? false) ? \"开启\" : \"关闭\";\r\n        this.locationEnabled = res.locationEnabled ? \"开启\" : \"关闭\";\r\n        this.wifiEnabled = (res.wifiEnabled ?? false) ? \"开启\" : \"关闭\";\r\n        this.deviceOrientation = res.deviceOrientation\r\n\r\n        if (res.bluetoothError != null) {\r\n          this.bluetoothEnabled = \"无蓝牙权限\"\r\n        }\r\n\r\n        if (res.wifiError != null) {\r\n          this.wifiEnabled = \"无WiFi权限\"\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .uni-pd {\r\n    padding-left: 15px;\r\n  }\r\n</style>\n\n```\n:::"},"installApk":{"name":"## uni.installApk(options) @installapk","description":"安装apk","compatibility":"### installApk 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 3.94 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **InstallApkOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | string | 是 | - | - | apk文件地址（仅支持本地文件路径） |\n@| success | (res: [InstallApkSuccess](#installapksuccess-values)) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (err: [InstallApkFail](#installapkfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### InstallApkSuccess 的属性值 @installapksuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | 安装成功消息 |\n\n#### InstallApkFail 的属性值 @installapkfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码<br/>- 1300002 找不到文件 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.installApk)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/install-apk/install-apk.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/install-apk/install-apk\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-common-mt\">\r\n        <view class=\"uni-padding-wrap\">\r\n          <view class=\"uni-btn-v\">\r\n            <button type=\"primary\" @tap=\"installApk\">\r\n              installApk\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'installApk'\r\n      }\r\n    },\r\n    onUnload: function () {\r\n    },\r\n    methods: {\r\n      installApk: function () {\r\n        uni.installApk({\r\n          filePath: \"/static/test-apk/test.apk\",\r\n          complete(res : any) {\r\n            console.log(res);\r\n          }\r\n        })\r\n      },\r\n    }\r\n  }\r\n</script>\r\n<style>\r\n</style>\n\n```\n:::"},"getBatteryInfo":{"name":"## uni.getBatteryInfo(options) @getbatteryinfo","description":"获取电池电量信息\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-getbatteryinfo](https://ext.dcloud.net.cn/plugin?name=uni-getbatteryinfo)\n","compatibility":"### getBatteryInfo 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.35 | 3.9 | 3.9 | 4.11 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetBatteryInfoOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [GetBatteryInfoSuccess](#getbatteryinfosuccess-values)) => void | 否 | - | - | 接口调用成功的回调 |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### GetBatteryInfoSuccess 的属性值 @getbatteryinfosuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n| level | number | 是 | - | - | 设备电量，范围1 - 100 |\n| isCharging | boolean | 是 | - | - | 是否正在充电中 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getBatteryInfo.getBatteryInfo)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getBatteryInfo&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getBatteryInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getBatteryInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getBatteryInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getBatteryInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getBatteryInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getBatteryInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-battery-info/get-battery-info.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-battery-info/get-battery-info\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-battery-info/get-battery-info\n\n>Template\n```vue\n<template>\r\n  <view>\r\n    <text>当前电量：{{level}}%</text>\r\n    <text>是否充电中：{{isCharging}}</text>\r\n  </view>\r\n</template>\r\n\r\n\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        level: 0,\r\n        isCharging: false\r\n      }\r\n    },\r\n    onLoad() {\r\n      try {\r\n        uni.getBatteryInfo({\r\n          success: res => {\r\n            this.level = res.level;\r\n            this.isCharging = res.isCharging;\r\n          }\r\n        });\r\n      } catch (e) {\r\n        console.error((e as Error).message);\r\n        uni.showModal({\r\n          content: (e as Error).message,\r\n          showCancel: false\r\n        });\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"getBatteryInfoSync":{"name":"## uni.getBatteryInfoSync() @getbatteryinfosync","description":"同步获取电池电量信息\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-getbatteryinfo](https://ext.dcloud.net.cn/plugin?name=uni-getbatteryinfo)\n","compatibility":"### getBatteryInfoSync 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.35 | 3.9 | 3.9 | 4.11 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| **GetBatteryInfoResult** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| level | number | 是 | - | - | 设备电量，范围1 - 100 |\n@| isCharging | boolean | 是 | - | - | 是否正在充电中 | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getBatteryInfo.getBatteryInfoSync)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getBatteryInfoSync&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getBatteryInfoSync&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getBatteryInfoSync&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getBatteryInfoSync&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getBatteryInfoSync&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getBatteryInfoSync)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getBatteryInfoSync&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"makePhoneCall":{"name":"## uni.makePhoneCall(options) @makephonecall","description":"拨打电话","compatibility":"### makePhoneCall 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS | HarmonyOS uni-app x UTS 插件 |\n| :- | :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.63 | 4.63 | 4.63 | 4.63 | 4.61 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MakePhoneCallOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| phoneNumber | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"},{\"title\":\"HarmonyOS uni-app x UTS 插件\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.63\",\"4.63\",\"4.63\",\"4.63\",\"4.61\",\"4.61\"]]}' /> | 需要拨打的电话号码 |\n@| success | (result: MakePhoneCallSuccess) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"},{\"title\":\"HarmonyOS uni-app x UTS 插件\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.63\",\"4.63\",\"4.63\",\"4.63\",\"4.61\",\"4.61\"]]}' /> | 成功返回的回调函数 |\n@| fail | (result: [IMakePhoneCallError](#imakephonecallerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"},{\"title\":\"HarmonyOS uni-app x UTS 插件\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.63\",\"4.63\",\"4.63\",\"4.63\",\"4.61\",\"4.61\"]]}' /> | 失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"},{\"title\":\"HarmonyOS uni-app x UTS 插件\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.63\",\"4.63\",\"4.63\",\"4.63\",\"4.61\",\"4.61\"]]}' /> | 结束的回调函数（调用成功、失败都会执行） | \n\n#### IMakePhoneCallError 的属性值 @imakephonecallerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1500601 | - | 当前设备不支持此功能 |\n@| 1500602 | - | 无效号码 |\n@| 1500603 | - | 内部错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.makePhoneCall)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/phone/wx.makePhoneCall.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/phone.html#makephonecall)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=makePhoneCall&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=makePhoneCall&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=makePhoneCall&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=makePhoneCall&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=makePhoneCall)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=makePhoneCall&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/make-phone-call/make-phone-call.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/make-phone-call/make-phone-call\n\n>Template\n```vue\n<template>\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap uni-common-mt\">\r\n      <view class=\"uni-hello-text uni-center\">请在下方输入电话号码</view>\r\n      <input class=\"input uni-common-mt\" type=\"number\" name=\"input\" @input=\"bindInput\" />\r\n      <view class=\"uni-btn-v uni-common-mt\">\r\n        <button @tap=\"makePhoneCall\" type=\"primary\" :disabled=\"disabled\">拨打</button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n\r\n<style>\r\n  .input {\r\n    height: 119rpx;\r\n    line-height: 119rpx;\r\n    font-size: 78rpx;\r\n    border-bottom: 1rpx solid #E2E2E2;\r\n    text-align: center;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'makePhoneCall',\r\n        disabled: true,\r\n        inputValue: ''\r\n      }\r\n    },\r\n    methods: {\r\n      bindInput: function (e : UniInputEvent) {\r\n        this.inputValue = e.detail.value\r\n        if (this.inputValue.length > 0) {\r\n          this.disabled = false\r\n        } else {\r\n          this.disabled = true\r\n        }\r\n      },\r\n      makePhoneCall: function () {\r\n        uni.makePhoneCall({\r\n          phoneNumber: this.inputValue,\r\n          success: () => {\r\n            console.log(\"成功拨打电话\")\r\n          },\n          fail: (err) => {\n            console.log(err.errCode)\n            uni.showToast({\n              title: '错误码：' + err.errCode.toString(),\n              icon: \"error\"\n            })\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"getClipboardData":{"name":"## uni.getClipboardData(options) @getclipboarddata","description":"获得系统剪贴板的内容\n","compatibility":"### getClipboardData 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetClipboardDataOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [GetClipboardDataSuccess](#getclipboarddatasuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 成功返回的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 结束的回调函数（调用成功、失败都会执行） | \n\n#### GetClipboardDataSuccess 的属性值 @getclipboarddatasuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| data | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 剪贴板的内容 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.clipboard.getClipboardData)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/clipboard/wx.getClipboardData.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/clipboard.html#getclipboarddata)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getClipboardData&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getClipboardData&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getClipboardData&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getClipboardData&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getClipboardData)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getClipboardData&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"setClipboardData":{"name":"## uni.setClipboardData(options) @setclipboarddata","description":"设置系统剪贴板的内容\n","compatibility":"### setClipboardData 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetClipboardDataOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| data | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要设置的内容 |\n@| showToast | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否弹出提示，默认弹出提示 |\n@| success | (result: SetClipboardDataSuccess) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 成功返回的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 结束的回调函数（调用成功、失败都会执行） | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.clipboard.setClipboardData)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/clipboard/wx.setClipboardData.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/clipboard.html#setclipboarddata)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setClipboardData&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setClipboardData&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setClipboardData&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setClipboardData&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setClipboardData)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setClipboardData&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"clipboard":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/clipboard/clipboard.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/clipboard/clipboard\n\n>Template\n```vue\n<template>\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-title\">请输入剪贴板内容</view>\r\n      <view class=\"uni-list\">\r\n        <view class=\"uni-list-cell\">\r\n          <input class=\"uni-input\" type=\"text\" placeholder=\"请输入剪贴板内容\" :value=\"data\" @input=\"dataChange\" />\r\n        </view>\r\n      </view>\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @click=\"setClipboard\">存储数据</button>\r\n        <button @tap=\"getClipboard\">读取数据</button>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n\r\n<style>\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'get/setClipboardData',\r\n        data: '',\r\n        // 自动化测试\r\n        getDataTest: '',\r\n        setClipboardTest: false\r\n      }\r\n    },\r\n    methods: {\r\n      dataChange: function (e) {\r\n        this.data = e.detail.value\r\n      },\r\n      getClipboard: function () {\r\n        uni.getClipboardData({\r\n          success: (res) => {\r\n            console.log(res.data);\r\n            this.getDataTest = res.data;\r\n            const content = res.data ? '剪贴板内容为:' + res.data : '剪贴板暂无内容';\r\n            uni.showModal({\r\n              content,\r\n              title: '读取剪贴板',\r\n              showCancel: false\r\n            })\r\n          },\r\n          fail: (err) => {\r\n            uni.showModal({\r\n              content: `读取剪贴板失败: ${err.errMsg}`,\r\n              showCancel: false\r\n            })\r\n          }\r\n        });\r\n      },\r\n      setClipboard: function () {\r\n        if (this.data.length === 0) {\r\n          uni.showModal({\r\n            title: '设置剪贴板失败',\r\n            content: '内容不能为空',\r\n            showCancel: false\r\n          })\r\n        } else {\r\n          uni.setClipboardData({\r\n            data: this.data,\r\n            success: () => {\r\n              this.setClipboardTest = true\r\n              // 成功处理\r\n              uni.showToast({\r\n                title: '设置剪贴板成功',\r\n                icon: \"success\",\r\n                mask: !1\r\n              })\r\n            },\r\n            fail: () => {\r\n              // bug：自动化测试时设置成功也进入了fail\r\n              this.setClipboardTest = false\r\n              // 失败处理\r\n              uni.showToast({\r\n                title: '储存数据失败!',\r\n                icon: \"none\",\r\n                mask: !1\r\n              })\r\n            }\r\n          });\r\n        }\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"onCompassChange":{"name":"## uni.onCompassChange(callback) @oncompasschange","description":"监听罗盘数据\n","compatibility":"### onCompassChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnCompassChangeSuccess](#oncompasschangesuccess-values)) => void | 是 | - | - | - | \n\n### OnCompassChangeSuccess 的属性值 @oncompasschangesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| direction | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 面对的方向度数 |\n| accuracy | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.4.0`<br/><br/>精度<br/> |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.onCompassChange)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/compass/wx.onCompassChange.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onCompassChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onCompassChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onCompassChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onCompassChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onCompassChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onCompassChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offCompassChange":{"name":"## uni.offCompassChange(callback) @offcompasschange","description":"取消监听罗盘数据\n","compatibility":"### offCompassChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnCompassChangeSuccess](#oncompasschangesuccess-values)) => void | 是 | - | - | - | \n\n### OnCompassChangeSuccess 的属性值 @oncompasschangesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| direction | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 面对的方向度数 |\n| accuracy | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.4.0`<br/><br/>精度<br/> |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.offCompassChange)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/compass/wx.offCompassChange.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offCompassChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offCompassChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offCompassChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offCompassChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offCompassChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offCompassChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"startCompass":{"name":"## uni.startCompass(options?) @startcompass","description":"开始监听罗盘数据\n","compatibility":"### startCompass 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **StartCompassOptions** | 否 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [CompassSuccess](#compasssuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.startCompass成功回调函数定义 |\n@| fail | (res: [ICompassError](#icompasserror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.startCompass失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.startCompass完成回调函数定义 | \n\n#### CompassSuccess 的属性值 @compasssuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息<br/> |\n\n#### ICompassError 的属性值 @icompasserror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息<br/> |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.startCompass)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/compass/wx.startCompass.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=startCompass&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=startCompass&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=startCompass&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=startCompass&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=startCompass)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=startCompass&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"stopCompass":{"name":"## uni.stopCompass(options?) @stopcompass","description":"停止监听罗盘数据\n","compatibility":"### stopCompass 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **StopCompassOptions** | 否 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [CompassSuccess](#compasssuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 成功返回的回调函数 |\n@| fail | (res: [ICompassError](#icompasserror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 结束的回调函数（调用成功、失败都会执行） | \n\n#### CompassSuccess 的属性值 @compasssuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息<br/> |\n\n#### ICompassError 的属性值 @icompasserror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息<br/> |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.stopCompass)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/compass/wx.stopCompass.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=stopCompass&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=stopCompass&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=stopCompass&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=stopCompass&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=stopCompass)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=stopCompass&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"compass":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/compass/compass.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/compass/compass\n\n>Template\n```vue\n<template>\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-hello-text uni-center\" style=\"padding-bottom:50rpx;\">\r\n        旋转手机即可获取方位信息\r\n      </view>\r\n      <view class=\"direction\">\r\n        <view class=\"bg-compass-line\"></view>\r\n        <image class=\"bg-compass\" src=\"../../../static/compass.png\" :style=\"'transform: rotate('+direction+'deg)'\">\r\n        </image>\r\n        <view class=\"direction-value\">\r\n          <text>{{direction}}</text>\r\n          <text class=\"direction-degree\">o</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n\r\n<style>\r\n  .direction {\r\n    position: relative;\r\n    margin-top: 70rpx;\r\n    display: flex;\r\n    width: 540rpx;\r\n    height: 540rpx;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin: 0 auto;\r\n  }\r\n\r\n  .direction-value {\r\n    position: relative;\r\n    font-size: 200rpx;\r\n    color: #353535;\r\n    line-height: 1;\r\n    z-index: 1;\r\n  }\r\n\r\n  .direction-degree {\r\n    position: absolute;\r\n    top: 0;\r\n    right: -40rpx;\r\n    font-size: 60rpx;\r\n  }\r\n\r\n  .bg-compass {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 540rpx;\r\n    height: 540rpx;\r\n    transition: .1s;\r\n  }\r\n\r\n  .bg-compass-line {\r\n    position: absolute;\r\n    left: 267rpx;\r\n    top: -10rpx;\r\n    width: 6rpx;\r\n    height: 56rpx;\r\n    background-color: #1AAD19;\r\n    border-radius: 999rpx;\r\n    z-index: 1;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'onCompassChange',\r\n        direction: 0\r\n      }\r\n    },\r\n    onReady: function () {\r\n      uni.onCompassChange((res) => {\r\n        console.log('onCompassChange', res)\r\n        this.direction = res.direction\r\n      })\r\n    },\r\n    onUnload() {\r\n      uni.stopCompass();\r\n      this.direction = 0;\r\n    }\r\n  }\r\n\n```\n\n:::"},"onAccelerometerChange":{"name":"## uni.onAccelerometerChange(callback) @onaccelerometerchange","description":"监听加速度数据\n","compatibility":"### onAccelerometerChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnAccelerometerChangeCallbackResult](#onaccelerometerchangecallbackresult-values)) => void | 是 | - | - | - | \n\n### OnAccelerometerChangeCallbackResult 的属性值 @onaccelerometerchangecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| x | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | X 轴 |\n| y | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | Y 轴 |\n| z | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | Z 轴 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.onAccelerometerChange)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/accelerometer/wx.onAccelerometerChange.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onAccelerometerChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onAccelerometerChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onAccelerometerChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onAccelerometerChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onAccelerometerChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onAccelerometerChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offAccelerometerChange":{"name":"## uni.offAccelerometerChange(callback) @offaccelerometerchange","description":"取消监听加速度数据\n","compatibility":"### offAccelerometerChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.offAccelerometerChange)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/accelerometer/wx.offAccelerometerChange.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offAccelerometerChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offAccelerometerChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offAccelerometerChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offAccelerometerChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offAccelerometerChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offAccelerometerChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"startAccelerometer":{"name":"## uni.startAccelerometer(options) @startaccelerometer","description":"开始监听加速度数据\n","compatibility":"### startAccelerometer 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **StartAccelerometerOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| interval | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 回调频率 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| game | - | 适用于更新游戏的回调频率，在 20ms/次 左右 |\n@@| ui | - | 适用于更新游戏的回调频率，在 20ms/次 左右 |\n@@| normal | - | 普通的回调频率，在 200ms/次 左右 |\n@| success | (result: [StartAccelerometerSuccess](#startaccelerometersuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 成功返回的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 结束的回调函数（调用成功、失败都会执行） | \n\n#### StartAccelerometerSuccess 的属性值 @startaccelerometersuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.startAccelerometer)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/accelerometer/wx.startAccelerometer.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=startAccelerometer&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=startAccelerometer&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=startAccelerometer&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=startAccelerometer&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=startAccelerometer)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=startAccelerometer&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"stopAccelerometer":{"name":"## uni.stopAccelerometer(options) @stopaccelerometer","description":"停止监听加速度数据\n","compatibility":"### stopAccelerometer 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **StopAccelerometerOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [StopAccelerometerSuccess](#stopaccelerometersuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 成功返回的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 结束的回调函数（调用成功、失败都会执行） | \n\n#### StopAccelerometerSuccess 的属性值 @stopaccelerometersuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.stopAccelerometer)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/accelerometer/wx.stopAccelerometer.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=stopAccelerometer&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=stopAccelerometer&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=stopAccelerometer&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=stopAccelerometer&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=stopAccelerometer)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=stopAccelerometer&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"startWifi":{"name":"## uni.startWifi(option) @startwifi","description":"初始化Wi-Fi模块\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### startWifi 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **WifiOption** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [UniWifiResult](#uniwifiresult-values)) => void | 否 | - | - | - |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n#### UniWifiResult 的属性值 @uniwifiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errSubject | string | 是 | - | - | - |\n| errMsg | string | 是 | - | - | - |\n| wifi | **UniWifiInfo** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SSID | string | 是 | - | - | - |\n@| BSSID | string | 否 | - | - | - |\n@| secure | boolean | 否 | - | - | - |\n@| signalStrength | number | 否 | - | - | - |\n@| frequency | number | 否 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.startWifi)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#startwifi)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=startWifi&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=startWifi&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=startWifi&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=startWifi&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=startWifi&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=startWifi)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=startWifi&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"stopWifi":{"name":"## uni.stopWifi(option) @stopwifi","description":"关闭 Wi-Fi 模块\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### stopWifi 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **WifiOption** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [UniWifiResult](#uniwifiresult-values)) => void | 否 | - | - | - |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n#### UniWifiResult 的属性值 @uniwifiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errSubject | string | 是 | - | - | - |\n| errMsg | string | 是 | - | - | - |\n| wifi | **UniWifiInfo** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SSID | string | 是 | - | - | - |\n@| BSSID | string | 否 | - | - | - |\n@| secure | boolean | 否 | - | - | - |\n@| signalStrength | number | 否 | - | - | - |\n@| frequency | number | 否 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.stopWifi)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#stopwifi)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=stopWifi&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=stopWifi&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=stopWifi&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=stopWifi&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=stopWifi&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=stopWifi)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=stopWifi&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"connectWifi":{"name":"## uni.connectWifi(option) @connectwifi","description":"","compatibility":"### connectWifi 兼容性 \n| Web | 微信小程序 | Android 系统版本 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| - | - | >=4.4 && <10.0 | 3.9.0 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **WifiConnectOption** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SSID | string | 否 | - | - | - |\n@| BSSID | string | 否 | - | - | - |\n@| password | string | 否 | - | - | - |\n@| maunal | boolean | 否 | - | - | - |\n@| partialInfo | boolean | 否 | - | - | - |\n@| success | (res: [UniWifiResult](#uniwifiresult-values)) => void | 否 | - | - | - |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n#### UniWifiResult 的属性值 @uniwifiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errSubject | string | 是 | - | - | - |\n| errMsg | string | 是 | - | - | - |\n| wifi | **UniWifiInfo** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SSID | string | 是 | - | - | - |\n@| BSSID | string | 否 | - | - | - |\n@| secure | boolean | 否 | - | - | - |\n@| signalStrength | number | 否 | - | - | - |\n@| frequency | number | 否 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.connectWifi)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#connectWifi)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=connectWifi&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=connectWifi&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=connectWifi&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=connectWifi&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=connectWifi&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=connectWifi)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=connectWifi&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"getWifiList":{"name":"## uni.getWifiList(option) @getwifilist","description":"请求获取 Wi-Fi 列表。wifiList 数据会在 onGetWifiList 注册的回调中返回。\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### getWifiList 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **WifiOption** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [UniWifiResult](#uniwifiresult-values)) => void | 否 | - | - | - |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n#### UniWifiResult 的属性值 @uniwifiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errSubject | string | 是 | - | - | - |\n| errMsg | string | 是 | - | - | - |\n| wifi | **UniWifiInfo** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SSID | string | 是 | - | - | - |\n@| BSSID | string | 否 | - | - | - |\n@| secure | boolean | 否 | - | - | - |\n@| signalStrength | number | 否 | - | - | - |\n@| frequency | number | 否 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.getWifiList)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#getWifiList)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getWifiList&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getWifiList&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getWifiList&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getWifiList&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getWifiList&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getWifiList)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getWifiList&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onGetWifiList":{"name":"## uni.onGetWifiList(callback) @ongetwifilist","description":"监听获取到 Wi-Fi 列表数据事件。\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### onGetWifiList 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (wifiInfo: Record\\<string, any>) => void | 是 | - | - |  | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.onGetWifiList)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#onGetWifiList)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=onGetWifiList&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onGetWifiList&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onGetWifiList&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onGetWifiList&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onGetWifiList&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onGetWifiList)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onGetWifiList&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offGetWifiList":{"name":"## uni.offGetWifiList(callback) @offgetwifilist","description":"移除获取到 Wi-Fi 列表数据事件的监听函数。\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### offGetWifiList 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | () => void | 是 | - | - |  | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.offGetWifiList)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#offGetWifiList)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=offGetWifiList&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offGetWifiList&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offGetWifiList&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offGetWifiList&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offGetWifiList&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offGetWifiList)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offGetWifiList&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"getConnectedWifi":{"name":"## uni.getConnectedWifi(option) @getconnectedwifi","description":"获取已连接的 Wi-Fi 信息\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### getConnectedWifi 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **GetConnectedWifiOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| partialInfo | boolean | 否 | - | - | - |\n@| success | (res: [UniWifiResult](#uniwifiresult-values)) => void | 否 | - | - | - |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n#### UniWifiResult 的属性值 @uniwifiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errSubject | string | 是 | - | - | - |\n| errMsg | string | 是 | - | - | - |\n| wifi | **UniWifiInfo** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SSID | string | 是 | - | - | - |\n@| BSSID | string | 否 | - | - | - |\n@| secure | boolean | 否 | - | - | - |\n@| signalStrength | number | 否 | - | - | - |\n@| frequency | number | 否 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.getConnectedWifi)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#getConnectedWifi)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getConnectedWifi&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getConnectedWifi&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getConnectedWifi&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getConnectedWifi&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getConnectedWifi&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getConnectedWifi)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getConnectedWifi&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onWifiConnected":{"name":"## uni.onWifiConnected(callback) @onwificonnected","description":"监听连接上 Wi-Fi 的事件\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### onWifiConnected 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (wifiInfo: [UniWifiResult](#uniwifiresult-values)) => void | 是 | - | - |  | \n\n### UniWifiResult 的属性值 @uniwifiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errSubject | string | 是 | - | - | - |\n| errMsg | string | 是 | - | - | - |\n| wifi | **UniWifiInfo** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SSID | string | 是 | - | - | - |\n@| BSSID | string | 否 | - | - | - |\n@| secure | boolean | 否 | - | - | - |\n@| signalStrength | number | 否 | - | - | - |\n@| frequency | number | 否 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.onWifiConnected)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#onWifiConnected)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=onWifiConnected&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onWifiConnected&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onWifiConnected&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onWifiConnected&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onWifiConnected&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onWifiConnected)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onWifiConnected&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onWifiConnectedWithPartialInfo":{"name":"## uni.onWifiConnectedWithPartialInfo(callback) @onwificonnectedwithpartialinfo","description":"监听连接上 Wi-Fi 的事件。\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### onWifiConnectedWithPartialInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | - |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (wifiInfo: [UniWifiInfoWithPartialInfo](#uniwifiinfowithpartialinfo-values)) => void | 是 | - | - |  | \n\n### UniWifiInfoWithPartialInfo 的属性值 @uniwifiinfowithpartialinfo-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| SSID | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.onWifiConnectedWithPartialInfo)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#onWifiConnectedWithPartialInfo)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=onWifiConnectedWithPartialInfo&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onWifiConnectedWithPartialInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onWifiConnectedWithPartialInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onWifiConnectedWithPartialInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onWifiConnectedWithPartialInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onWifiConnectedWithPartialInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onWifiConnectedWithPartialInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offWifiConnected":{"name":"## uni.offWifiConnected(callback?) @offwificonnected","description":"移除连接上 Wi-Fi 的事件的监听函数。\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### offWifiConnected 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | () => void | 否 | - | - |  | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.offWifiConnected)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/wifi.html#offWifiConnected)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=offWifiConnected&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offWifiConnected&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offWifiConnected&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offWifiConnected&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offWifiConnected&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offWifiConnected)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offWifiConnected&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"setWifiList":{"name":"## uni.setWifiList(option) @setwifilist","description":"SetWifiList  暂未实现\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-wifi](https://ext.dcloud.net.cn/plugin?name=uni-wifi)\n","compatibility":"### setWifiList 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **WifiOption** | 是 | - | - | Wifi 函数通用入参封装 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [UniWifiResult](#uniwifiresult-values)) => void | 否 | - | - | - |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n#### UniWifiResult 的属性值 @uniwifiresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errSubject | string | 是 | - | - | - |\n| errMsg | string | 是 | - | - | - |\n| wifi | **UniWifiInfo** | 否 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| SSID | string | 是 | - | - | - |\n@| BSSID | string | 否 | - | - | - |\n@| secure | boolean | 否 | - | - | - |\n@| signalStrength | number | 否 | - | - | - |\n@| frequency | number | 否 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.wifi.setWifiList)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=setWifiList&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setWifiList&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setWifiList&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setWifiList&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setWifiList&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setWifiList)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setWifiList&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onMemoryWarning":{"name":"## uni.onMemoryWarning(callback) @onmemorywarning","description":"监听内存不足告警事件。\n","compatibility":"### onMemoryWarning 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnMemoryWarningCallbackResult](#onmemorywarningcallbackresult-values)) => void | 是 | - | - | - | \n\n### OnMemoryWarningCallbackResult 的属性值 @onmemorywarningcallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| level | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 仅 Android 有该字段，对应系统内存告警等级宏定义 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.memory.onMemoryWarning)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/memory/wx.onMemoryWarning.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.io/system/memory.html#onmemorywarning)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onMemoryWarning&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onMemoryWarning&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onMemoryWarning&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onMemoryWarning&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onMemoryWarning)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onMemoryWarning&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offMemoryWarning":{"name":"## uni.offMemoryWarning(callback) @offmemorywarning","description":"取消监听内存不足告警事件。不传入 callback 则取消所有监听。\n","compatibility":"### offMemoryWarning 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OffMemoryWarningCallbackResult](#offmemorywarningcallbackresult-values)) => void | 是 | - | - | - | \n\n### OffMemoryWarningCallbackResult 的属性值 @offmemorywarningcallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| level | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 仅 Android 有该字段，对应系统内存告警等级宏定义 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.memory.offMemoryWarning)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/memory/wx.offMemoryWarning.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offMemoryWarning&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offMemoryWarning&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offMemoryWarning&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offMemoryWarning&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offMemoryWarning)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offMemoryWarning&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onUserCaptureScreen":{"name":"## uni.onUserCaptureScreen(callback?) @onusercapturescreen","description":"开启截屏监听\r\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-usercapturescreen](https://ext.dcloud.net.cn/plugin?name=uni-usercapturescreen)\n","compatibility":"### onUserCaptureScreen 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.11 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (res: [OnUserCaptureScreenCallbackResult](#onusercapturescreencallbackresult-values)) => void | 否 | - | - |  | \n\n### OnUserCaptureScreenCallbackResult 的属性值 @onusercapturescreencallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| path | string | 否 | - | - | 截屏文件路径（仅Android返回） |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.captureScreen.onUserCaptureScreen)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/capture-screen.html#onusercapturescreen)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=onUserCaptureScreen&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onUserCaptureScreen&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onUserCaptureScreen&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onUserCaptureScreen&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onUserCaptureScreen&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onUserCaptureScreen)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onUserCaptureScreen&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offUserCaptureScreen":{"name":"## uni.offUserCaptureScreen(callback?) @offusercapturescreen","description":"关闭截屏监听\r\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-usercapturescreen](https://ext.dcloud.net.cn/plugin?name=uni-usercapturescreen)\n","compatibility":"### offUserCaptureScreen 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.11 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (res: [OnUserCaptureScreenCallbackResult](#onusercapturescreencallbackresult-values)) => void | 否 | - | - |  | \n\n### OnUserCaptureScreenCallbackResult 的属性值 @onusercapturescreencallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| path | string | 否 | - | - | 截屏文件路径（仅Android返回） |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.captureScreen.offUserCaptureScreen)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/capture-screen.html#offusercapturescreen)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=offUserCaptureScreen&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offUserCaptureScreen&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offUserCaptureScreen&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offUserCaptureScreen&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offUserCaptureScreen&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offUserCaptureScreen)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offUserCaptureScreen&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"setUserCaptureScreen":{"name":"## uni.setUserCaptureScreen(options) @setusercapturescreen","description":"设置防截屏\r\n\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-usercapturescreen](https://ext.dcloud.net.cn/plugin?name=uni-usercapturescreen)\n","compatibility":"### setUserCaptureScreen 兼容性 \n| Web | 微信小程序 | Android | iOS 系统版本 | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.11 | 3.9.0 | 13.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetUserCaptureScreenOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| enable | boolean | 是 | - | - | true: 允许用户截屏 false: 不允许用户截屏，防止用户截屏到应用页面内容 |\n@| success | (res: SetUserCaptureScreenSuccess) => void | 否 | - | - | uni.setUserCaptureScreen成功回调函数定义 |\n@| fail | (res: [IUniError](#iunierror-values)) => void | 否 | - | - | uni.setUserCaptureScreen失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | - | uni.setUserCaptureScreen完成回调函数定义 | \n\n#### IUniError 的属性值 @iunierror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 统一错误码 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.captureScreen.setUserCaptureScreen)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/capture-screen.html#setusercapturescreen)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=setUserCaptureScreen&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setUserCaptureScreen&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setUserCaptureScreen&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setUserCaptureScreen&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setUserCaptureScreen&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setUserCaptureScreen)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setUserCaptureScreen&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"captureScreen":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/capture-screen/capture-screen.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/capture-screen/capture-screen\n```uvue\n<template>\n  <view class=\"uni-container\">\n    <page-head :title=\"title\"></page-head>\n    <view class=\"uni-common-mt\">\n      <text class=\"uni-title\">截屏状态：{{ captureStatus }}</text>\r\n      <view style=\"flex-direction: row;\">\n        <text class=\"uni-title\">是否允许截屏</text>\n        <switch :checked=\"allowCapture\" @change=\"(e: UniSwitchChangeEvent) => toggleCaptureScreen(e.detail.value)\" />\n      </view>\n\n      <view class=\"uni-btn\">\n        <button @click=\"startCaptureListener\" type=\"primary\" class=\"uni-common-mt\">开启截屏监听</button>\n        <button @click=\"stopCaptureListener\" class=\"uni-common-mt\">关闭截屏监听</button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\r\nimport { state, setAllowCapture } from '@/store/index.uts'\nconst title = '截屏监听'\nconst allowCapture = ref(state.allowCapture)\nconst captureStatus = ref('未监听')\nconst captureCallback = ref<((res: OnUserCaptureScreenCallbackResult) => void) | null>(null);\n\n\nconst toggleCaptureScreen = (checked: boolean) => {\n  uni.setUserCaptureScreen({\n    enable: checked,\n    success: (res: SetUserCaptureScreenSuccess) => {\n      allowCapture.value = checked\n      setAllowCapture(checked)\n      console.log('设置截屏状态成功：', res)\n    },\n    fail: (err:IUniError) => {\n      console.log('设置截屏状态失败：', err)\n    }\n  })\n}\n\nconst startCaptureListener = () => {\n  captureCallback.value = (res: OnUserCaptureScreenCallbackResult) => {\n    captureStatus.value = '检测到截屏'\n    console.log('检测到用户截屏',res)\n  }\n  uni.onUserCaptureScreen(captureCallback.value)\n  captureStatus.value = '正在监听'\n  console.log('开始监听截屏')\n}\n\nconst stopCaptureListener = () => {\n  if (captureCallback.value != null) {\n    uni.offUserCaptureScreen(captureCallback.value)\n    captureStatus.value = '未监听'\n    console.log('停止监听截屏')\n  }\n}\n\n// 页面卸载时清理监听\nonUnmounted(() => {\n  stopCaptureListener()\n})\n</script>\n\n\n\n```\n:::"},"createRequestPermissionListener":{"name":"## uni.createRequestPermissionListener() @createrequestpermissionlistener","description":"创建一个监听权限申请的对象。","compatibility":"### createRequestPermissionListener 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.0 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [RequestPermissionListener](#requestpermissionlistener-values) |\n\n#### RequestPermissionListener 的方法 @requestpermissionlistener-values \n\n#### onRequest(callback : RequestPermissionListenerRequestCallback) : void @onrequest\n监听申请系统权限\n##### onRequest 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (permissions: Array&lt;string&gt;) => void | 是 | - | - | 申请系统权限回调，permissions为触发权限申请的所有权限 | \n\n\n#### onConfirm(callback : RequestPermissionListenerConfirmCallback) : void @onconfirm\n监听弹出系统权限授权框\n##### onConfirm 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (permissions: Array&lt;string&gt;) => void | 是 | - | - | 弹出系统权限授权框回调，permissions为触发弹出权限授权框的所有权限 | \n\n\n#### onComplete(callback : RequestPermissionListenerCompleteCallback) : void @oncomplete\n监听权限申请完成\n##### onComplete 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (permissions: Array&lt;string&gt;) => void | 是 | - | - | 权限申请完成回调，permissions为申请完成的所有权限 | \n\n\n#### stop() : void @stop\n取消所有监听\n##### stop 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.createRequestPermissionListener)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/create-request-permission-listener/create-request-permission-listener.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/create-request-permission-listener/create-request-permission-listener\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <page-head title=\"权限申请监听\"></page-head>\r\n    <view class=\"permission-alert\" id=\"permission-alert\"\r\n      :style=\"{'transform':isPermissionAlertShow ? 'translateY(0)':'translateY(-110px)'}\">\r\n      <text style=\"font-size: 20px;margin-bottom: 10px;margin-top: 5px;\">访问日历权限申请说明：</text>\r\n      <text style=\"color: darkgray;\">uni-app x正在申请访问日历权限用于演示，允许或拒绝均不会获取任何隐私信息。</text>\r\n    </view>\r\n    <button type=\"primary\" style=\"margin: 10px;\" @click=\"requestPermission\">点击申请日历权限</button>\r\n\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        isPermissionAlertShow: false,\r\n        permissionAlert: null as UniElement | null,\r\n        timeoutId: -1,\r\n        permissionListener: null as RequestPermissionListener | null\r\n      }\r\n    },\r\n\r\n    onReady() {\r\n      this.watchPermissionRRequest()\r\n    },\r\n    onUnload() {\r\n      this.permissionListener?.stop()\r\n      this.permissionListener = null\r\n      clearTimeout(this.timeoutId)\r\n    },\r\n    methods: {\r\n      watchPermissionRRequest() {\r\n        this.permissionListener = uni.createRequestPermissionListener()\r\n        this.permissionListener!.onConfirm((_) => {\r\n          // TODO 目前onConfirm监听实现的在时间上不够精确，暂时需要延迟弹框，后续修复\r\n          // TODO 这里的弹框仅为演示，实际开发中监听权限申请的代码应该在app.uvue中，弹框应全局处理，可参考https://gitcode.net/dcloud/uni-api/-/tree/master/uni_modules/uni-prompt/utssdk/app-android 代码自行封装一个uts的全局弹框\r\n          this.timeoutId = setTimeout(() => {\r\n            this.isPermissionAlertShow = true\r\n          }, 100)\r\n        })\r\n        this.permissionListener!.onComplete((_) => {\r\n          clearTimeout(this.timeoutId)\r\n          this.isPermissionAlertShow = false\r\n        })\r\n      },\r\n      requestPermission() {\r\n        // #ifdef APP-ANDROID\r\n        if (UTSAndroid.checkSystemPermissionGranted(UTSAndroid.getUniActivity()!, [\"android.permission.READ_CALENDAR\"])) {\r\n          uni.showToast({\r\n            title: \"权限已经同意了，不需要再申请\",\r\n            position: \"bottom\"\r\n          })\r\n          return\r\n        }\r\n        UTSAndroid.requestSystemPermission(UTSAndroid.getUniActivity()!, [\"android.permission.READ_CALENDAR\"], (_ : boolean, p : string[]) => {\r\n          console.log(p)\r\n        }, (_ : boolean, p : string[]) => {\r\n          uni.showToast({\r\n            title: \"权限被拒绝了\",\r\n            position: \"bottom\"\r\n          })\r\n          console.log(p)\r\n        })\r\n        // #endif\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .permission-alert {\r\n    width: 90%;\r\n    height: 100px;\r\n    margin: 10px 5%;\r\n    position: absolute;\r\n    top: 0px;\r\n    z-index: 3;\r\n    border-radius: 5px;\r\n    transition-property: transform;\r\n    transition-duration: 200ms;\r\n    background-color: white;\r\n    padding: 10px;\r\n  }\r\n</style>\n\n```\n:::"},"scanCode":{"name":"## uni.scanCode(options?) @scancode","description":"扫码","compatibility":"### scanCode 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ScanCodeOptions** | 否 | - | - | uni.scanCode参数定义 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| onlyFromCamera | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否只能从相机扫码，不允许从相册选择图片 |\n@| scanType | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 扫码类型 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| barCode | - | - |\n@@| qrCode | - | - |\n@@| datamatrix | - | - |\n@@| pdf417 | - | - |\n@| success | (res: [ScanCodeSuccess](#scancodesuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.scanCode成功回调函数定义 |\n@| fail | (res: ScanCodeFail) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.scanCode失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.scanCode完成回调函数定义 | \n\n#### ScanCodeSuccess 的属性值 @scancodesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| result | string | 是 | - | - | - |\n| scanType | string | 是 | - | - | - |\n| charSet | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 所扫码的字符集<br/> |\n| path | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当所扫的码为当前小程序二维码时，会返回此字段，内容为二维码携带的 path<br/> |\n| rawData | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 原始数据，base64编码<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.scanCode)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/device/scan/wx.scanCode.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=scanCode&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=scanCode&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=scanCode&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=scanCode&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=scanCode)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=scanCode&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/scan-code/scan-code.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n```uvue\n<template>\n\t<view>\n\t\t<page-head :title=\"title\"></page-head>\n\t\t<view class=\"uni-padding-wrap uni-common-mt\">\n\t\t\t<view class=\"uni-title\">扫码结果：</view>\n\t\t\t<view v-if=\"result\" class=\"scan-result\">\n\t\t\t\t{{result}}\n\t\t\t</view>\n\t\t\t<view class=\"uni-btn-v\">\n\t\t\t\t<button type=\"primary\" @click=\"scan\">扫一扫</button>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n<script lang=\"uts\">\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle: 'scanCode',\n\t\t\t\tresult: ''\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tscan() {\n\t\t\t\tuni.scanCode({\n\t\t\t\t\tsuccess: (res: ScanCodeSuccess) => {\n            console.log('res: ',res);\n\t\t\t\t\t\tthis.result = res.result\n\t\t\t\t\t},\n\t\t\t\t\tfail: (err: ScanCodeFail) => {\n            console.log('err: ',err);\n\t\t\t\t\t\t// 需要注意的是小程序扫码不需要申请相机权限\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style>\n\t.scan-result {\n\t\tmin-height: 50rpx;\n\t\tline-height: 50rpx;\n\t}\n</style>\n\n```"},"isSimulator":{"name":"## uni.isSimulator() @issimulator","description":"判断当前是否是模拟器，Android设备上会采集传感器信息。\n","compatibility":"### isSimulator 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.51 | 4.51 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| boolean |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.isSimulator)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=isSimulator&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=isSimulator&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=isSimulator&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=isSimulator&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=isSimulator&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=isSimulator)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=isSimulator&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/is-simulator/is-simulator.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/is-simulator/is-simulator\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"'isSimulator'\"></page-head>\r\n      <view class=\"uni-common-mt\" style=\"justify-content: center;align-items: center;\">\r\n        <text>{{\r\n\t\t        isSimulator ? \"当前设备是模拟器\" : \"当前设备不是模拟器\"\r\n\t\t      }}</text>\r\n        <text>\\n注：有些模拟器会故意伪装为真机，此时识别可能会不准确</text>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script setup>\r\n  const isSimulator = ref(false)\r\n  isSimulator.value = uni.isSimulator()\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n```\n:::"},"getAccessibilityInfo":{"name":"## uni.getAccessibilityInfo() @getaccessibilityinfo","description":"获取无障碍服务信息","compatibility":"### getAccessibilityInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.51 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.getAccessibilityInfo)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getAccessibilityInfo&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getAccessibilityInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getAccessibilityInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getAccessibilityInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getAccessibilityInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getAccessibilityInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getAccessibilityInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-accessibility-info/get-accessibility-info.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-accessibility-info/get-accessibility-info\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"'getAccessibilityInfo'\"></page-head>\n      <view class=\"uni-common-mt\" >\n        <text style=\"margin-left: 8px;\">无障碍服务信息如下：</text>\r\n        <text style=\"margin-top: 15px;padding: 8px;\">{{\r\n\t\t        accessibilityInfo\r\n\t\t      }}</text>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script setup>\r\n  const accessibilityInfo = ref(\"\")\r\n  accessibilityInfo.value = JSON.stringify(uni.getAccessibilityInfo())\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n```\n:::"},"chooseImage":{"name":"## uni.chooseImage(options) @chooseimage","description":"从本地相册选择图片或使用相机拍照","compatibility":"### chooseImage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ChooseImageOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| pageOrientation | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.33\",\"4.33\",\"x\"]]}' /> | 屏幕方向。默认为page.json中的pageOrientation。 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| auto | - | 自动 |\n@@| portrait | - | 竖屏显示 |\n@@| landscape | - | 横屏显示 |\n@| albumMode | string | 否 | \"custom\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.33\",\"x\",\"x\"]]}' /> | 图片选择模式 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| custom | - | 自定义媒体选择器 |\n@@| system | - | 系统媒体选择器 |\n@| count | number | 否 | 9 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 最多可以选择的图片张数，app端不限制，微信小程序最多可支持20个。 |\n@| sizeType | Array&lt;string&gt; | 否 | ['original','compressed'\\] | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.9\",\"4.11\",\"4.61\"]]}' /> | original 原图，compressed 压缩图，默认二者都有 |\n@| sourceType | Array&lt;string&gt; | 否 | ['album','camera'\\] | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | album 从相册选图，camera 使用相机，默认二者都有 |\n@| extension | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"x\",\"x\"]]}' /> | 根据文件拓展名过滤，每一项都不能是空字符串。默认不过滤。仅H5支持 |\n@| crop | **ChooseImageCropOptions** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.9\",\"4.11\",\"x\"]]}' /> | 图像裁剪参数，设置后 sizeType 失效。 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| width | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 裁剪的宽度，单位为px，用于计算裁剪宽高比。 |\n@@| height | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 裁剪的高度，单位为px，用于计算裁剪宽高比。 |\n@@| quality | number | 否 | 80 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 取值范围为1-100，数值越小，质量越低（仅对jpg格式有效）。默认值为80。 |\n@@| resize | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 是否将width和height作为裁剪保存图片真实的像素值。默认值为true。注：设置为false时在裁剪编辑界面显示图片的像素值，设置为true时不显示。 |\n@| success | (callback: [ChooseImageSuccess](#chooseimagesuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 成功则返回图片的本地文件路径列表 tempFilePaths |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### ChooseImageSuccess 的属性值 @chooseimagesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errSubject | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 调用API的名称 |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 描述信息 |\n| tempFilePaths | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 图片的本地文件路径列表 |\n| tempFiles | Array&lt;**ChooseImageTempFile**&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 图片的本地文件列表 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| path | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 本地文件路径 |\n@| size | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 本地文件大小，单位：B |\n@| name | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 包含扩展名的文件名称，仅H5支持 |\n@| type | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 文件类型，仅H5支持 |\n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.chooseImage)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.chooseImage.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=chooseImage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=chooseImage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=chooseImage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=chooseImage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=chooseImage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=chooseImage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/choose-image/choose-image.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/choose-image/choose-image\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/choose-image/choose-image\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-common-mt\">\r\n      <view class=\"uni-list\">\r\n        <view class=\"uni-list-cell cell-pd\">\r\n          <text class=\"uni-list-cell-left uni-label\">\r\n            图片来源\r\n          </text>\r\n          <view class=\"uni-list-cell-right\" @click=\"chooseImageSource\">\r\n            <text class=\"click-t\">{{sourceType[sourceTypeIndex]}}</text>\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"uni-list-cell cell-pd\">\r\n          <text class=\"uni-list-cell-left uni-label\">\r\n            图片质量\r\n          </text>\r\n          <view class=\"uni-list-cell-right\" @click=\"chooseImageType\">\r\n            <text class=\"click-t\">{{sizeType[sizeTypeIndex]}}</text>\r\n          </view>\r\n        </view>\r\n\r\n        <view class=\"uni-list-cell cell-pd\">\r\n          <text class=\"uni-list-cell-left uni-label\">\r\n            数量限制\r\n          </text>\r\n          <view class=\"uni-list-cell-right\">\r\n            <input class=\"click-t\" :value=\"count\" type=\"number\" :maxlength=\"1\" @blur=\"chooseImageCount\" />\r\n          </view>\r\n        </view>\r\n        <!-- #ifdef APP-ANDROID || APP-IOS -->\r\n        <view class=\"uni-list-cell cell-pd\">\r\n          <text class=\"uni-list-cell-left uni-label\">\r\n            屏幕方向\r\n          </text>\r\n          <view class=\"uni-list-cell-right\" @click=\"chooseOrientationType\">\r\n            <text class=\"click-t\">{{orientationType[orientationTypeIndex]}}</text>\r\n          </view>\r\n        </view>\r\n        <!-- #endif -->\r\n        <!-- #ifdef APP-ANDROID -->\r\n        <view class=\"uni-list-cell cell-pd\">\r\n          <text class=\"uni-list-cell-left uni-label\">\r\n            相册模式\r\n          </text>\r\n          <view class=\"uni-list-cell-right\" @click=\"albumModeChange\">\r\n            <text class=\"click-t\">{{albumModeType[albumModeTypeIndex]}}</text>\r\n          </view>\r\n        </view>\r\n        <!-- #endif -->\r\n        <view class=\"uni-list-cell cell-pd\">\r\n          <text class=\"uni-list-cell-left uni-label\">\r\n            图像裁剪\r\n          </text>\r\n          <view class=\"uni-list-cell-right\">\r\n            <switch :checked=\"isCrop\" @change=\"switchCrop\"></switch>\r\n          </view>\r\n        </view>\r\n        <view ref=\"cropOptionNode\" class=\"crop-option\"\r\n          :style=\"{'height':isCrop?'200px':'0px','margin-bottom':isCrop?'11px':'0px'}\">\r\n          <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-list-cell-left item_width\">\r\n              图片质量(%)\r\n            </view>\r\n            <view class=\"uni-list-cell-right\">\r\n              <input :value=\"cropPercent\" @confirm=\"cropPercentConfim\" type=\"number\" maxlength=\"-1\" />\r\n            </view>\r\n          </view>\r\n          <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-list-cell-left item_width\">\r\n              裁剪宽度(px)\r\n            </view>\r\n            <view class=\"uni-list-cell-right\">\r\n              <input :value=\"cropWidth\" @confirm=\"cropWidthConfim\" type=\"number\" maxlength=\"-1\" />\r\n            </view>\r\n          </view>\r\n          <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-list-cell-left item_width\">\r\n              裁剪高度(px)\r\n            </view>\r\n            <view class=\"uni-list-cell-right\">\r\n              <input :value=\"cropHeight\" @confirm=\"cropHeightConfim\" type=\"number\" maxlength=\"-1\" />\r\n            </view>\r\n          </view>\r\n          <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-list-cell-left item_width\">\r\n              保留原宽高\r\n            </view>\r\n            <view class=\"uni-list-cell-right\">\r\n              <switch :checked=\"cropResize\" @change=\"cropResizeChange\"></switch>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n\r\n      <view class=\"uni-list list-pd\" style=\"padding: 15px;\">\r\n        <view class=\"uni-flex\" style=\"margin-bottom: 10px;\">\r\n          <view class=\"uni-list-cell-left\">点击可预览选好的图片</view>\r\n          <view style=\"margin-left: auto;\">\r\n            <text class=\"click-t\">{{imageList.length}}/{{count}}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"uni-flex\" style=\"flex-wrap: wrap;\">\r\n          <view v-for=\"(image,index) in imageList\" :key=\"index\" class=\"uni-uploader__input-box\" style=\"border: 0;\">\r\n            <image style=\"width: 104px; height: 104px;\" :src=\"image\" :data-src=\"image\" @tap=\"previewImage(index)\">\r\n            </image>\r\n            <image src=\"/static/plus.png\" class=\"image-remove\" @click=\"removeImage(index)\"></image>\r\n          </view>\r\n          <image class=\"uni-uploader__input-box\" @tap=\"chooseImage\" src=\"/static/plus.png\"></image>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .cell-pd {\r\n    padding: 11px 15px;\r\n  }\r\n\r\n  .click-t {\r\n    color: darkgray;\r\n  }\r\n\r\n  .list-pd {\r\n    margin-top: 25px;\r\n  }\r\n\r\n  .uni-uploader__input-box {\r\n    margin: 5px;\r\n    width: 104px;\r\n    height: 104px;\r\n    border: 1px solid #D9D9D9;\r\n  }\r\n\r\n  .uni-uploader__input {\r\n    position: absolute;\r\n    z-index: 1;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0;\r\n  }\r\n\r\n  .image-remove {\r\n    transform: rotate(45deg);\r\n    width: 25px;\r\n    height: 25px;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    border-radius: 13px;\r\n    background-color: rgba(200, 200, 200, 0.8);\r\n  }\r\n\r\n  .item_width {\r\n    width: 130px;\r\n  }\r\n\r\n  .crop-option {\r\n    margin-left: 11px;\r\n    margin-right: 11px;\r\n    border-radius: 11px;\r\n    background-color: #eee;\r\n    transition-property: height, margin-bottom;\r\n    transition-duration: 200ms;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  var sourceTypeArray = [\r\n    ['camera'],\r\n    ['album'],\r\n    ['camera', 'album']\r\n  ]\r\n  var sizeTypeArray = [\r\n    ['compressed'],\r\n    ['original'],\r\n    ['compressed', 'original']\r\n  ]\r\n  var orientationTypeArray = [\r\n    'portrait',\r\n    'landscape',\r\n    'auto'\r\n  ]\r\n  var albumModeTypeArray = [\r\n    \"custom\",\r\n    \"system\"\r\n  ]\r\n  export default {\r\n    data() {\r\n      return {\n        title: 'chooseImage',\r\n        imageList: [] as Array<string>,\r\n        sourceTypeIndex: 2,\r\n        sourceType: ['拍照', '相册', '拍照或相册'],\r\n        sizeTypeIndex: 2,\r\n        sizeType: ['压缩', '原图', '压缩或原图'],\r\n        orientationTypeIndex: 0,\r\n        orientationType: ['竖屏', '横屏', '自动'],\r\n        albumModeTypeIndex:0,\r\n        albumModeType:[\"自定义相册\",\"系统相册\"],\r\n        count: 9,\r\n        isCrop: false,\r\n        cropPercent: 80,\r\n        cropWidth: 100,\r\n        cropHeight: 100,\r\n        cropResize: false\r\n      }\r\n    },\r\n    onHide() {\r\n      console.log(\"Page Hide\");\r\n    },\r\n    onUnload() {\r\n      this.imageList = [];\r\n      this.sourceTypeIndex = 2\r\n      this.sourceType = ['拍照', '相册', '拍照或相册']\r\n      this.sizeTypeIndex = 2\r\n      this.sizeType = ['压缩', '原图', '压缩或原图']\r\n      this.orientationTypeIndex = 0\r\n      this.orientationType = ['竖屏', '横屏', '自动']\r\n    },\r\n    methods: {\r\n      cropHeightConfim(e : InputConfirmEvent) {\r\n        let value = parseInt(e.detail.value)\r\n        if (value > 0) {\r\n          this.cropHeight = value\r\n        } else {\r\n          uni.showToast({\r\n            position: \"bottom\",\r\n            title: \"裁剪高度需要大于0\"\r\n          })\r\n        }\r\n      },\r\n      cropWidthConfim(e : InputConfirmEvent) {\r\n        let value = parseInt(e.detail.value)\r\n        if (value > 0) {\r\n          this.cropWidth = value\r\n        } else {\r\n          uni.showToast({\r\n            position: \"bottom\",\r\n            title: \"裁剪宽度需要大于0\"\r\n          })\r\n        }\r\n      },\r\n      cropPercentConfim(e : InputConfirmEvent) {\r\n        let value = parseInt(e.detail.value)\r\n        if (value > 0 && value <= 100) {\r\n          this.cropPercent = value\r\n        } else {\r\n          uni.showToast({\r\n            position: \"bottom\",\r\n            title: \"请输入0~100之间的值\"\r\n          })\r\n        }\r\n      },\r\n      albumModeChange(){\r\n        uni.showActionSheet({\r\n          itemList: this.albumModeType,\r\n          success: (e) => {\r\n            this.albumModeTypeIndex = e.tapIndex\r\n          }\r\n        })\r\n      },\r\n      cropResizeChange(e : UniSwitchChangeEvent) {\r\n        this.cropResize = e.detail.value\r\n      },\r\n      switchCrop(e : UniSwitchChangeEvent) {\r\n        this.isCrop = e.detail.value\r\n      },\r\n      removeImage(index : number) {\r\n        this.imageList.splice(index, 1)\r\n      },\r\n      chooseImageSource() {\r\n        uni.showActionSheet({\r\n          itemList: ['拍照', '相册', '拍照或相册'],\r\n          success: (e) => {\r\n            this.sourceTypeIndex = e.tapIndex\r\n          }\r\n        })\r\n      },\r\n      chooseImageType() {\r\n        uni.showActionSheet({\r\n          itemList: ['压缩', '原图', '压缩或原图'],\r\n          success: (e) => {\r\n            this.sizeTypeIndex = e.tapIndex\r\n          }\r\n        })\r\n      },\r\n      chooseOrientationType(){\r\n        uni.showActionSheet({\r\n          itemList: ['竖屏', '横屏', '自动'],\r\n          success: (e) => {\r\n            this.orientationTypeIndex = e.tapIndex\r\n          }\r\n        })\r\n      },\r\n      chooseImageCount(event : InputBlurEvent) {\r\n        let count = parseInt(event.detail.value)\r\n        if (count < 0) {\r\n          uni.showToast({\r\n            position: \"bottom\",\r\n            title: \"图片数量应该大于0\"\r\n          })\r\n          return\r\n        }\r\n        this.count = count\r\n      },\r\n      chooseImage: function () {\r\n        if (this.imageList.length >= this.count) {\r\n          uni.showToast({\r\n            position: \"bottom\",\r\n            title: `已经有 ${this.count} 张图片了，请删除部分图片之后重新选择`\r\n          })\r\n          return\r\n        }\r\n        uni.chooseImage({\r\n          sourceType: sourceTypeArray[this.sourceTypeIndex],\r\n          sizeType: sizeTypeArray[this.sizeTypeIndex],\r\n          crop: this.isCrop ? { \"quality\": this.cropPercent, \"width\": this.cropWidth, \"height\": this.cropHeight, \"resize\": this.cropResize } as ChooseImageCropOptions : null,\r\n          count: this.count - this.imageList.length,\r\n          // #ifdef APP\r\n          pageOrientation: orientationTypeArray[this.orientationTypeIndex],\r\n          // #endif\r\n          // #ifdef APP-ANDROID\r\n          albumMode: albumModeTypeArray[this.albumModeTypeIndex],\r\n          // #endif\r\n          success: (res) => {\r\n            this.imageList = this.imageList.concat(res.tempFilePaths);\r\n          },\r\n          fail: (err) => {\r\n            console.log(\"err: \", JSON.stringify(err));\n            uni.showToast({\n              title:\"choose image error.code:\" + err.errCode+\";message:\"+err.errMsg,\n              position:\"bottom\"\n            })\r\n          }\r\n        })\r\n      },\r\n      previewImage: function (index : number) {\r\n        uni.previewImage({\r\n          current: index,\r\n          urls: this.imageList\r\n        })\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"previewImage":{"name":"## uni.previewImage(options) @previewimage","description":"预览图片","compatibility":"### previewImage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **PreviewImageOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| current | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | current 为当前显示图片的链接/索引值，不填或填写的值无效则为 urls 的第一张。 |\n@| urls | Array&lt;[string.ImageURIString](/uts/data-type.md#ide-string)&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要预览的图片链接列表 |\n@| showmenu | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"x\",\"4.61\"]]}' /> | 是否显示长按菜单<br/> |\n@| indicator | \"default\" \\\\| \"number\" \\\\| \"none\" | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.9\",\"4.11\",\"x\"]]}' /> | 图片指示器样式<br/> |\n@| loop | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.9\",\"4.11\",\"x\"]]}' /> | 是否可循环预览 |\n@| longPressActions | **LongPressActionsOptions** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.51\",\"x\",\"x\"]]}' /> | 长按图片显示操作菜单。 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| itemList | Array&lt;string&gt; | 是 | - | - | 按钮的文字数组 |\n@@| itemColor | string | 否 | - | - | 按钮的文字颜色，字符串格式，默认为\"#000000\" |\n@@| success | (result: [LongPressActionsSuccessResult](#longpressactionssuccessresult-values)) => void | 否 | - | - | 接口调用成功的回调函数 |\n@@| fail | (result: [IMediaError](#imediaerror-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@@| complete | (result: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| success | (callback: [PreviewImageSuccess](#previewimagesuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| referrerPolicy | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.13.0`<br/><br/>`origin`: 发送完整的referrer; `no-referrer`: 不发送。格式固定为 `https://servicewechat.com/{appid}/{version}/page-frame.html`，其中 {appid} 为小程序的 appid，{version} 为小程序的版本号，版本号为 0 表示为开发版、体验版以及审核版本，版本号为 devtools 表示为开发者工具，其余为正式版本；<br/> | \n\n##### LongPressActionsSuccessResult 的属性值 @longpressactionssuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tapIndex | number | 是 | - | - | 接口调用失败的回调函数 |\n| index | number | 是 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） |\n\n##### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n#### PreviewImageSuccess 的属性值 @previewimagesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errSubject | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 调用API的名称 |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 描述信息 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.previewImage.previewImage)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.previewImage.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=previewImage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=previewImage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=previewImage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=previewImage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=previewImage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=previewImage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/preview-image/preview-image.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/preview-image/preview-image\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/preview-image/preview-image\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1\">\r\n  <!-- #endif -->\r\n    <view style=\"padding-left: 8px; padding-right: 8px\">\r\n      <view>\r\n        <text class=\"text-desc\">图片指示器样式</text>\r\n        <radio-group class=\"cell-ct\" style=\"background-color: white\" @change=\"onIndicatorChanged\">\r\n          <view class=\"indicator-it\" v-for=\"(item, index) in indicator\" :key=\"item.value\">\r\n            <radio :disabled=\"isWeb\" :checked=\"index == 0\" :value=\"item.value\">{{\r\n              item.name\r\n            }}</radio>\r\n          </view>\r\n        </radio-group>\r\n      </view>\r\n      <view>\r\n        <checkbox-group @change=\"onCheckboxChange\" style=\"margin-top: 16px; margin-bottom: 16px; margin-left: 8px\">\r\n          <checkbox :disabled=\"isWeb\" :checked=\"isLoop\" style=\"margin-right: 15px\">循环播放</checkbox>\r\n        </checkbox-group>\r\n      </view>\r\n      <view>\r\n        <checkbox-group @change=\"onLongPressCheckboxChange\"\r\n          style=\"margin-top: 16px; margin-bottom: 16px; margin-left: 8px\">\r\n          <checkbox :disabled=\"isWeb | isIOS\" :checked=\"isLongPress\" style=\"margin-right: 15px\">支持长按事件</checkbox>\r\n        </checkbox-group>\r\n      </view>\r\n      <view style=\"background-color: white\">\r\n        <text class=\"text-desc\">点击图片开始预览</text>\r\n        <view class=\"cell-ct\" style=\"margin: 8px;\">\r\n          <view class=\"cell cell-choose-image\" v-for=\"(image, index) in imageList\" :key=\"index\">\r\n            <text style=\"width: 100px; height: 100px;background-color: lightgray; color: red; text-align: center; line-height: 100px;font-size: 14px;\" v-if=\"image.error\"\r\n              @click=\"previewImage(index)\">图片路径非法</text>\r\n            <image style=\"width: 100px; height: 100px;background-color: white;\" mode=\"aspectFit\" :src=\"image.src\"\r\n              v-if=\"!image.error\" @click=\"previewImage(index)\"\r\n              @error=\"onImageLoadError(index,$event as ImageErrorEvent)\">\r\n            </image>\r\n          </view>\r\n          <image class=\"cell cell-choose-image\" src=\"/static/plus.png\" @click=\"chooseImage\">\r\n            <view></view>\r\n          </image>\r\n        </view>\r\n      </view>\r\n      <view style=\"margin:8px;\">\r\n        <text style=\"color: black;font-size: 18px;margin-bottom: 4px;\">注意事项:</text>\r\n        <text style=\"font-size: 17px;margin-left: 4px;color: darkgray;\">1、indicator属性仅App平台支持。</text>\r\n        <text style=\"font-size: 17px;margin-left: 4px;color: darkgray;\">2、Web平台不支持loop属性。</text>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .text-desc {\r\n    margin-top: 16px;\r\n    margin-left: 8px;\r\n    margin-bottom: 16px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .cell-ct {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    flex-direction: row;\r\n  }\r\n\r\n  .cell {\r\n    margin-left: 3px;\r\n    margin-right: 3px;\r\n    width: 100px;\r\n    height: 100px;\r\n  }\r\n\r\n  .cell-choose-image {\r\n    border-width: 1px;\r\n    border-style: solid;\r\n    border-color: lightgray;\r\n  }\r\n\r\n  .indicator-it {\r\n    margin: 8px;\r\n  }\n  .cell-pd {\n    padding: 11px 0px;\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  type Indicator = \"number\" | \"default\" | \"none\"\r\n  type ItemType = {\r\n    value : Indicator,\r\n    name : string\r\n  }\r\n\r\n  type ImageType = {\r\n    src : string,\r\n    error : boolean\r\n  }\r\n  export default {\r\n    data() {\r\n      return {\r\n        imageList: [{ src: \"https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/uni@2x.png\", error: false }, { src: \"/static/uni.png\", error: false },\n        // #ifdef APP\n        { src: \"/static/uni2.png\", error: false },\n        // #endif\n        ] as ImageType[],\r\n        indicator: [{\r\n          value: \"default\",\r\n          name: \"圆点\"\r\n        }, {\r\n          value: \"number\",\r\n          name: \"数字\"\r\n        }, {\r\n          value: \"none\",\r\n          name: \"不显示\"\r\n        }] as ItemType[],\r\n        currentIndicator: \"default\" as Indicator,\r\n        // #ifdef WEB\r\n        isWeb: true,\r\n        // #endif\r\n        // #ifndef WEB\r\n        isWeb: false,\r\n        // #endif\r\n        // #ifdef APP-IOS\r\n        isIOS: true,\r\n        // #endif\r\n        // #ifndef APP-IOS\r\n        isIOS: false,\r\n        // #endif\r\n        isLongPress: true,\r\n        isLoop: true,\r\n      }\r\n    },\r\n    methods: {\r\n      previewImage(index : number) {\r\n        let list = [] as Array<string>\r\n        this.imageList.forEach((item : ImageType) => {\r\n          list.push(item.src)\r\n        })\r\n        uni.previewImage({\r\n          urls: list,\r\n          current: index,\r\n          indicator: this.currentIndicator,\r\n          loop: this.isLoop,\r\n          // #ifdef APP-ANDROID || APP-HARMONY\r\n          longPressActions: (this.isLongPress ? ({\r\n            itemList: [\"按钮1\", \"按钮2\", \"按钮3\"],\r\n            itemColor: \"#ccc\",\r\n            success: (e : LongPressActionsSuccessResult) => {\r\n              uni.showToast({\r\n                title: \"用户选中了第\" + (e.index + 1) + \"张图片，并选中了第\" + (e.tapIndex + 1) + \"个选项\",\r\n                position: \"bottom\"\r\n              })\r\n            },\r\n            fail: (e : LongPressActionsFailResult) => {\r\n              uni.showToast({\r\n                title: \"用户关闭了action sheet\",\r\n                position: \"bottom\"\r\n              })\r\n            }\r\n          } as LongPressActionsOptions) : null)\r\n          // #endif\r\n        })\r\n      },\r\n      chooseImage() {\r\n        uni.chooseImage({\r\n          sourceType: ['album'],\r\n          count: 1,\r\n          success: (e) => {\r\n            this.imageList = this.imageList.concat({ src: e.tempFilePaths[0], error: false } as ImageType)\r\n            // this.imageList = this.imageList.concat(e.tempFilePaths)\r\n          },\r\n          fail(_) {\r\n          }\r\n        })\r\n      },\r\n      onIndicatorChanged(e : UniRadioGroupChangeEvent) {\r\n        this.currentIndicator = e.detail.value as Indicator\r\n      },\r\n      onCheckboxChange(_ : UniCheckboxGroupChangeEvent) {\r\n        this.isLoop = !this.isLoop\r\n      },\r\n      onLongPressCheckboxChange() {\r\n        this.isLongPress = !this.isLongPress\r\n      },\r\n      onImageLoadError(index : number, error : UniImageErrorEvent) {\r\n        this.imageList[index].error = true\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"closePreviewImage":{"name":"## uni.closePreviewImage(options) @closepreviewimage","description":"关闭图片预览","compatibility":"### closePreviewImage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ClosePreviewImageOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (callback: [ClosePreviewImageSuccess](#closepreviewimagesuccess-values)) => void | 否 | - | - | 接口调用成功的回调函数 |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### ClosePreviewImageSuccess 的属性值 @closepreviewimagesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | 错误信息 |\n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.previewImage.closePreviewImage)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=closePreviewImage&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=closePreviewImage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=closePreviewImage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=closePreviewImage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=closePreviewImage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=closePreviewImage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=closePreviewImage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"saveImageToPhotosAlbum":{"name":"## uni.saveImageToPhotosAlbum(options) @saveimagetophotosalbum","description":"保存图片到系统相册","compatibility":"### saveImageToPhotosAlbum 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 3.9 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SaveImageToPhotosAlbumOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.ImageURIString](/uts/data-type.md#ide-string) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 图片文件路径，可以是临时文件路径也可以是永久文件路径，不支持网络图片路径 |\n@| success | (callback: [SaveImageToPhotosAlbumSuccess](#saveimagetophotosalbumsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### SaveImageToPhotosAlbumSuccess 的属性值 @saveimagetophotosalbumsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| path | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"-\"]]}' /> | 保存到相册的图片路径 |\n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.saveImageToPhotosAlbum)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.saveImageToPhotosAlbum.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=saveImageToPhotosAlbum&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=saveImageToPhotosAlbum&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=saveImageToPhotosAlbum&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=saveImageToPhotosAlbum&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=saveImageToPhotosAlbum)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=saveImageToPhotosAlbum&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/save-image-to-photos-album/save-image-to-photos-album.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/save-image-to-photos-album/save-image-to-photos-album\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <image class=\"image\" src=\"/static/uni.png\"></image>\r\n      <button class=\"margin-top-10\" type=\"primary\" @click=\"saveImage\">将图片保存到手机相册</button>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: \"saveImageToPhotosAlbum\",\r\n        // 自动化测试\r\n        success: false\r\n      }\r\n    },\r\n    methods: {\r\n      saveImage() {\r\n        uni.saveImageToPhotosAlbum({\r\n          filePath: \"/static/uni.png\",\r\n          success: (res) => {\r\n            console.log(\"saveImageToPhotosAlbum success\", JSON.stringify(res));\r\n            uni.showToast({\r\n              position: \"center\",\r\n              icon: \"none\",\r\n              title: \"图片保存成功，请到手机相册查看\"\r\n            });\r\n            this.success = true;\r\n          },\r\n          fail: (err) => {\r\n            uni.showModal({\r\n              title: \"保存图片到相册失败\",\r\n              content: JSON.stringify(err),\r\n              showCancel: false\r\n            });\r\n            this.success = false;\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .margin-top-10 {\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .image {\r\n    width: 196px;\r\n    height: 196px;\r\n    align-self: center;\r\n  }\r\n</style>\n\n```\n:::"},"getImageInfo":{"name":"## uni.getImageInfo(options) @getimageinfo","description":"获取图片信息","compatibility":"### getImageInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.18 | 4.25 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetImageInfoOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| src | [string.ImageURIString](/uts/data-type.md#ide-string) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 图片的路径，可以是相对路径，临时文件路径，存储文件路径，网络图片路径 |\n@| success | (callback: [GetImageInfoSuccess](#getimageinfosuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### GetImageInfoSuccess 的属性值 @getimageinfosuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| width | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 图片宽度，单位px |\n| height | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 图片高度，单位px |\n| path | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 返回图片的本地路径 |\n| orientation | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.18\",\"4.25\",\"-\"]]}' /> | 返回图片的方向 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| up | - | - |\n@| down | - | - |\n@| left | - | - |\n@| right | - | - |\n@| up-mirrored | - | - |\n@| down-mirrored | - | - |\n@| left-mirrored | - | - |\n@| right-mirrored | - | - |\n| type | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.18\",\"4.25\",\"-\"]]}' /> | 返回图片的格式 |\n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.getImageInfo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.getImageInfo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getImageInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getImageInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getImageInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getImageInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getImageInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getImageInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-image-info/get-image-info.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-image-info/get-image-info\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-image-info/get-image-info\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">获取本地相对路径图片信息</text>\r\n      </view>\r\n      <image class=\"image\" :src=\"relativeImagePath\" mode=\"aspectFit\"></image>\r\n      <text class=\"margin-top-10\">{{absoluteImageInfo}}</text>\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">获取网络路径图片信息</text>\r\n      </view>\r\n      <image class=\"image\" :src=\"remoteImagePath\" mode=\"aspectFit\"></image>\r\n      <text class=\"margin-top-10\">{{remoteImageInfo}}</text>\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">获取本地绝对路径图片信息</text>\r\n      </view>\r\n      <image class=\"image\" :src=\"absoluteImagePath\" mode=\"aspectFit\"></image>\r\n      <text class=\"margin-top-10\">{{relativeImageInfo}}</text>\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @click=\"chooseImage\">拍摄照片或从相册中选择照片</button>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .image {\r\n    align-self: center;\r\n  }\r\n\r\n  .margin-top-10 {\r\n    margin-top: 10px;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: \"getImageInfo\",\r\n        relativeImagePath: \"/static/test-image/logo.png\",\r\n        relativeImageInfo: \"\",\r\n        absoluteImagePath: \"\",\r\n        absoluteImageInfo: \"\",\r\n        remoteImagePath: \"https://qiniu-web-assets.dcloud.net.cn/uni-app-x/static/img/building.jpg\",\r\n        remoteImageInfo: \"\",\r\n        // 自动化测试\r\n        imageInfoForTest: null as UTSJSONObject | null,\r\n      }\r\n    },\r\n    methods: {\r\n      chooseImage() {\r\n        uni.chooseImage({\r\n          count: 1,\r\n          success: (res) => {\r\n            this.absoluteImagePath = res.tempFilePaths[0];\r\n            uni.getImageInfo({\r\n              src: res.tempFilePaths[0],\r\n              success: (_res) => {\r\n                console.log(\"getImageInfo success\", JSON.stringify(_res));\r\n                this.relativeImageInfo = `图片宽度: ${_res.width}\\n图片高度: ${_res.height}\\n图片路径: ${_res.path}\\n图片方向: ${_res.orientation}\\n图片格式: ${_res.type}`;\r\n              },\r\n              fail: (err) => {\r\n                uni.showModal({\r\n                  title: \"获取图片信息失败\",\r\n                  content: JSON.stringify(err),\r\n                  showCancel: false\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    },\r\n    onReady() {\r\n      uni.getImageInfo({\r\n        src: this.relativeImagePath,\r\n        success: (res) => {\r\n          console.log(\"getImageInfo success\", JSON.stringify(res));\r\n          this.absoluteImageInfo = `图片宽度: ${res.width}\\n图片高度: ${res.height}\\n图片路径: ${res.path}\\n图片方向: ${res.orientation}\\n图片格式: ${res.type}`;\r\n          this.imageInfoForTest = {\r\n            \"width\": res.width,\r\n            \"height\": res.height,\r\n            \"path\": res.path.slice(res.path.indexOf('static/') + 'static/'.length),\r\n            \"orientation\": res.orientation,\r\n            \"type\": res.type\r\n          };\r\n        },\r\n        fail: (err) => {\r\n          uni.showModal({\r\n            title: \"获取图片信息失败\",\r\n            content: JSON.stringify(err),\r\n            showCancel: false\r\n          });\r\n          this.imageInfoForTest = null;\r\n        }\r\n      });\r\n      uni.getImageInfo({\r\n        src: this.remoteImagePath,\r\n        success: (res) => {\r\n          console.log(\"getImageInfo success\", JSON.stringify(res));\r\n          this.remoteImageInfo = `图片宽度: ${res.width}\\n图片高度: ${res.height}\\n图片路径: ${res.path}\\n图片方向: ${res.orientation}\\n图片格式: ${res.type}`;\r\n        },\r\n        fail: (err) => {\r\n          uni.showModal({\r\n            title: \"获取图片信息失败\",\r\n            content: JSON.stringify(err),\r\n            showCancel: false\r\n          });\r\n        }\r\n      });\r\n    }\r\n  }\r\n\n```\n\n:::"},"compressImage":{"name":"## uni.compressImage(options) @compressimage","description":"压缩图片","compatibility":"### compressImage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.18 | 4.25 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CompressImageOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| src | [string.ImageURIString](/uts/data-type.md#ide-string) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 图片路径，图片的路径，可以是相对路径、临时文件路径、存储文件路径 |\n@| quality | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 压缩质量，范围0～100，数值越小，质量越低，压缩率越高（仅对jpg有效） |\n@| rotate | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 旋转度数，范围0～360 |\n@| compressedHeight | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 压缩后图片的高度，单位为px，若不填写则默认以compressedWidth为准等比缩放 |\n@| compressedWidth | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 压缩后图片的宽度，单位为px，若不填写则默认以compressedHeight为准等比缩放。 |\n@| success | (callback: [CompressImageSuccess](#compressimagesuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| ~~height~~ | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 缩放图片的高度  **已废弃** |\n@| ~~width~~ | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 缩放图片的宽度  **已废弃** | \n\n#### CompressImageSuccess 的属性值 @compressimagesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempFilePath | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 压缩后图片的临时文件路径 |\n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.compressImage)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/image/wx.compressImage.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=compressImage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=compressImage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=compressImage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=compressImage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=compressImage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=compressImage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/compress-image/compress-image.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/compress-image/compress-image\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-padding-wrap\">\r\n        <view class=\"image-container\">\r\n          <image class=\"image\" :src=\"beforeCompressPath\" mode=\"aspectFit\"></image>\r\n          <image class=\"image\" :src=\"afterCompressPath\" mode=\"aspectFit\"></image>\r\n        </view>\r\n        <view class=\"uni-title\">\r\n          <text class=\"uni-subtitle-text\">压缩前图片信息</text>\r\n        </view>\r\n        <text>{{beforeCompressImageInfo}}</text>\r\n        <view class=\"uni-title\">\r\n          <text class=\"uni-subtitle-text\">压缩后图片信息</text>\r\n        </view>\r\n        <text>{{afterCompressImageInfo}}</text>\r\n        <view class=\"uni-btn-v\">\r\n          <button type=\"primary\" @click=\"chooseImage\">从相册中选取待压缩的图片</button>\r\n        </view>\r\n        <view class=\"uni-btn-v\">\r\n          <button type=\"primary\" @click=\"compressImage\">压缩图片</button>\r\n        </view>\r\n      </view>\r\n      <input-data defaultValue=\"80\" title=\"压缩质量，范围0～100，数值越小，质量越低，压缩率越高（仅对jpg有效）\" type=\"number\"\r\n        @confirm=\"onQualityConfirm\"></input-data>\r\n      <input-data title=\"压缩后图片的宽度，单位px\" type=\"string\" @confirm=\"onCompressedWidthConfirm\"></input-data>\r\n      <input-data title=\"压缩后图片的高度，单位px\" type=\"string\" @confirm=\"onCompressedHeightConfirm\"></input-data>\r\n      <input-data defaultValue=\"0\" title=\"旋转度数，范围0～360\" type=\"number\" @confirm=\"onRotateConfirm\"></input-data>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script>\r\n  // #ifdef APP-ANDROID\r\n  import FileInputStream from 'java.io.FileInputStream';\r\n  // #endif\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: \"compressImage\",\r\n        beforeCompressImageInfo: \"\",\r\n        afterCompressImageInfo: \"\",\r\n        beforeCompressPath: \"\",\r\n        afterCompressPath: \"\",\r\n        quality: 80,\r\n        compressedWidth: null as number | null,\r\n        compressedHeight: null as number | null,\r\n        rotate: 0,\r\n        // 自动化测试\r\n        imageInfoForTest: null as UTSJSONObject | null,\r\n        imageSrcForTest: '/static/test-image/logo.png'\r\n      }\r\n    },\r\n    methods: {\r\n      compressImage() {\r\n        if (this.beforeCompressPath == \"\") {\r\n          uni.showToast({\r\n            title: \"请先选择图片\",\r\n            icon: \"error\"\r\n          });\r\n          return;\r\n        }\r\n        uni.showLoading({\r\n          title: \"图片压缩中\"\r\n        });\r\n        uni.compressImage({\r\n          src: this.beforeCompressPath,\r\n          quality: this.quality,\r\n          compressedWidth: this.compressedWidth,\r\n          compressedHeight: this.compressedHeight,\r\n          rotate: this.rotate,\r\n          success: (res) => {\r\n            console.log(\"compressImage success\", JSON.stringify(res));\r\n            this.afterCompressPath = res.tempFilePath;\r\n            uni.showToast({\r\n              title: \"压缩成功\",\r\n              icon: null\r\n            });\r\n            uni.getImageInfo({\r\n              src: res.tempFilePath,\r\n              success: (_res) => {\r\n                this.afterCompressImageInfo = `图片宽度: ${_res.width}\\n图片高度: ${_res.height}\\n`;\r\n                // #ifdef APP-ANDROID\r\n                const size = new FileInputStream(res.tempFilePath.substring(\"file://\".length)).available() / 1024;\r\n                this.afterCompressImageInfo = this.afterCompressImageInfo.concat(`图片大小: ${size}KB`);\r\n                // #endif\r\n                // #ifdef APP-HARMONY\r\n                const fsm = uni.getFileSystemManager()\r\n                fsm.getFileInfo({\r\n                  filePath: res.tempFilePath,\r\n                  digestAlgorithm: null,\r\n                  success: (res) => {\r\n                    this.afterCompressImageInfo = this.afterCompressImageInfo.concat(`图片大小: ${res.size}KB`);\r\n                  }\r\n                })\r\n                // #endif\r\n              }\r\n            });\r\n          },\r\n          fail: (err) => {\r\n            uni.showModal({\r\n              title: \"压缩图片失败\",\r\n              content: JSON.stringify(err),\r\n              showCancel: false\r\n            });\r\n          },\r\n          complete: (_) => {\r\n            uni.hideLoading();\r\n          }\r\n        });\r\n      },\r\n      chooseImage() {\r\n        uni.chooseImage({\r\n          count: 1,\r\n          sizeType: [\"original\"],\r\n          sourceType: [\"album\"],\r\n          success: (res) => {\r\n            this.beforeCompressPath = res.tempFilePaths[0];\r\n            uni.getImageInfo({\r\n              src: res.tempFilePaths[0],\r\n              success: (_res) => {\r\n                this.beforeCompressImageInfo = `图片宽度: ${_res.width}\\n图片高度: ${_res.height}\\n`;\r\n                // #ifdef APP-ANDROID\r\n                const size = new FileInputStream(res.tempFilePaths[0].substring(\"file://\".length)).available() / 1024;\r\n                this.beforeCompressImageInfo = this.beforeCompressImageInfo.concat(`图片大小: ${size}KB`);\r\n                // #endif\r\n                // #ifdef APP-HARMONY\r\n                const fsm = uni.getFileSystemManager()\r\n                fsm.getFileInfo({\r\n                  filePath: res.tempFilePaths[0],\r\n                  digestAlgorithm: null,\r\n                  success: (res) => {\r\n                    this.beforeCompressImageInfo = this.beforeCompressImageInfo.concat(`图片大小: ${res.size}KB`);\r\n                  },\r\n                  fail: (err) => {\r\n                    console.log(err);\r\n                  }\r\n                })\r\n                // #endif\r\n              }\r\n            });\r\n          }\r\n        });\r\n      },\r\n      onQualityConfirm(value : number) {\r\n        this.quality = value;\r\n      },\r\n      onCompressedWidthConfirm(value : string) {\r\n        this.compressedWidth = parseInt(value);\r\n      },\r\n      onCompressedHeightConfirm(value : string) {\r\n        this.compressedHeight = parseInt(value);\r\n      },\r\n      onRotateConfirm(value : number) {\r\n        this.rotate = value;\r\n      },\r\n      testCompressImage() {\r\n        uni.compressImage({\r\n          src: this.imageSrcForTest,\r\n          quality: 50,\r\n          compressedWidth: 100,\r\n          compressedHeight: 100,\r\n          success: (res) => {\r\n            uni.getImageInfo({\r\n              src: res.tempFilePath,\r\n              success: (_res) => {\r\n                // #ifdef APP-ANDROID\r\n                let beforeCompressSize : number, afterComoressSize : number;\r\n                beforeCompressSize = new FileInputStream(UTSAndroid.convert2AbsFullPath(this.imageSrcForTest)).available();\r\n                afterComoressSize = new FileInputStream(res.tempFilePath.substring(\"file://\".length)).available();\r\n                this.imageInfoForTest = {\r\n                  \"width\": _res.width,\r\n                  \"height\": _res.height,\r\n                  \"isSizeReduce\": afterComoressSize < beforeCompressSize\r\n                };\r\n                // #endif\r\n                // #ifdef APP-HARMONY\r\n                const fsm = uni.getFileSystemManager()\r\n                fsm.getFileInfo({\r\n                  filePath: this.imageSrcForTest,\r\n                  digestAlgorithm: null,\r\n                  success: (imageInfo) => {\r\n                    fsm.getFileInfo({\r\n                      filePath: res.tempFilePath,\r\n                      digestAlgorithm: null,\r\n                      success: (res) => {\r\n                        this.imageInfoForTest = {\r\n                          \"width\": _res.width,\r\n                          \"height\": _res.height,\r\n                          \"isSizeReduce\": res.size < imageInfo.size\r\n                        };\r\n                      }\r\n                    })\r\n                  }\r\n                })\r\n                // #endif\r\n              }\r\n            });\r\n          },\r\n          fail: (_) => {\r\n            this.imageInfoForTest = null;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .image {\r\n    flex: 1;\r\n  }\r\n\r\n  .image-container {\r\n    flex-direction: row;\r\n  }\r\n</style>\n\n```\n:::"},"chooseVideo":{"name":"## uni.chooseVideo(options) @choosevideo","description":"拍摄视频或从手机相册中选视频，返回视频的临时文件路径。","compatibility":"### chooseVideo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.18 | 4.18 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ChooseVideoOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| pageOrientation | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.33\",\"4.33\",\"x\"]]}' /> | 屏幕方向。默认为page.json中的pageOrientation。 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| auto | - | 自动 |\n@@| portrait | - | 竖屏显示 |\n@@| landscape | - | 横屏显示 |\n@| sourceType | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | album 从相册选视频，camera 使用相机拍摄，默认为：['album', 'camera'\\] |\n@| maxDuration | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | 拍摄视频最长拍摄时间，单位秒。最长支持 60 秒 |\n@| camera | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.18\",\"4.18\",\"4.61\"]]}' /> | 摄像切换<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| front | - | 前置摄像头 |\n@@| back | - | 后置摄像头 |\n@| extension | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"x\",\"x\",\"x\"]]}' /> | 根据文件拓展名过滤，每一项都不能是空字符串。默认不过滤。 |\n@| success | (callback: [ChooseVideoSuccess](#choosevideosuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 接口调用成功，返回视频文件的临时文件路径，详见返回参数说明 |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| ~~compressed~~ | boolean | 否 | true | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.18\",\"4.18\",\"x\"]]}' /> | 是否压缩所选的视频源文件，默认值为true，需要压缩  **已废弃，仅为了向下兼容保留** |\n@| ~~albumMode~~ | string | 否 | \"custom\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"x\",\"x\"]]}' /> | 视频选择模式  **已废弃，仅为了向下兼容保留** |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| custom | - | 自定义媒体选择器 |\n@@| system | - | 系统媒体选择器 | \n\n#### ChooseVideoSuccess 的属性值 @choosevideosuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempFilePath | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 选定视频的临时文件路径 |\n| duration | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 选定视频的时间长度 |\n| size | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 选定视频的数据量大小 |\n| height | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 返回选定视频的长 |\n| width | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 返回选定视频的宽 |\n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.chooseVideo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.chooseVideo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=chooseVideo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=chooseVideo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=chooseVideo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=chooseVideo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=chooseVideo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=chooseVideo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/choose-video/choose-video.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/choose-video/choose-video\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/choose-video/choose-video\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <video class=\"video\" :src=\"src\" :controls=\"true\" :poster=\"videoCoverImage\"></video>\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">视频信息</text>\r\n      </view>\r\n      <text>{{videoInfo}}</text>\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @click=\"chooseVideo\">选取视频</button>\r\n      </view>\r\n      <enum-data title=\"视频来源\" :items=\"sourceTypeItemTypes\" @change=\"onSourceTypeChange\"></enum-data>\r\n      <!-- #ifdef APP -->\r\n      <enum-data title=\"屏幕方向\" :items=\"orientationTypeItemTypes\" @change=\"onOrientationTypeChange\"></enum-data>\r\n      <!-- #endif -->\r\n      <enum-data title=\"摄像头\" :items=\"cameraItemTypes\" @change=\"onCameraChange\"></enum-data>\r\n      <!-- #ifdef APP-ANDROID -->\r\n      <enum-data title=\"相册模式\" :items=\"albumModeTypes\" @change=\"onAlbumModeChange\"></enum-data>\r\n      <!-- #endif -->\r\n    </view>\r\n    <input-data title=\"最长拍摄时间，单位秒\" defaultValue=\"60\" type=\"number\" @confirm=\"onMaxDurationConfirm\"></input-data>\r\n    <!-- #ifdef APP -->\r\n    <view class=\"uni-padding-wrap\">\r\n      <boolean-data title=\"是否压缩（HamonyOS 不支持，推荐使用 uni.compressVideo 进行压缩）\" :defaultValue=\"true\" @change=\"onCompressedChange\"></boolean-data>\r\n    </view>\r\n    <!-- #endif -->\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .video {\r\n    align-self: center;\r\n    width: 300px;\r\n    height: 225px;\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  import { ItemType } from '@/components/enum-data/enum-data-types';\r\n  type Camera = \"back\" | \"front\"\r\n  type Source = \"album\" | \"camera\"\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: \"chooseVideo\",\r\n        src: \"\",\r\n        orientationTypeItemTypes: [{ \"value\": 0, \"name\": \"竖屏\" }, { \"value\": 1, \"name\": \"横屏\" }, { \"value\": 2, \"name\": \"自动\" }] as ItemType[],\r\n        sourceTypeItemTypes: [{ \"value\": 0, \"name\": \"从相册中选择视频\" }, { \"value\": 1, \"name\": \"拍摄视频\" }, { \"value\": 2, \"name\": \"从相册中选择视频或拍摄视频\" }] as ItemType[],\r\n        sourceTypeItems: [[\"album\"], [\"camera\"], [\"album\", \"camera\"]] as Source[][],\r\n        cameraItemTypes: [{ \"value\": 0, \"name\": \"后置摄像头\" }, { \"value\": 1, \"name\": \"前置摄像头\" }] as ItemType[],\r\n        albumModeTypes: [{ \"value\": 0, \"name\": \"自定义视频选择器\" }, { \"value\": 1, \"name\": \"系统视频选择器\" }] as ItemType[],\r\n        albumModeTypeItems: [\"custom\", \"system\"],\r\n        cameraItems: [\"back\", \"front\"] as Camera[],\r\n        sourceType: [\"album\", \"camera\"] as Source[],\r\n        orientationType: \"portrait\",\r\n        orientationTypeItems: [\"portrait\", \"landscape\", \"auto\"],\r\n        compressed: true,\r\n        maxDuration: 60,\r\n        camera: \"back\" as Camera,\r\n        videoInfo: \"\",\n        videoCoverImage: \"\",\r\n        albumMode: \"custom\"\r\n      }\r\n    },\r\n    onHide() {\r\n      console.log(\"Page Hide\");\r\n    },\r\n    methods: {\r\n      chooseVideo() {\r\n        uni.chooseVideo({\r\n          sourceType: this.sourceType,\r\n          // #ifdef APP\r\n          compressed: this.compressed,\r\n          pageOrientation: this.orientationType,\r\n          // #endif\r\n          maxDuration: this.maxDuration,\r\n          // #ifdef APP-ANDROID\r\n          albumMode: this.albumMode,\r\n          // #endif\r\n          camera: this.camera,\r\n          success: (res) => {\r\n            console.log(\"chooseVideo success\", JSON.stringify(res));\r\n            this.src = res.tempFilePath;\n            this.videoInfo = `视频长度: ${res.duration}s\\n视频大小: ${Math.ceil(res.size)}KB\\n视频宽度: ${res.width}\\n视频高度: ${res.height}\\n`;\n            // #ifdef APP-ANDROID || APP-IOS\n            uni.getVideoInfo({\n              src: res.tempFilePath,\n              success: (_res) => {\n                if(_res.thumbTempFilePath != null) {\n                this.videoCoverImage = _res.thumbTempFilePath!\n                }\n              }\n            });\n            // #endif\r\n          },\r\n          fail: (err) => {\r\n            uni.showModal({\r\n              title: \"选择视频失败\",\r\n              content: JSON.stringify(err),\r\n              showCancel: false\r\n            });\r\n          }\r\n        });\r\n      },\r\n      onOrientationTypeChange(value : number) {\r\n        this.orientationType = this.orientationTypeItems[value];\r\n      },\r\n      onSourceTypeChange(value : number) {\r\n        this.sourceType = this.sourceTypeItems[value];\r\n      },\r\n      onCompressedChange(value : boolean) {\r\n        this.compressed = value;\r\n      },\r\n      onMaxDurationConfirm(value : number) {\r\n        this.maxDuration = value;\r\n      },\r\n      onCameraChange(value : number) {\r\n        this.camera = this.cameraItems[value];\r\n      },\r\n      onAlbumModeChange(value : number) {\r\n        this.albumMode = this.albumModeTypeItems[value]\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"saveVideoToPhotosAlbum":{"name":"## uni.saveVideoToPhotosAlbum(options) @savevideotophotosalbum","description":"保存视频到系统相册","compatibility":"### saveVideoToPhotosAlbum 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.18 | 4.18 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SaveVideoToPhotosAlbumOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.VideoURIString](/uts/data-type.md#ide-string) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 视频文件路径，可以是临时文件路径也可以是永久文件路径 |\n@| success | (callback: SaveVideoToPhotosAlbumSuccess) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.18\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.saveVideoToPhotosAlbum)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.saveVideoToPhotosAlbum.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=saveVideoToPhotosAlbum&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=saveVideoToPhotosAlbum&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=saveVideoToPhotosAlbum&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=saveVideoToPhotosAlbum&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=saveVideoToPhotosAlbum)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=saveVideoToPhotosAlbum&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/save-video-to-photos-album/save-video-to-photos-album.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/save-video-to-photos-album/save-video-to-photos-album\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <video class=\"video\" :src=\"src\" :controls=\"true\"></video>\r\n      <button type=\"primary\" class=\"margin-top-10\" @click=\"saveVideo\">将视频保存到手机相册</button>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'saveVideoToPhotosAlbum',\r\n        src: '/static/test-video/10second-demo.mp4',\r\n        // 自动化测试\r\n        success: false\r\n      }\r\n    },\r\n    methods: {\r\n      saveVideo() {\r\n        uni.saveVideoToPhotosAlbum({\r\n          filePath: this.src,\r\n          success: (_) => {\r\n            console.log(\"saveVideoToPhotosAlbum success\");\r\n            uni.showToast({\r\n              position: \"center\",\r\n              icon: \"none\",\r\n              title: \"视频保存成功，请到手机相册查看\"\r\n            });\r\n            this.success = true;\r\n          },\r\n          fail: (err) => {\r\n            uni.showModal({\r\n              title: \"保存视频到相册失败\",\r\n              content: JSON.stringify(err),\r\n              showCancel: false\r\n            });\r\n            this.success = false;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .video {\r\n    align-self: center;\r\n  }\r\n\r\n  .margin-top-10 {\r\n    margin-top: 10px;\r\n  }\r\n</style>\n\n```\n:::"},"getVideoInfo":{"name":"## uni.getVideoInfo(options) @getvideoinfo","description":"获取视频详细信息","compatibility":"### getVideoInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.18 | 4.25 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetVideoInfoOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| src | [string.VideoURIString](/uts/data-type.md#ide-string) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 视频文件路径，可以是临时文件路径也可以是永久文件路径 |\n@| success | (callback: [GetVideoInfoSuccess](#getvideoinfosuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### GetVideoInfoSuccess 的属性值 @getvideoinfosuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| orientation | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 画面方向 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| up | - | - |\n@| down | - | - |\n@| left | - | - |\n@| right | - | - |\n@| up-mirrored | - | - |\n@| down-mirrored | - | - |\n@| left-mirrored | - | - |\n@| right-mirrored | - | - |\n| type | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.18\",\"4.25\",\"4.61\"]]}' /> | 视频格式 |\n| duration | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 视频长度 |\n| size | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 视频大小，单位 kB |\n| height | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 视频的长，单位 px |\n| width | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 视频的宽，单位 px |\n| fps | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.18\",\"4.25\",\"x\"]]}' /> | 视频帧率 |\n| bitrate | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.18\",\"4.25\",\"x\"]]}' /> | 视频码率，单位 kbps |\n| thumbTempFilePath | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.61\",\"4.61\",\"x\"]]}' /> | 视频缩略图临时文件路径 |\n| byteSize | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.61\",\"4.61\",\"x\"]]}' /> | 视频文件的字节大小 |\n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.getVideoInfo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.getVideoInfo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getVideoInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getVideoInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getVideoInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getVideoInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getVideoInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getVideoInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-video-info/get-video-info.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-video-info/get-video-info\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-video-info/get-video-info\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">获取本地绝对路径视频信息</text>\r\n      </view>\r\n      <video class=\"video\" :src=\"absoluteVideoPath\" :controls=\"true\" :poster=\"absoluteCoverImagePath\"></video>\r\n      <text class=\"margin-top-10\">{{absoluteVideoInfo}}</text>\r\n      <view class=\"uni-btn-v\">\r\n        <button type=\"primary\" @click=\"chooseVideo\">拍摄视频或从相册中选择视频</button>\r\n      </view>\r\n    </view>\n    <!-- #ifndef MP -->\r\n    <view class=\"uni-padding-wrap\">\r\n      <view class=\"uni-title\">\r\n        <text class=\"uni-subtitle-text\">获取本地相对路径视频信息</text>\r\n      </view>\r\n      <video class=\"video\" :src=\"relativeVideoPath\" :controls=\"true\" :poster=\"relativeCoverImagePath\"></video>\r\n      <text class=\"margin-top-10\">{{relativeVideoInfo}}</text>\r\n    </view>\n    <!-- #endif -->\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .video {\n    width: 100%;\r\n  }\r\n\r\n  .margin-top-10 {\r\n    margin-top: 10px;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: \"getVideoInfo\",\r\n        relativeVideoPath: \"/static/test-video/10second-demo.mp4\",\r\n        relativeVideoInfo: \"\",\n        relativeCoverImagePath: \"\",\r\n        absoluteVideoPath: \"\",\r\n        absoluteVideoInfo: \"\",\n        absoluteCoverImagePath: \"\",\r\n        // 自动化测试\r\n        videoInfoForTest: null as UTSJSONObject | null\r\n      }\r\n    },\r\n    onReady() {\n      // #ifndef MP\r\n      uni.getVideoInfo({\r\n        src: this.relativeVideoPath,\r\n        success: (res) => {\r\n          console.log(\"getVideoInfo success\", JSON.stringify(res));\n          this.relativeVideoInfo = `视频画面方向: ${res.orientation}\\n视频格式: ${res.type}\\n视频长度: ${res.duration}s\\n视频大小: ${res.size}KB\\n视频宽度: ${res.width}\\n视频高度: ${res.height}\\n视频帧率: ${res.fps}fps\\n视频码率: ${res.bitrate}kbps`;\n          // #ifdef APP-ANDROID || APP-IOS\n          this.relativeVideoInfo = this.relativeVideoInfo + `\\n视频字节大小: ${res.byteSize}B\\n视频首帧图片路径: ${res.thumbTempFilePath}`\n          if(res.thumbTempFilePath != null) {\n          this.relativeCoverImagePath = res.thumbTempFilePath!;\n          }\n          // #endif\r\n\r\n        },\r\n        fail: (err) => {\r\n          uni.showModal({\r\n            title: \"获取视频信息失败\",\r\n            content: JSON.stringify(err),\r\n            showCancel: false\r\n          });\r\n        }\r\n      });\n      // #endif\r\n    },\r\n    methods: {\r\n      chooseVideo() {\r\n        uni.chooseVideo({\r\n          compressed: false,\r\n          success: (res) => {\r\n            this.absoluteVideoPath = res.tempFilePath;\r\n            uni.getVideoInfo({\r\n              src: res.tempFilePath,\r\n              success: (_res) => {\r\n                console.log(\"getVideoInfo success\", JSON.stringify(_res));\r\n                this.absoluteVideoInfo = `视频画面方向: ${_res.orientation}\\n视频格式: ${_res.type}\\n视频长度: ${_res.duration}s\\n视频大小: ${_res.size}KB\\n视频宽度: ${_res.width}\\n视频高度: ${_res.height}\\n视频帧率: ${_res.fps}fps\\n视频码率: ${_res.bitrate}kbps`;\n                // #ifdef APP-ANDROID || APP-IOS\n                this.absoluteVideoInfo = this.absoluteVideoInfo + `\\n视频字节大小: ${_res.byteSize}B\\n视频首帧图片路径: ${_res.thumbTempFilePath}`\n                if(_res.thumbTempFilePath != null) {\n                this.absoluteCoverImagePath = _res.thumbTempFilePath!\n                }\n                // #endif\r\n              },\r\n              fail: (err) => {\r\n                uni.showModal({\r\n                  title: \"获取视频信息失败\",\r\n                  content: JSON.stringify(err),\r\n                  showCancel: false\r\n                });\r\n              }\r\n            });\r\n          }\r\n        });\r\n      },\r\n      testGetVideoInfo() {\r\n        uni.getVideoInfo({\r\n          src: '/static/test-video/10second-demo.mp4',\r\n          success: (res) => {\r\n            this.videoInfoForTest = {\r\n              \"orientation\": res.orientation,\r\n              \"type\": res.type,\r\n              \"duration\": Math.trunc(res.duration),\r\n              \"size\": res.size,\r\n              \"width\": res.width,\r\n              \"height\": res.height,\r\n              \"fps\": res.fps,\r\n              \"bitrate\": res.bitrate\r\n            };\r\n          },\r\n          fail: (_) => {\r\n            this.videoInfoForTest = null;\r\n          }\r\n        });\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"compressVideo":{"name":"## uni.compressVideo(options) @compressvideo","description":"压缩视频","compatibility":"### compressVideo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.18 | 4.25 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CompressVideoOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| src | [string.VideoURIString](/uts/data-type.md#ide-string) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 视频文件路径，可以是临时文件路径也可以是永久文件路径 |\n@| quality | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 压缩质量<br/> |\n@| bitrate | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"x\",\"4.25\",\"-\"]]}' /> | 码率，单位 kbps |\n@| fps | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"x\",\"4.25\",\"-\"]]}' /> | 帧率 |\n@| resolution | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 相对于原视频的分辨率比例，取值范围(0, 1\\] |\n@| success | (callback: [CompressVideoSuccess](#compressvideosuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (callback: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### CompressVideoSuccess 的属性值 @compressvideosuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempFilePath | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 压缩后的临时文件地址 |\n| size | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.18\",\"4.25\",\"-\"]]}' /> | 压缩后的大小，单位 kB |\n| byteSize | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.61\",\"4.61\",\"x\"]]}' /> | 视频文件的字节大小 |\n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.compressVideo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.compressVideo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=compressVideo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=compressVideo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=compressVideo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=compressVideo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=compressVideo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=compressVideo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/compress-video/compress-video.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/compress-video/compress-video\n```uvue\n<template>\n  <!-- #ifdef APP -->\n  <scroll-view style=\"flex:1\">\n  <!-- #endif -->\n    <page-head :title=\"title\"></page-head>\n    <view>\n      <view class=\"uni-padding-wrap\">\n        <video class=\"video\" :src=\"beforeCompressPath\" :controls=\"true\" :poster=\"beforeCoverImagePath\"></video>\n        <view class=\"uni-title\">\n          <text class=\"uni-subtitle-text\">压缩前视频信息</text>\n        </view>\n        <text>{{beforeCompressVideoInfo}}</text>\n        <video class=\"video\" :src=\"afterCompressPath\" :controls=\"true\" :poster=\"afterCoverImagePath\"></video>\n        <view class=\"uni-title\">\n          <text class=\"uni-subtitle-text\">压缩后视频信息</text>\n        </view>\n        <text>{{afterCompressVideoInfo}}</text>\n        <view class=\"uni-btn-v\">\n          <button type=\"primary\" @click=\"chooseVideo\">从相册中选取待压缩的视频</button>\n        </view>\n        <view class=\"uni-btn-v\">\n          <button type=\"primary\" @click=\"compressVideo\">压缩视频</button>\n        </view>\n        <enum-data title=\"压缩质量\" :items=\"qualityItemTypes\" @change=\"onQualityChange\"></enum-data>\n        <view class=\"uni-common-mt\">\n          <text class=\"uni-title uni-title-text\">相对于原视频的分辨率比例，取值范围(0, 1]</text>\n          <slider :min=\"0.1\" :max=\"1\" :step=\"0.1\" :show-value=\"true\" @change=\"onResolutionChange\"></slider>\n        </view>\n      </view>\n    </view>\n  <!-- #ifdef APP -->\n  </scroll-view>\n  <!-- #endif -->\n</template>\n\n<script>\n  import { ItemType } from '@/components/enum-data/enum-data-types';\n  type VideoInfoForTest = {\n    width: number;\n    height: number;\n    isSizeReduce: boolean;\n  }\n  export default {\n    data() {\n      return {\n        title: \"compressVideo\",\n        beforeCompressVideoInfo: \"\",\n        afterCompressVideoInfo: \"\",\n        beforeCompressPath: \"\",\n        afterCompressPath: \"\",\n        beforeCoverImagePath: \"\",\n        afterCoverImagePath: \"\",\n        quality: null as string | null,\n        bitrate: null as number | null,\n        fps: null as number | null,\n        resolution: null as number | null,\n        qualityItemTypes: [{ \"value\": 0, \"name\": \"low(低)\" }, { \"value\": 1, \"name\": \"medium(中)\" }, { \"value\": 2, \"name\": \"high(高)\" }] as ItemType[],\n        qualityItems: [\"low\", \"medium\", \"high\"],\n        // 自动化测试\n        videoInfoForTest: null as VideoInfoForTest | null,\n        videoSrcForTest: '/static/test-video/10second-demo.mp4',\n        videoSrcForTestWidth: 0,\n        videoSrcForTestHeight: 0\n      }\n    },\n    methods: {\n      compressVideo() {\n        if (this.beforeCompressPath == \"\") {\n          uni.showToast({\n            title: \"请先选择视频\",\n            icon: \"error\"\n          });\n          return;\n        }\n        uni.showLoading({\n          title: \"视频压缩中\"\n        });\n        uni.compressVideo({\n          src: this.beforeCompressPath,\n          quality: this.quality,\n          resolution: this.resolution,\n          success: (res) => {\n            console.log(\"compressVideo success\", JSON.stringify(res));\n            this.afterCompressPath = res.tempFilePath;\n            uni.showToast({\n              title: \"压缩成功\",\n              icon: null\n            });\n            uni.getVideoInfo({\n              src: res.tempFilePath,\n              success: (_res) => {\n                this.afterCompressVideoInfo = `视频画面方向: ${_res.orientation}\\n视频格式: ${_res.type}\\n视频长度: ${_res.duration}s\\n视频大小: ${_res.size}KB\\n视频宽度: ${_res.width}\\n视频高度: ${_res.height}\\n视频帧率: ${_res.fps}fps\\n视频码率: ${_res.bitrate}kbps`;\n                // #ifdef APP-ANDROID || APP-IOS\n                this.afterCompressVideoInfo = this.afterCompressVideoInfo + `\\n视频字节大小: ${_res.byteSize}B\\n视频首帧图片路径: ${_res.thumbTempFilePath}`\n                if(_res.thumbTempFilePath != null) {\n                this.afterCoverImagePath = _res.thumbTempFilePath!\n                }\n                // #endif\n              }\n            });\n          },\n          fail: (err) => {\n            uni.showModal({\n              title: \"压缩视频失败\",\n              content: JSON.stringify(err),\n              showCancel: false\n            });\n          },\n          complete: (_) => {\n            uni.hideLoading();\n          }\n        });\n      },\n      chooseVideo() {\n        uni.chooseVideo({\n          sourceType: [\"album\"],\n          compressed: false,\n          success: (res) => {\n            this.beforeCompressPath = res.tempFilePath;\n            uni.getVideoInfo({\n              src: res.tempFilePath,\n              success: (_res) => {\n                this.beforeCompressVideoInfo = `视频画面方向: ${_res.orientation}\\n视频格式: ${_res.type}\\n视频长度: ${_res.duration}s\\n视频大小: ${_res.size}KB\\n视频宽度: ${_res.width}\\n视频高度: ${_res.height}\\n视频帧率: ${_res.fps}fps\\n视频码率: ${_res.bitrate}kbps`;\n                // #ifdef APP-ANDROID || APP-IOS\n                this.beforeCompressVideoInfo = this.beforeCompressVideoInfo + `\\n视频字节大小: ${_res.byteSize}B\\n视频首帧图片路径: ${_res.thumbTempFilePath}`\n                if(_res.thumbTempFilePath != null) {\n                this.beforeCoverImagePath = _res.thumbTempFilePath!\n                }\n                // #endif\n              }\n            });\n          }\n        });\n      },\n      onQualityChange(value : number) {\n        this.quality = this.qualityItems[value];\n      },\n      onResolutionChange(event : UniSliderChangeEvent) {\n        this.resolution = event.detail.value;\n      },\n      testCompressVideo() {\n        let beforeCompressSize : number, afterComoressSize : number;\n        uni.compressVideo({\n          src: this.videoSrcForTest,\n          quality: 'medium',\n          success: (res) => {\n            uni.getVideoInfo({\n              src: this.videoSrcForTest,\n              success: (_res) => {\n                beforeCompressSize = Math.trunc(_res.size);\n                this.videoSrcForTestWidth = _res.width\n                this.videoSrcForTestHeight = _res.height\n                uni.getVideoInfo({\n                  src: res.tempFilePath,\n                  success: (__res) => {\n                    afterComoressSize = Math.trunc(__res.size);\n                    this.videoInfoForTest = {\n                      \"width\": __res.width,\n                      \"height\": __res.height,\n                      \"isSizeReduce\": afterComoressSize < beforeCompressSize\n                    } as VideoInfoForTest;\n                  },\n                  fail(err) {\n                    console.log('>>>>>> 压缩失败', err.errMsg)\n                  }\n                });\n              }\n            });\n          },\n          fail: (_) => {\n            this.videoInfoForTest = null;\n          }\n        });\n      }\n    }\n  }\n</script>\n\n<style>\n  .video {\n    align-self: center;\n  }\n\n  .image-container {\n    flex-direction: row;\n  }\n</style>\n\n```\n:::"},"chooseMedia":{"name":"## uni.chooseMedia(options) @choosemedia","description":"拍摄或从手机相册中选择图片或视频。\r\n","compatibility":"### chooseMedia 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.51 | 4.51 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ChooseMediaOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| pageOrientation | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.51\",\"x\",\"4.61\"]]}' /> | 屏幕方向。默认为page.json中的pageOrientation。 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| auto | - | 自动 |\n@@| portrait | - | 竖屏显示 |\n@@| landscape | - | 横屏显示 |\n@| count | number | 否 | 9 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 最多可以选择的文件个数 |\n@| mediaType | Array&lt;string&gt; | 否 | ['image', 'video'\\] | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | album 从相册选视频，camera 使用相机拍摄，合法值：'image'、'video'、'mix' |\n@| sourceType | Array&lt;string&gt; | 否 | ['album', 'camera'\\] | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | album 从相册选视频，camera 使用相机拍摄 |\n@| maxDuration | number | 否 | 10 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 拍摄视频最长拍摄时间，单位秒。时间范围为 3s 至 30s 之间 |\n@| camera | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 仅在 sourceType 为 camera 时生效，使用前置或后置摄像头<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| front | - | 前置摄像头 |\n@@| back | - | 后置摄像头 |\n@| success | (callback: [ChooseMediaSuccess](#choosemediasuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功，返回视频文件的临时文件路径，详见返回参数说明 |\n@| fail | (callback: [IChooseMediaError](#ichoosemediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (callback: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| sizeType | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否压缩所选文件，基础库2.25.0前仅对 mediaType 为 image 时有效，2.25.0及以后对全量 mediaType 有效<br/> | \n\n#### ChooseMediaSuccess 的属性值 @choosemediasuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempFiles | Array&lt;**ChooseMediaTempFile**&gt; | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| tempFilePath | string | 是 | - | - | 选定视频的临时文件路径 |\n@| fileType | string | 是 | - | - | 文件类型 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| image | - | - |\n@@| video | - | - |\n@| size | number | 是 | - | - | 选定视频的数据量大小 |\n@| byteSize | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.61\",\"4.61\",\"4.61\"]]}' /> | 视频文件的字节大小 |\n@| duration | number | 否 | - | - | 选定视频的时间长度 |\n@| height | number | 否 | - | - | 返回选定视频的长 |\n@| width | number | 否 | - | - | 返回选定视频的宽 |\n@| thumbTempFilePath | string | 否 | - | - | 视频缩略图临时文件路径 |\n| type | string | 是 | - | - | - |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| image | - | - |\n@| video | - | - |\n@| mix | - | - |\n\n#### IChooseMediaError 的属性值 @ichoosemediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101008 | - | 拍照或录像失败 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.chooseMedia)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.chooseMedia.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/media/video.html#choosemedia)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=chooseMedia&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=chooseMedia&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=chooseMedia&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=chooseMedia&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=chooseMedia)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=chooseMedia&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/choose-media/choose-media.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/choose-media/choose-media\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-common-mt\">\r\n        <view class=\"uni-list\">\r\n\r\n          <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-list-cell-left uni-label\">\r\n              来源\r\n            </view>\r\n            <view class=\"uni-list-cell-right\" @click=\"chooseMediaSource\">\r\n              <text class=\"click-t\">{{sourceTypes[sourceTypeIndex].title}}</text>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-list-cell-left uni-label\">\r\n              方式\r\n            </view>\r\n            <view class=\"uni-list-cell-right\" @click=\"chooseMediaType\">\r\n              <text class=\"click-t\">{{(mediaTypes[mediaTypeIndex] as ChooseSource).title}}</text>\r\n            </view>\r\n          </view>\r\n\r\n          <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-list-cell-left uni-label\">\r\n              数量限制\r\n            </view>\r\n            <view class=\"uni-list-cell-right\">\r\n              <input class=\"click-t\" ref=\"refCountInput\" :value=\"count\" type=\"number\" :maxlength=\"1\" @blur=\"chooseMediaCount\"/>\r\n            </view>\r\n          </view>\r\n\r\n          <!-- #ifdef APP-ANDROID -->\r\n          <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-list-cell-left uni-label\">\r\n              屏幕方向\r\n            </view>\r\n            <view class=\"uni-list-cell-right\" @click=\"chooseOrientationType\">\r\n              <text class=\"click-t\">{{orientationTypes[orientationTypeIndex].title}}</text>\r\n            </view>\r\n          </view>\r\n          <!-- #endif -->\r\n\r\n          <view class=\"uni-list-cell cell-pd\">\r\n            <view class=\"uni-list-cell-left uni-label\">\r\n              摄像头\r\n            </view>\r\n            <view class=\"uni-list-cell-right\" @click=\"chooseCameraType\">\r\n              <text class=\"click-t\">{{cameraTypes[cameraTypeIndex].title}}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <!-- #ifdef APP-IOS -->\r\n        <input-data title=\"最长拍摄时间，单位秒\" defaultValue=\"10\" type=\"number\" @confirm=\"onMaxDurationConfirm\"></input-data>\r\n        <!-- #endif -->\r\n        <view class=\"uni-list list-pd\" style=\"padding: 15px;\">\r\n          <view class=\"uni-flex\" style=\"margin-bottom: 10px;\">\r\n            <view class=\"uni-list-cell-left\">点击预览</view>\r\n            <view style=\"margin-left: auto;\">\r\n              <text class=\"click-t\">{{mediaList.length}}/{{count}}</text>\r\n            </view>\r\n          </view>\r\n          <view class=\"uni-flex\" style=\"flex-wrap: wrap;\">\r\n            <view v-for=\"(file,index) in mediaList\" :key=\"index\" class=\"uni-uploader__input-box\" style=\"border: 0;\">\r\n              <image style=\"width: 104px; height: 104px;\" :src=\"file.imagePath\" :data-src=\"file.imagePath\" @tap=\"previewMedia(index)\">\r\n              </image>\r\n              <image src=\"/static/plus.png\" class=\"image-remove\" @click=\"removeMedia(index)\"></image>\r\n            </view>\r\n            <image class=\"uni-uploader__input-box\" @tap=\"chooseMedia\" src=\"/static/plus.png\"></image>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script>\r\n  type FileSource = {\r\n    imagePath : string;\r\n    filePath : string;\r\n    fileType : string;\r\n  };\r\n  type ChooseSource = {\r\n    value : string[];\r\n    title : string;\r\n  };\r\n  const sourceTypeList : ChooseSource[] = [\r\n    {\r\n      value: ['camera'],\r\n      title: '拍摄',\r\n    },\r\n    {\r\n      value: ['album'],\r\n      title: '相册',\r\n    },\r\n    {\r\n      value: ['camera', 'album'],\r\n      title: '拍摄或相册',\r\n    }\r\n  ];\r\n\r\n  const mediaTypeList : ChooseSource[] = [\r\n    {\r\n      value: ['image'],\r\n      title: '仅图片',\r\n    },\r\n    {\r\n      value: ['video'],\r\n      title: '仅视频',\r\n    },\r\n    {\r\n      value: ['image', 'video'],\r\n      title: '不限制',\r\n    }\r\n  ];\r\n\r\n  const orientationTypeList : ChooseSource[] = [\r\n    {\r\n      value: ['portrait'],\r\n      title: '竖屏',\r\n    },\r\n    {\r\n      value: ['landscape'],\r\n      title: '横屏',\r\n    },\r\n    {\r\n      value: ['auto'],\r\n      title: '自动',\r\n    }\r\n  ];\r\n  const cameraTypeList : ChooseSource[] = [\r\n    {\r\n      value: ['front'],\r\n      title: '前置摄像头',\r\n    },\r\n    {\r\n      value: ['back'],\r\n      title: '后置摄像头',\r\n    }\r\n  ];\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'chooseMedia',\r\n        mediaList: [] as Array<FileSource>,\r\n        sourceTypeIndex: 2,\r\n        mediaTypeIndex: 2,\r\n        cameraTypeIndex: 1,\r\n        orientationTypeIndex: 0,\r\n        albumModeTypeIndex: 0,\r\n        count: 9,\r\n        maxDuration: 10,\r\n        sourceTypes: sourceTypeList as ChooseSource[],\r\n        mediaTypes: mediaTypeList as ChooseSource[],\r\n        cameraTypes: cameraTypeList as ChooseSource[],\r\n        orientationTypes: orientationTypeList as ChooseSource[]\r\n      }\r\n    },\r\n    methods: {\r\n      chooseMediaSource() {\r\n        uni.showActionSheet({\r\n          itemList: ['拍摄', '相册', '拍摄或相册'],\r\n          success: (e) => {\r\n            this.sourceTypeIndex = e.tapIndex\r\n          }\r\n        })\r\n      },\r\n      chooseMediaType() {\r\n        uni.showActionSheet({\r\n          itemList: ['仅图片', '仅视频', '不限制'],\r\n          success: (e) => {\r\n            this.mediaTypeIndex = e.tapIndex\r\n          }\r\n        })\r\n      },\r\n      chooseMediaCount(event : UniInputBlurEvent) {\r\n        let count = parseInt(event.detail.value)\r\n        if (count < 1 || count > 9 || Number.isNaN(count)) {\r\n          uni.showToast({\r\n            position: \"bottom\",\r\n            title: \"图片数量应该不小于1不大于9\"\r\n          })\r\n          return\r\n        }\r\n        this.count = count\r\n      },\r\n      chooseOrientationType() {\r\n        uni.showActionSheet({\r\n          itemList: ['竖屏', '横屏', '自动'],\r\n          success: (e) => {\r\n            this.orientationTypeIndex = e.tapIndex\r\n          }\r\n        })\r\n      },\r\n      chooseCameraType() {\r\n        uni.showActionSheet({\r\n          itemList: ['前置', '后置'],\r\n          success: (e) => {\r\n            this.cameraTypeIndex = e.tapIndex\r\n          }\r\n        })\r\n      },\r\n      onMaxDurationConfirm(value : number) {\r\n        this.maxDuration = value;\r\n      },\r\n      chooseMedia() {\r\n        if (this.mediaList.length >= this.count) {\r\n          const message = \"已经有\" + this.count + \"个了，请删除部分后重新选择\";\r\n          uni.showToast({\r\n            position: \"bottom\",\r\n            title: message\r\n          })\r\n          return\r\n        }\r\n\r\n        uni.chooseMedia({\r\n          count: this.count - this.mediaList.length,\r\n          sourceType: sourceTypeList[this.sourceTypeIndex].value,\r\n          mediaType: mediaTypeList[this.mediaTypeIndex].value,\r\n          camera: cameraTypeList[this.cameraTypeIndex].value[0],\r\n          // #ifdef APP-IOS\r\n          maxDuration: this.maxDuration,\r\n          // #endif\r\n          // #ifdef APP-ANDROID\r\n          pageOrientation: orientationTypeList[this.orientationTypeIndex].value[0],\r\n          // #endif\r\n          success: (res) => {\r\n            const tempFiles : ChooseMediaTempFile[] = res.tempFiles as ChooseMediaTempFile[];\r\n            for (let i = 0; i < tempFiles.length; i++) {\r\n              const tempFile : ChooseMediaTempFile = tempFiles[i]\r\n              const imagePath = tempFile.fileType == \"image\" ? tempFile.tempFilePath : tempFile.thumbTempFilePath;\r\n              const file : FileSource = { imagePath: imagePath!, filePath: tempFile.tempFilePath, fileType: tempFile.fileType };\r\n              this.mediaList.push(file);\r\n            }\r\n          },\r\n          fail: (err) => {\r\n            console.log(\"err: \", JSON.stringify(err));\n            uni.showToast({\n              title:\"choose media error.code:\" + err.errCode+\";message:\"+err.errMsg,\n              position:\"bottom\"\n            })\r\n          }\r\n        })\r\n      },\r\n      previewMedia: function (index : number) {\r\n        const file : FileSource = this.mediaList[index];\r\n        if (file.fileType == \"image\") {\r\n          uni.previewImage({\r\n            current: 0,\r\n            urls: [file.filePath]\r\n          })\r\n        } else {\r\n          uni.$once(\"__ONFULLVIDEOLOAD\", () => {\r\n            uni.$emit(\"__ONRECEIVEURL\", {\r\n              \"url\": file.filePath,\r\n              \"cover\": file.imagePath\r\n            })\r\n          })\r\n          const url = \"/pages/API/choose-media/fullscreen-video\";\r\n          uni.navigateTo({\r\n            url: url,\r\n          })\r\n        }\r\n\r\n      },\r\n      removeMedia(index : number) {\r\n        this.mediaList.splice(index, 1)\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .cell-pd {\r\n    padding: 11px 15px;\r\n  }\r\n\r\n  .click-t {\r\n    color: darkgray;\r\n  }\r\n\r\n  .list-pd {\r\n    margin-top: 25px;\r\n  }\r\n\r\n  .uni-uploader__input-box {\r\n    margin: 5px;\r\n    width: 104px;\r\n    height: 104px;\r\n    border: 1px solid #D9D9D9;\r\n  }\r\n\r\n  .uni-uploader__input {\r\n    position: absolute;\r\n    z-index: 1;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    opacity: 0;\r\n  }\r\n\r\n  .image-remove {\r\n    transform: rotate(45deg);\r\n    width: 25px;\r\n    height: 25px;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    border-radius: 13px;\r\n    background-color: rgba(200, 200, 200, 0.8);\r\n  }\r\n\r\n  .item_width {\r\n    width: 130px;\r\n  }\r\n</style>\r\n\n```\n:::"},"chooseFile":{"name":"## uni.chooseFile(options) @choosefile","description":"从本地选择文件\r\n","compatibility":"### chooseFile 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.51 | 4.61 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ChooseFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| count | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 最多可以选择的文件数，默认100,注意Android中count只会决定是否是单选/多选，如果count>1 是多选效果，等于1为单选效果, |\n@| type | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 选择文件的类型，默认all，可选<br/>- image: 选择图片文件<br/>- video: 选择视频文件<br/>- audio: 选择音频文件<br/>- all: 默认值，选择本地文件，包含图片和视频 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| image | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 图片类型 |\n@@| video | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 视频类型 |\n@@| audio | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 音频类型 |\n@@| all | - | - |\n@| extension | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"x\",\"x\"]]}' /> | 选择文件的后缀名，暂只支持.zip、.png等，不支持application/msword等值, App平台不支持 |\n@| sizeType | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"x\",\"x\"]]}' /> | original 原图，compressed 压缩图，默认二者都有, App平台不支持 |\n@| sourceType | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"x\",\"x\"]]}' /> | album 从相册选图，camera 使用相机，默认二者都有, App平台不支持 |\n@| success | (result: [ChooseFileSuccess](#choosefilesuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 成功则返回图片的本地文件路径列表 tempFilePaths、tempFiles |\n@| fail | (result: [IMediaError](#imediaerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### ChooseFileSuccess 的属性值 @choosefilesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempFilePaths | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"x\",\"4.61\",\"x\"]]}' /> | 文件的本地文件路径列表, Android平台不支持 |\n| tempFiles | Array&lt;**ChooseFileTempFile**&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 文件的本地文件列表，每一项是一个 File 对象 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| name | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 选择的文件名称 |\n@| path | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 文件路径 |\n@| size | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 文件大小，单位 B |\n@| type | string | 是 | - | - | 选择的文件类型<br/>可选值：<br/>- 'video': 选择了视频文件;<br/>- 'image': 选择了图片文件;<br/>- 'audio': 选择了音频文件;<br/>- 'file': 选择了除图片和视频的文件; |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| video | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 视频类型 |\n@@| image | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 图片类型 |\n@@| audio | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 音频类型 |\n@@| file | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.51\",\"4.61\",\"x\"]]}' /> | 除图片和音视频类型的文件 |\n\n#### IMediaError 的属性值 @imediaerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1101001 | - | 用户取消 |\n@| 1101002 | - | urls至少包含一张图片地址 |\n@| 1101003 | - | 文件不存在 |\n@| 1101004 | - | 图片加载失败 |\n@| 1101005 | - | 未获取权限 |\n@| 1101006 | - | 图片或视频保存失败 |\n@| 1101007 | - | 图片裁剪失败 |\n@| 1101008 | - | 拍照或录像失败 |\n@| 1101009 | - | 图片压缩失败 |\n@| 1101010 | - | 其他错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.chooseFile)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/media/file.html#choosefile)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=chooseFile&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=chooseFile&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=chooseFile&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=chooseFile&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=chooseFile&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=chooseFile)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=chooseFile&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/choose-file/choose-file.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/choose-file/choose-file\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/choose-file/choose-file\n\n>Template\n```vue\n<template>\n  <!-- #ifdef APP -->\n  <scroll-view style=\"flex: 1;\">\n  <!-- #endif -->\n    <view>\n      <page-head :title=\"title\"></page-head>\n      <!-- #ifdef APP-IOS -->\n      <view style=\"padding-left: 20px; padding-right: 20px;\">\n      \t\t<text style=\"color: #353535; font-size: 15px;\">\n      \t\t\tiOS 调试首先需要添加对应 audio、video、image 存储到文件系统中，步骤如下：\\n\n      \t\t\t1. 从系统相册或者语音备忘录中选择具体的video、image、audio；\\n\n      \t\t\t2. 点击 ‘分享’ 按钮；\\n\n      \t\t\t3. 下滑点击 ’存储到”文件“‘按钮；\\n\n      \t\t</text>\n      </view>\n      <!-- #endif -->\n      <button size=\"mini\" @click=\"log=''\">清空日志</button>\n      <text style=\"margin: 2px; padding: 2px; border: 1px solid #000000;\">{{ log }}</text>\n\n      <button class=\"btnstyle\" type=\"primary\" @tap=\"chooseVideo\">选择文件(video) 单选</button>\n      <button class=\"btnstyle\" type=\"primary\" @tap=\"chooseVideoMul\">选择文件(video) 多选</button>\n      <button class=\"btnstyle\" type=\"primary\" @tap=\"playVideo\">选择文件(video)并播放</button>\n      <video class=\"video\" :src=\"src\" :controls=\"true\" :autoplay=\"true\" :loop=\"true\">111</video>\n      <button class=\"btnstyle\" type=\"primary\" @tap=\"chooseImage\">选择文件(image) 单选</button>\n      <button class=\"btnstyle\" type=\"primary\" @tap=\"chooseImageMul\">选择文件(image) 多选</button>\n      <button class=\"btnstyle\" type=\"primary\" @tap=\"viewImg\">选择文件(image) 并预览</button>\n      <button class=\"btnstyle\" type=\"primary\" @tap=\"chooseAudio\">选择文件(audio) 单选</button>\n      <button class=\"btnstyle\" type=\"primary\" @tap=\"chooseAudioMul\">选择文件(audio) 多选</button>\n      <button class=\"btnstyle\" type=\"primary\" @tap=\"playAudio\">选择文件(audio) 并播放</button>\n      <button class=\"btnstyle\" type=\"primary\" @tap='chooseAll'>选择文件(all) 单选</button>\n      <button class=\"btnstyle\" type=\"primary\" @tap='chooseAllMul'>选择文件(all) 多选</button>\n\n      <view style=\"height: 4px;\"></view>\n    </view>\n  <!-- #ifdef APP -->\n  </scroll-view>\n  <!-- #endif -->\n</template>\n\n\n\n<style>\n  .btnstyle {\n    margin: 4px;\n  }\n\n  .video {\n    width: 100%;\n    height: 225px;\n  }\n\n  .uni-uploader__input-box {\n    margin: 5px;\n    width: 104px;\n    height: 104px;\n    border: 1px solid #D9D9D9;\n  }\n</style>\n\n```\n\n>Script\n```uts\n\n  export default {\n    data() {\n      return {\n        log: '',\n        title: 'choose-file',\n        src: '',\n        _audioContext: null as InnerAudioContext | null,\n      }\n    },\n    unmounted() {\n      if (this._audioContext != null) {\n        this._audioContext!.destroy()\n      }\n    },\n    methods: {\n\n      getPath(chooseFils : ChooseFileTempFile[]) : string {\n        var urls = new Array<string>()\n        chooseFils.forEach(value => {\n          urls.push(value.path)\n        })\n        return urls.join(', ')\n      },\n      chooseVideo() {\n        uni.chooseFile({\n          type: 'video',\n          count: 1,\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              this.log += this.getPath(res.tempFiles) + '\\n\\n'\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      chooseVideoMul() {\n        uni.chooseFile({\n          type: 'video',\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              this.log += this.getPath(res.tempFiles) + '\\n\\n'\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      playVideo() {\n        uni.chooseFile({\n          type: 'video',\n          count: 1,\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              this.src = res.tempFiles[0].path\n              this._audioContext?.destroy()\n              this._audioContext = null\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      chooseImage() {\n        uni.chooseFile({\n          type: 'image',\n          count: 1,\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              this.log += this.getPath(res.tempFiles) + '\\n\\n'\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      chooseImageMul() {\n        uni.chooseFile({\n          type: 'image',\n          count: 90,\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              this.log += this.getPath(res.tempFiles) + '\\n\\n'\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      viewImg() {\n        uni.chooseFile({\n          type: 'image',\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              const tempFiles: Array<string> = res.tempFiles.map((value) => {\n              \treturn value.path\n              })\n              uni.previewImage({\n                current: 0,\n                urls: tempFiles,\n                success: (res) => {\n                  console.log(res)\n                },\n                fail: (err) => {\n                  console.log(err)\n                }\n              })\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      chooseAudio() {\n        uni.chooseFile({\n          type: 'audio',\n          count: 1,\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              this.log += this.getPath(res.tempFiles) + '\\n\\n'\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      chooseAudioMul() {\n        uni.chooseFile({\n          type: 'audio',\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              this.log += this.getPath(res.tempFiles) + '\\n\\n'\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      playAudio() {\n        uni.chooseFile({\n          type: 'audio',\n          count: 1,\n          success: (res) => {\n            console.log(res);\n            if (res.tempFiles.length > 0) {\n              if (this._audioContext == null) {\n              this.src = ''\n                this._audioContext = uni.createInnerAudioContext()\n                this._audioContext!.autoplay = true\n              } else if (!this._audioContext!.paused) {\n                this._audioContext!.stop()\n              }\n              this._audioContext!.src = res.tempFiles[0].path\n            }\n          },\n          complete: (res) => {\n            console.log(res);\n          }\n        });\n\n      },\n      chooseAll() {\n        uni.chooseFile({\n          type: 'all',\n          count: 1,\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              this.log += this.getPath(res.tempFiles) + '\\n\\n'\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      },\n      chooseAllMul() {\n        uni.chooseFile({\n          type: 'all',\n          success: (res) => {\n            console.log(res)\n            if (res.tempFiles.length > 0) {\n              this.log += this.getPath(res.tempFiles) + '\\n\\n'\n            }\n          },\n          complete: (res) => {\n            console.log(res)\n          }\n        })\n      }\n    }\n  }\n\n```\n\n:::"},"createInnerAudioContext":{"name":"## uni.createInnerAudioContext() @createinneraudiocontext","description":"创建并返回 audio 上下文 audioContext 对象\n","compatibility":"### createInnerAudioContext 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [InnerAudioContext](#inneraudiocontext-values) |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| duration | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 当前音频的长度（单位：s），只有在当前有合法的 src 时返回 |\n@| currentTime | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 当前音频的播放位置（单位：s），只有在当前有合法的 src 时返回 |\n@| paused | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 当前是是否暂停或停止状态，true 表示暂停或停止，false 表示正在播放 |\n@| src | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 音频的数据链接，用于直接播放 |\n@| startTime | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 音频开始播放的位置（单位：s） |\n@| buffered | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"x\"]]}' /> | 音频缓冲的时间点，仅保证当前播放时间点到此时间点内容已缓冲 |\n@| autoplay | boolean | 是 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 是否自动开始播放，默认 false |\n@| loop | boolean | 是 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 是否循环播放，默认 false |\n@| obeyMuteSwitch | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | 是否遵循系统静音开关，当此参数为 false 时，即使用户打开了静音开关，也能继续发出声音，默认值 true |\n@| volume | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 音量。范围 0~1。 |\n@| playbackRate | number | 否 | 1.0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"x\"]]}' /> | 播放的倍率。可取值： 0.5/0.8/1.0/1.25/1.5/2.0，默认值为1.0。（仅 App 支持） |\n@| referrerPolicy | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.13.0`<br/><br/>`origin`: 发送完整的referrer; `no-referrer`: 不发送。格式固定为 `https://servicewechat.com/{appid}/{version}/page-frame.html`，其中 {appid} 为小程序的 appid，{version} 为小程序的版本号，版本号为 0 表示为开发版、体验版以及审核版本，版本号为 devtools 表示为开发者工具，其余为正式版本；<br/> |\n#### InnerAudioContext 的方法 @inneraudiocontext-values \n\n#### pause(): void; @pause\n暂停\n##### pause 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n\n\n#### stop(): void; @stop\n停止\n##### stop 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n\n\n#### play(): void; @play\n播放\n##### play 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n\n\n#### seek(position: number): void; @seek\n跳转到指定位置，单位 s\n##### seek 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| position | number | 是 | - | - | - | \n\n\n#### destroy(): void; @destroy\n销毁当前实例\n##### destroy 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | - | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n\n\n#### onCanplay(callback: (result: any) => void): void; @oncanplay\n音频进入可以播放状态，但不保证后面可以流畅播放\n##### onCanplay 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onPlay(callback: (result: any) => void): void; @onplay\n音频播放事件\n##### onPlay 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | - | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onPause(callback: (result: any) => void): void; @onpause\n音频暂停事件\n##### onPause 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onStop(callback: (result: any) => void): void; @onstop\n音频停止事件\n##### onStop 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onEnded(callback: (result: any) => void): void; @onended\n音频自然播放结束事件\n##### onEnded 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onTimeUpdate(callback: (result: any) => void): void; @ontimeupdate\n音频播放进度更新事件\n##### onTimeUpdate 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onError(callback: (result: ICreateInnerAudioContextFail) => void): void; @onerror\n音频播放错误事件\n##### onError 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [ICreateInnerAudioContextFail](#icreateinneraudiocontextfail-values)) => void | 是 | - | - | - | \n\n##### ICreateInnerAudioContextFail 的属性值 @icreateinneraudiocontextfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1107601 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 系统错误 |\n@| 1107602 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 网络错误 |\n@| 1107603 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 文件错误 |\n@| 1107604 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 格式错误 |\n@| 1107605 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 未知错误 |\n@| 1107609 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 播放路径不能为空 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### onWaiting(callback: (result: any) => void): void; @onwaiting\n音频加载中事件，当音频因为数据不足，需要停下来加载时会触发\n##### onWaiting 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onSeeking(callback: (result: any) => void): void; @onseeking\n音频进行 seek 操作事件\n##### onSeeking 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onSeeked(callback: (result: any) => void): void; @onseeked\n音频完成 seek 操作事件\n##### onSeeked 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offCanplay(callback: (result: any) => void): void; @offcanplay\n取消监听 onCanplay 事件\n##### offCanplay 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offPlay(callback: (result: any) => void): void; @offplay\n取消监听 onPlay 事件\n##### offPlay 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offPause(callback: (result: any) => void): void; @offpause\n取消监听 onPause 事件\n##### offPause 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offStop(callback: (result: any) => void): void; @offstop\n取消监听 onStop 事件\n##### offStop 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offEnded(callback: (result: any) => void): void; @offended\n取消监听 onEnded 事件\n##### offEnded 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offTimeUpdate(callback: (result: any) => void): void; @offtimeupdate\n取消监听 onTimeUpdate 事件\n##### offTimeUpdate 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offError(callback: (result: ICreateInnerAudioContextFail) => void): void; @offerror\n取消监听 onWaiting 事件\n##### offError 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [ICreateInnerAudioContextFail](#icreateinneraudiocontextfail-values)) => void | 是 | - | - | - | \n\n\n#### offWaiting(callback: (result: any) => void): void; @offwaiting\n取消监听 onWaiting 事件\n##### offWaiting 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | - | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offSeeking(callback: (result: any) => void): void; @offseeking\n取消监听 onSeeking 事件\n##### offSeeking 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offSeeked(callback: (result: any) => void): void; @offseeked\n取消监听 onSeeked 事件\n##### offSeeked 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.createInnerAudioContext)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/audio/InnerAudioContext.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=createInnerAudioContext&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=createInnerAudioContext&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=createInnerAudioContext&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=createInnerAudioContext&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=createInnerAudioContext)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=createInnerAudioContext&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/create-inner-audio-context/create-inner-audio-context.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n```uvue\n<template>\n\t<!-- #ifdef APP -->\n\t<scroll-view style=\"flex: 1;\">\n\t<!-- #endif -->\n\t\t<view class=\"uni-padding-wrap\">\n\t\t\t<page-head title=\"audio\"></page-head>\n\t\t\t<view class=\"uni-common-mt\">\n\t\t\t\t<slider ref=\"slider\" :value=\"position\" :min=\"0\" :max=\"duration\" @changing=\"onchanging\"\n\t\t\t\t\t@change=\"onchange\"></slider>\n\t\t\t</view>\n\t\t\t<view class=\"uni-title\">\n\t\t\t\t<text class=\"uni-title-text\">属性示例</text>\n\t\t\t</View>\n\t\t\t<text class=\"uni-text-box uni-common-mt\">当前音频播放位置（保留小数点后 3 位）：{{currentTime}} s</text>\n\t\t\t<text class=\"uni-text-box\">音频的长度（单位:s）：{{duration}} s</text>\n\t\t\t<text class=\"uni-text-box\">当前是否停止状态：{{isPaused}}</text>\n\t\t\t<text class=\"uni-text-box\">音频缓冲的时间点：{{buffered}} s</text>\n\t\t\t<text class=\"uni-text-box\">当前音量：{{volume}}</text>\n\t\t\t<button plain :disabled=\"volume == 1\" @click=\"increaseVolume\">增加音量</button>\n\t\t\t<button plain :disabled=\"volume == 0\" @click=\"decreaseVolume\">减少音量</button>\n\n\t\t\t<text class=\"uni-subtitle-text uni-title\">开始播放的位置（单位：s）</text>\n\t\t\t<input :value=\"startTime\" type=\"number\" placeholder=\"开始播放的位置（单位：s）\" class=\"uni-input\"\n\t\t\t\t@input=\"startTimeInput\"></input>\n\t\t\t<boolean-data :defaultValue=\"false\" title=\"是否自动开始播放\" @change=\"setAutoplay\"></boolean-data>\n\t\t\t<boolean-data :defaultValue=\"false\" title=\"是否循环播放\" @change=\"setLoop\"></boolean-data>\n\t\t\t<text class=\"uni-subtitle-text uni-title\"\n\t\t\t\tstyle=\"padding-left: 10px;padding-top: 10px;padding-right: 10px;\">播放倍率(Web/HarmonyOS 不支持)</text>\n\t\t\t<radio-group class=\"uni-flex uni-row radio-group\" @change=\"playbackRateChange\"\n\t\t\t\tstyle=\"flex-wrap: wrap;padding: 10px;\">\n\t\t\t\t<radio value=\"0.5\" style=\"margin-right: 3px\">0.5\n\t\t\t\t</radio>\n\t\t\t\t<radio value=\"0.8\" style=\"margin-right: 3px\">0.8</radio>\n\t\t\t\t<radio value=\"1.0\" style=\"margin-right: 3px\" :checked=\"playbackRateChecked\">1.0</radio>\n\t\t\t\t<radio value=\"1.25\" style=\"margin-right: 3px\">1.25</radio>\n\t\t\t\t<radio value=\"1.5\" style=\"margin-right: 3px\">1.5</radio>\n\t\t\t\t<radio value=\"2.0\">2.0</radio>\n\t\t\t</radio-group>\n\n\t\t\t<view class=\"uni-title\">\n\t\t\t\t<text class=\"uni-title-text\">方法示例</text>\n\t\t\t</View>\n\t\t\t<button :disabled=\"isPlaying\" @click=\"play\" class=\"uni-btn\">播放</button>\n\t\t\t<button :disabled=\"!isPlaying\" @click=\"pause\" class=\"uni-btn\">暂停</button>\n\t\t\t<button :disabled=\"!isPlaying\" @click=\"stop\" class=\"uni-btn\">停止</button>\n\t\t\t<button @click=\"onchangeValue(20)\" class=\"uni-btn\">跳转到指定位置20</button>\n\t\t\t<button @click=\"onTimeUpdate\" class=\"uni-btn\">onTimeUpdate</button>\n\t\t\t<button @click=\"offTimeUpdate\" class=\"uni-btn\">offTimeUpdate</button>\n\t\t\t<button @click=\"onWaiting\" class=\"uni-btn\">onWaiting</button>\n\t\t\t<button @click=\"offWaiting\" class=\"uni-btn\">offWaiting</button>\n\n\n\t\t\t<text style=\"color: red;font-size: 15px;margin-top: 10px;\">tip:销毁后请重新进入此界面再播放</text>\n\t\t\t<button @click=\"destory\" class=\"uni-btn\">销毁</button>\n\n\t\t\t<view class=\"uni-title\">\n\t\t\t\t<text class=\"uni-title-text\">格式/路径示例</text>\n\t\t\t</View>\n\t\t\t<navigator url=\"/pages/API/create-inner-audio-context/inner-audio-format\" class=\"uni-btn\">\n\t\t\t\t<button @click=\"pause\">音频格式示例</button>\n\t\t\t</navigator>\n\t\t\t<navigator url=\"/pages/API/create-inner-audio-context/inner-audio-path\" class=\"uni-btn\">\n\t\t\t\t<button @click=\"pause\">音频路径示例</button>\n\t\t\t</navigator>\n\t\t\t<navigator url=\"/pages/API/create-inner-audio-context/inner-audio-mult\" class=\"uni-btn\">\n\t\t\t\t<button @click=\"pause\">多音频同时播放</button>\n\t\t\t</navigator>\n\t\t</view>\n\t<!-- #ifdef APP -->\n\t</scroll-view>\n\t<!-- #endif -->\n</template>\n<script lang=\"uts\">\n\tconst audioUrl = 'https://web-ext-storage.dcloud.net.cn/uni-app/ForElise.mp3'\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle: \"innerAudioContext\",\n\t\t\t\tcurrentTime: 0,\n\t\t\t\tduration: 100,\n\t\t\t\tstartTime: 0,\n\t\t\t\tbuffered: 0,\n\t\t\t\tvolume: 0.5,\n\t\t\t\tisCanplay: false,\n\t\t\t\tisPlaying: false,\n\t\t\t\tisPaused: true,\n\t\t\t\tisPlayEnd: false,\n\t\t\t\t_isChanging: false,\n\t\t\t\t_audioContext: null as InnerAudioContext | null,\n\t\t\t\t// 自动化测试\n\t\t\t\tonSeekingTest: false,\n\t\t\t\tonSeekedTest: false,\n\t\t\t\tonWaitingTest: false,\n\t\t\t\tplaybackRateChecked: true,\n\t\t\t\tonTimeUpdateCb: (res : any) => { },\n\t\t\t\tonWaitingCb: (res : any) => { }\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tposition() {\n\t\t\t\treturn this.isPlayEnd ? 0 : this.currentTime;\n\t\t\t},\n\t\t},\n\t\tonReady() {\n\t\t\tthis._audioContext = uni.createInnerAudioContext();\n\t\t\tthis._audioContext!.src = audioUrl;\n\t\t\tthis.volume = this._audioContext!.volume;\n\t\t\tthis.onCanplay()\n\t\t\tthis._audioContext!.onPlay(() => {\n\t\t\t\tthis.isPaused = false;\n\t\t\t\tthis.isPlaying = true;\n\t\t\t\tconsole.log('开始播放', this.isPaused);\n\t\t\t});\n\n\t\t\tthis.onTimeUpdateCb = (res : any) => {\n\t\t\t\tif (this._isChanging) { return; }\n\t\t\t\tthis.currentTime = this._audioContext!.currentTime;\n\t\t\t\tthis.buffered = this._audioContext!.buffered;\n\t\t\t\tconsole.log('onTimeUpdateCb', this.currentTime)\n\n\t\t\t\t// #ifdef MP\n\t\t\t\t// 微信小程序安卓端过早的时机获取的buffered、duration为0，改为在此处获取\n\t\t\t\tif(this._audioContext!.duration === 0) {\n\t\t\t\t\tthis.buffered = this._audioContext!.buffered;\n\t\t\t\t\tthis.duration = this._audioContext!.duration\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\tif (this.currentTime > this.buffered) {\n\t\t\t\t\tconsole.log('缓冲不足');\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tthis.onWaitingCb = (res : any) => {\n\t\t\t\tconsole.log('音频加载中事件');\n\t\t\t\tthis.onWaitingTest = true\n\t\t\t}\n\n\t\t\tthis.onTimeUpdate()\n\t\t\t// this.onWaiting()\n\t\t\tthis.onError()\n\t\t\tthis.onEnded()\n\t\t},\n\t\tonUnload() {\n\t\t\tif (this._audioContext != null) {\n\t\t\t\tif (this.isPlaying) {\n\t\t\t\t\tthis.stop();\n\t\t\t\t}\n\t\t\t\tthis._audioContext!.destroy()\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tonCanplay() {\n\t\t\t\tthis._audioContext!.onCanplay(() => {\n\t\t\t\t\tconsole.log('音频进入可以播放状态事件');\n\t\t\t\t\tthis.isCanplay = true;\n\t\t\t\t\t// #ifdef MP\n\t\t\t\t\t// 微信小程序安卓端过早的时机获取的volume为undefine，改为在此处获取\n\t\t\t\t\tthis.volume = this._audioContext!.volume;\n\t\t\t\t\t// #endif\n\t\t\t\t\t// 当音频可以播放时，获取缓冲信息\n\t\t\t\t\tthis.buffered = this._audioContext!.buffered;\n\t\t\t\t\tthis.duration = this._audioContext!.duration\n\t\t\t\t});\n\t\t\t},\n\t\t\tonchanging() {\n\t\t\t\tthis._isChanging = true;\n\t\t\t},\n\t\t\tonchange(e : UniSliderChangeEvent) {\n\t\t\t\tlet pos = e.detail.value;\n\t\t\t\tconsole.log('pos', pos);\n\t\t\t\tthis.onSeeking()\n\t\t\t\tthis.onSeeked()\n\t\t\t\tthis._audioContext!.seek(pos);\n\t\t\t\tthis._isChanging = false;\n\t\t\t},\n\t\t\tonchangeValue(pos : number) {\n\t\t\t\tthis.onSeeking()\n\t\t\t\tthis.onSeeked()\n\t\t\t\tthis._audioContext!.seek(pos);\n\t\t\t\tthis._isChanging = false;\n\t\t\t},\n\t\t\tstartTimeInput(e : UniInputEvent) {\n\t\t\t\tlet startTimeValue = parseInt(e.detail.value)\n\t\t\t\tthis._audioContext!.startTime = startTimeValue;\n\t\t\t\tthis.onchangeValue(startTimeValue)\n\t\t\t},\n\t\t\tsetAutoplay() {\n\t\t\t\tthis._audioContext!.autoplay = !this._audioContext!.autoplay;\n\t\t\t\tconsole.log(this._audioContext!.autoplay, 'autoplay');\n\t\t\t},\n\t\t\tsetLoop() {\n\t\t\t\tthis._audioContext!.loop = !this._audioContext!.loop;\n\t\t\t\tconsole.log(this._audioContext!.loop, 'loop');\n\t\t\t},\n\t\t\tplay() {\n\t\t\t\tif (!this.isCanplay) {\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '音频未进入可以播放状态，请稍后再试',\n\t\t\t\t\t\ticon: 'error'\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.isPlaying = true;\n\t\t\t\tthis._audioContext!.play();\n\t\t\t\tthis.isPlayEnd = false;\n\t\t\t\tif (this._audioContext!.startTime > 0) {\n\t\t\t\t\tthis.onchangeValue(this._audioContext!.startTime)\n\t\t\t\t}\n\t\t\t},\n\t\t\tonSeeking() {\n\t\t\t\tthis._audioContext!.onSeeking(() => {\n\t\t\t\t\tconsole.log('音频进行 seek 操作事件');\n\t\t\t\t\tthis.onSeekingTest = true\n\t\t\t\t});\n\t\t\t},\n\t\t\tonSeeked() {\n\t\t\t\tthis._audioContext!.onSeeked(() => {\n\t\t\t\t\tconsole.log('音频完成 seek 操作事件');\n\t\t\t\t\tthis.onSeekedTest = true\n\t\t\t\t});\n\t\t\t},\n\t\t\tonWaiting() {\n\t\t\t\tthis._audioContext!.onWaiting(this.onWaitingCb);\n\t\t\t},\n\t\t\toffWaiting() {\n\t\t\t\tthis._audioContext!.offWaiting(this.onWaitingCb);\n\t\t\t},\n\t\t\tonTimeUpdate() {\n\t\t\t\tthis._audioContext!.onTimeUpdate(this.onTimeUpdateCb);\n\t\t\t},\n\t\t\toffTimeUpdate() {\n\t\t\t\tthis._audioContext!.offTimeUpdate(this.onTimeUpdateCb);\n\t\t\t},\n\t\t\tincreaseVolume() {\n\t\t\t\tthis.volume = Math.min(this.volume + 0.1, 1);\n\t\t\t\tthis.volume = parseFloat(this.volume.toFixed(1));\n\t\t\t\tthis._audioContext!.volume = this.volume\n\t\t\t\tconsole.log('增加音量', this.volume);\n\t\t\t},\n\t\t\tdecreaseVolume() {\n\t\t\t\tthis.volume = Math.max(this.volume - 0.1, 0);\n\t\t\t\tthis.volume = parseFloat(this.volume.toFixed(1));\n\t\t\t\tconsole.log('减少音量', this.volume);\n\t\t\t\tthis._audioContext!.volume = this.volume\n\t\t\t},\n\t\t\tonEnded() {\n\t\t\t\tthis._audioContext!.onEnded(() => {\n\t\t\t\t\tconsole.log('播放结束');\n\t\t\t\t\tthis.currentTime = 0;\n\t\t\t\t\tthis.startTime = 0\n\t\t\t\t\tthis.isPlaying = false;\n\t\t\t\t\tthis.isPaused = true;\n\t\t\t\t\tthis.isPlayEnd = true;\n\t\t\t\t\t(this.$refs[\"slider\"] as UniSliderElement).value = 0\n\t\t\t\t});\n\t\t\t},\n\t\t\tonError() {\n\t\t\t\tthis._audioContext!.onError((err) => {\n\t\t\t\t\tconsole.log('err', err);\n\t\t\t\t\tthis.isPlaying = false;\n\t\t\t\t\tthis.isPaused = true;\n\t\t\t\t});\n\t\t\t},\n\t\t\tpause() {\n\t\t\t\tthis._audioContext!.onPause(() => {\n\t\t\t\t\tconsole.log('音频暂停事件');\n\t\t\t\t\tthis.isPaused = true;\n\t\t\t\t});\n\t\t\t\tthis._audioContext!.pause();\n\t\t\t\tthis.isPlaying = false;\n\t\t\t},\n\t\t\tstop() {\n\t\t\t\tconsole.log('stop');\n\t\t\t\tthis._audioContext!.onStop(() => {\n\t\t\t\t\t// 第一次点停止时，不触发\n\t\t\t\t\tthis.isPaused = true;\n\t\t\t\t\tconsole.log('音频停止事件');\n\t\t\t\t});\n\t\t\t\tthis._audioContext!.stop();\n\t\t\t\tthis.isPlaying = false;\n\t\t\t\tconsole.log('stop', this.isPaused);\n\t\t\t},\n\t\t\tdestory() {\n\t\t\t\tif (this._audioContext != null) {\n\t\t\t\t\tthis.isPlaying = false;\n\t\t\t\t\tthis._audioContext!.destroy()\n\t\t\t\t}\n\t\t\t},\n\t\t\tplaybackRateChange(e : UniRadioGroupChangeEvent) {\n\t\t\t\t// if (this._audioContext != null && this.isPlaying) {\n\t\t\t\t\tconsole.log(parseFloat(e.detail.value))\n\t\t\t\t\tthis._audioContext!.playbackRate = parseFloat(e.detail.value)\n\t\t\t\t// }\n\t\t\t},\n      //just for test\n      setSrc(src:string){\n        if(\tthis._audioContext!=null){\n          this._audioContext!.src = src\n        }\n      }\n\t\t}\n\t}\n</script>\n<style>\n\t.play-time-area {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tmargin-top: 20px;\n\t}\n\n\t.duration {\n\t\tmargin-left: auto;\n\t}\n\n\t.play-button-area {\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\tjustify-content: center;\n\t\tmargin: 50px 0;\n\t}\n\n\t.icon-play {\n\t\twidth: 60px;\n\t\theight: 60px;\n\t}\n</style>\n\n```"},"getBackgroundAudioManager":{"name":"## uni.getBackgroundAudioManager() @getbackgroundaudiomanager","description":"获取全局唯一的背景音频管理器 backgroundAudioManager\n","compatibility":"### getBackgroundAudioManager 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.41 | 4.41 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [BackgroundAudioManager](#backgroundaudiomanager-values) |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| duration | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 当前音频的长度（单位：s），只有在当前有合法的 src 时返回 |\n@| currentTime | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 当前音频的播放位置（单位：s），只有在当前有合法的 src 时返回 |\n@| paused | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 当前是是否暂停或停止状态，true 表示暂停或停止，false 表示正在播放 |\n@| src | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 音频的数据源，默认为空字符串，当设置了新的 src 时，会自动开始播放 ，目前支持的格式有 m4a, aac, mp3, wav |\n@| startTime | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 音频开始播放的位置（单位：s） |\n@| buffered | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"x\"]]}' /> | 音频缓冲的时间点，仅保证当前播放时间点到此时间点内容已缓冲 |\n@| title | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 音频标题，用于做原生音频播放器音频标题。原生音频播放器中的分享功能，分享出去的卡片标题，也将使用该值。 |\n@| epname | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 专辑名，原生音频播放器中的分享功能，分享出去的卡片简介，也将使用该值 |\n@| singer | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 歌手名，原生音频播放器中的分享功能，分享出去的卡片简介，也将使用该值 |\n@| coverImgUrl | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 封面图url，用于做原生音频播放器背景图。原生音频播放器中的分享功能，分享出去的卡片配图及背景也将使用该图。 |\n@| webUrl | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | 页面链接，原生音频播放器中的分享功能，分享出去的卡片简介，也将使用该值 |\n@| protocol | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | 音频协议。默认值为 'http'，设置 'hls' 可以支持播放 HLS 协议的直播音频 |\n@| playbackRate | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"x\"]]}' /> | 播放的倍率。可取值： 0.5/0.8/1.0/1.25/1.5/2.0，默认值为1.0。（仅 App 支持） |\n@| audioType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `3.4.8`<br/><br/>音频类型。可设置 \"audio\" 和 \"music\" 两种值，默认为 \"audio\"。不同音频类型对应的播放器样式不一样（实验特性，目前仅iOS和Android端支持）<br/> |\n@| referrerPath | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `3.4.8`<br/><br/>关联页面路径。设置后，当点击播放器上的小程序跳转链接时，将跳转到这个关联页面路径（实验特性，目前仅Android端支持）<br/> |\n@| referrerPolicy | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.13.0`<br/><br/>`origin`: 发送完整的referrer; `no-referrer`: 不发送。格式固定为 `https://servicewechat.com/{appid}/{version}/page-frame.html`，其中 {appid} 为小程序的 appid，{version} 为小程序的版本号，版本号为 0 表示为开发版、体验版以及审核版本，版本号为 devtools 表示为开发者工具，其余为正式版本；<br/> |\n#### BackgroundAudioManager 的方法 @backgroundaudiomanager-values \n\n#### play(): void; @play\n播放\n##### play 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n\n\n#### pause(): void; @pause\n暂停\n##### pause 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n\n\n#### seek(position: number): void; @seek\n跳转到指定位置，单位 s\n##### seek 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| position | number | 是 | - | - | - | \n\n\n#### stop(): void; @stop\n停止\n##### stop 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n\n\n#### onCanplay(callback: (result: any) => void): void; @oncanplay\n背景音频进入可以播放状态，但不保证后面可以流畅播放\n##### onCanplay 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onPlay(callback: (result: any) => void): void; @onplay\n背景音频播放事件\n##### onPlay 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onPause(callback: (result: any) => void): void; @onpause\n背景音频暂停事件\n##### onPause 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onStop(callback: (result: any) => void): void; @onstop\n背景音频停止事件\n##### onStop 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onEnded(callback: (result: any) => void): void; @onended\n背景音频自然播放结束事件\n##### onEnded 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onSeeking(callback : (result : any) => void) : void; @onseeking\n音频进行 seek 操作事件\n##### onSeeking 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onSeeked(callback : (result : any) => void) : void; @onseeked\n音频完成 seek 操作事件\n##### onSeeked 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| 4.0 | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onTimeUpdate(callback: (result: any) => void): void; @ontimeupdate\n背景音频播放进度更新事件\n##### onTimeUpdate 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onPrev(callback: (result: any) => void): void; @onprev\n用户在系统音乐播放面板点击上一曲事件\n##### onPrev 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onNext(callback: (result: any) => void): void; @onnext\n用户在系统音乐播放面板点击下一曲事件\n##### onNext 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onError(callback : (result : ICreateBackgroundAudioFail) => void) : void; @onerror\n背景音频播放错误事件\n##### onError 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [ICreateBackgroundAudioFail](#icreatebackgroundaudiofail-values)) => void | 是 | - | - | - | \n\n##### ICreateBackgroundAudioFail 的属性值 @icreatebackgroundaudiofail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1107601 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 系统错误 |\n@| 1107602 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 网络错误 |\n@| 1107603 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 文件错误 |\n@| 1107604 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 格式错误 |\n@| 1107605 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 未知错误 |\n@| 1107609 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.41\",\"4.41\",\"-\"]]}' /> | 播放路径不能为空 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### onWaiting(callback: (result: any) => void): void; @onwaiting\n音频加载中事件，当音频因为数据不足，需要停下来加载时会触发\n##### onWaiting 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | 4.41 | 4.41 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.getBackgroundAudioManager)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/BackgroundAudioManager.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/media/background-audio-manager.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getBackgroundAudioManager&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getBackgroundAudioManager&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getBackgroundAudioManager&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getBackgroundAudioManager&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getBackgroundAudioManager)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getBackgroundAudioManager&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-background-audio-manager/get-background-audio-manager.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-background-audio-manager/get-background-audio-manager\n```uvue\n<template>\n\t<view>\n\t\t<page-head :title=\"title\"></page-head>\n\t\t<view class=\"uni-padding-wrap\">\n\t\t\t<text>\n\t\t\t\t注意：1.离开当前页面后背景音乐将保持播放；\\n\n\t\t\t\t2. 硬退出app、调用stop api、播放结束都会清理后台控制中心和锁屏信息显示\n\t\t\t</text>\n\t\t\t<view class=\"uni-common-mt\">\n\t\t\t\t<slider ref=\"slider\" :value=\"position\" :min=\"0\" :max=\"duration\" @changing=\"onchanging\"\n\t\t\t\t\t@change=\"onchange\"></slider>\n\t\t\t</view>\n\t\t\t<view class=\"page-body-buttons\">\n\t\t\t\t<template v-if=\"playing\">\n\t\t\t\t\t<view class=\"page-body-button\" @tap=\"stop\">\n\t\t\t\t\t\t<image class=\"image\" src=\"/static/stop.png\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"page-body-button\" @tap=\"pause\" style=\"margin-top: 20px;\">\n\t\t\t\t\t\t<image class=\"image\" src=\"/static/pause.png\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</template>\n\t\t\t\t<template v-if=\"!playing\">\n\t\t\t\t\t<view class=\"page-body-button\" @tap=\"play\">\n\t\t\t\t\t\t<image class=\"image\" src=\"/static/play.png\"></image>\n\t\t\t\t\t</view>\n\t\t\t\t</template>\n\t\t\t\t<view class=\"page-body-button\"></view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\ttitle: 'backgroundAudio',\n\t\t\t\tbgAudioMannager: null as BackgroundAudioManager | null,\n\t\t\t\tdataUrl: 'https://web-ext-storage.dcloud.net.cn/uni-app/ForElise.mp3',\n\t\t\t\tplaying: false,\n\t\t\t\tplayTime: 0,\n\t\t\t\tformatedPlayTime: '00:00:00',\n\t\t\t\tcount: 100,\n\t\t\t\tisPlayEnd: false,\n\t\t\t\tduration: 100,\n\t\t\t\tcurrentTime: 0,\n\t\t\t\t_isChanging: false,\n\t\t\t\tbuffered: 0,\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tposition() {\n\t\t\t\treturn this.isPlayEnd ? 0 : this.currentTime;\n\t\t\t},\n\t\t},\n\t\tonLoad: function () {\n\t\t\tlet bgAudioMannager = uni.getBackgroundAudioManager();\n\t\t\tbgAudioMannager.title = '致爱丽丝' + this.count;\n\t\t\tbgAudioMannager.epname = '专辑名：致爱丽丝' + this.count\n\t\t\tbgAudioMannager.singer = '歌手：暂无' + this.count;\n\t\t\tbgAudioMannager.coverImgUrl = 'https://web-assets.dcloud.net.cn/unidoc/zh/Alice.jpeg';\n\t\t\tbgAudioMannager.src = this.dataUrl;\n      this.currentTime = bgAudioMannager.currentTime\n      this.duration = bgAudioMannager.duration\n\t\t\tbgAudioMannager.onCanplay(() => {\n\t\t\t\tconsole.log(\"音频进入可以播放状态事件\");\n\t\t\t\tthis.buffered = bgAudioMannager.buffered;\n\t\t\t\tthis.duration = bgAudioMannager.duration\n\t\t\t})\n\t\t\tbgAudioMannager.onPlay(() => {\n\t\t\t\tconsole.log(\"开始播放\");\n\t\t\t\tthis.playing = true;\n\t\t\t})\n\t\t\tbgAudioMannager.onPause(() => {\n\t\t\t\tconsole.log(\"暂停播放\");\n\t\t\t\tthis.playing = false;\n\t\t\t})\n\t\t\tbgAudioMannager.onStop(() => {\n\t\t\t\tconsole.log(\"停止播放\");\n\t\t\t\tthis.playing = false;\n\t\t\t})\n\t\t\tbgAudioMannager.onEnded(() => {\n\t\t\t\tconsole.log(\"播放结束\");\n\t\t\t\tthis.playing = false;\n\t\t\t\tthis.currentTime = 0;\n\t\t\t\tthis.isPlayEnd = true;\n\t\t\t\t(this.$refs[\"slider\"] as UniSliderElement).value = 0\n\t\t\t})\n\t\t\tbgAudioMannager.onNext(() => {\n\t\t\t\tthis.count++\n\t\t\t\tconsole.log(\"下一曲\", this.count);\n\t\t\t\tthis.bgAudioMannager?.stop()\n\t\t\t\tbgAudioMannager.title = '致爱丽丝' + this.count;\n\t\t\t\tbgAudioMannager.singer = '歌手：暂无' + this.count;\n\t\t\t\tthis.dataUrl = 'https://web-ext-storage.dcloud.net.cn/uni-app/ForElise.mp3'\n\t\t\t\tbgAudioMannager.coverImgUrl = 'https://qiniu-web-assets.dcloud.net.cn/unidoc/zh/music-a.png';\n\t\t\t\tthis.bgAudioMannager!.src = this.dataUrl;\n\t\t\t\tthis.bgAudioMannager?.play()\n\t\t\t})\n\t\t\tbgAudioMannager.onPrev(() => {\n\t\t\t\tthis.count--\n\t\t\t\tconsole.log(\"上一曲\", this.count);\n\t\t\t\tthis.bgAudioMannager?.stop()\n\t\t\t\tbgAudioMannager.title = '致爱丽丝' + this.count;\n\t\t\t\tbgAudioMannager.singer = '歌手：暂无' + this.count;\n\t\t\t\tthis.dataUrl = 'https://web-ext-storage.dcloud.net.cn/uni-app/ForElise.mp3'\n\t\t\t\tbgAudioMannager.coverImgUrl = 'https://web-assets.dcloud.net.cn/unidoc/zh/Alice.jpeg';\n\t\t\t\tthis.bgAudioMannager!.src = this.dataUrl;\n\t\t\t\tthis.bgAudioMannager?.play()\n\t\t\t})\n\t\t\tbgAudioMannager.onSeeking(() => {\n\t\t\t\tconsole.log('音频进行 seek 操作事件');\n\t\t\t})\n\t\t\tbgAudioMannager.onSeeked(() => {\n\t\t\t\tconsole.log('音频完成 seek 操作事件');\n\t\t\t})\n\t\t\tbgAudioMannager.onWaiting(() => {\n\t\t\t\tconsole.log('音频加载中事件');\n\t\t\t})\n\t\t\tbgAudioMannager.onTimeUpdate(() => {\n\t\t\t\tconsole.log('onTimeUpdate', bgAudioMannager.currentTime)\n\t\t\t\tif (this._isChanging) { return; }\n\t\t\t\tthis.currentTime = this.bgAudioMannager!.currentTime;\n\t\t\t\tthis.buffered = this.bgAudioMannager!.buffered;\n\t\t\t\tconsole.log('onTimeUpdateCb', this.currentTime)\n\n\t\t\t\t// #ifdef MP\n\t\t\t\t// 微信小程序安卓端过早的时机获取的buffered、duration为0，改为在此处获取\n\t\t\t\tif (this.bgAudioMannager!.duration === 0) {\n\t\t\t\t\tthis.buffered = this.bgAudioMannager!.buffered;\n\t\t\t\t\tthis.duration = this.bgAudioMannager!.duration\n\t\t\t\t}\n\t\t\t\t// #endif\n\t\t\t\tif (this.currentTime > this.buffered) {\n\t\t\t\t\tconsole.log('缓冲不足');\n\t\t\t\t}\n\t\t\t})\n\t\t\tbgAudioMannager.onError((err) => {\n\t\t\t\tconsole.log('播放出错err', err);\n\t\t\t})\n\t\t\tthis.bgAudioMannager = bgAudioMannager;\n\t\t\tthis.playing = !bgAudioMannager.paused\n\t\t\tconsole.log('currentTime=', this.bgAudioMannager!.currentTime, this.bgAudioMannager!.currentTime == 0)\n\t\t},\n\t\tmethods: {\n\t\t\tplay: function () {\n\t\t\t\tconsole.log('play')\n\t\t\t\tthis.isPlayEnd = false;\n\t\t\t\tthis.bgAudioMannager!.play()\n\t\t\t},\n\t\t\tpause: function () {\n\t\t\t\tthis.bgAudioMannager?.pause();\n\t\t\t},\n\t\t\tstop: function () {\n\t\t\t\tthis.bgAudioMannager?.stop();\n\t\t\t\tthis.playing = false\n\t\t\t},\n\t\t\tonchanging() {\n\t\t\t\tthis._isChanging = true;\n\t\t\t},\n\t\t\tonchange(e : UniSliderChangeEvent) {\n\t\t\t\tlet pos = e.detail.value;\n\t\t\t\tconsole.log('pos', pos);\n\t\t\t\tthis.bgAudioMannager!.seek(pos);\n\t\t\t\tthis._isChanging = false;\n\t\t\t},\n\t\t}\n\t}\n</script>\n\n<style>\n\t.image {\n\t\twidth: 150rpx;\n\t\theight: 150rpx;\n\t}\n\n\t.page-body-text {\n\t\tpadding: 0 30rpx;\n\t}\n\n\t.page-body-wrapper {\n\t\tmargin-top: 0;\n\t}\n\n\t.page-body-info {\n\t\tpadding-bottom: 50rpx;\n\t}\n\n\t.time-big {\n\t\tfont-size: 60rpx;\n\t\tmargin: 20rpx;\n\t}\n\n\t.slider {\n\t\twidth: 630rpx;\n\t}\n\n\t.play-time {\n\t\twidth: 100%;\n\t\tpadding: 20rpx 0;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tbox-sizing: border-box;\n\t}\n\n\t.page-body-buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\tmargin-top: 100rpx;\n\t\tflex-direction: column;\n\t}\n\n\t.page-body-button {\n\t\tflex-direction: row;\n\t\tjustify-content: center;\n\t}\n</style>\n\n```\n:::"},"getRecorderManager":{"name":"## uni.getRecorderManager() @getrecordermanager","description":"录音管理","compatibility":"### getRecorderManager 兼容性 \n| Web | 微信小程序 | Android | Android uni-app x UTS 插件 | iOS | iOS uni-app x UTS 插件 | HarmonyOS |\n| :- | :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.61 | 4.61 | 4.61 | 4.61 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [RecorderManager](#recordermanager-values) |\n\n#### RecorderManager 的方法 @recordermanager-values \n\n#### start(options : RecorderManagerStartOptions) : void; @start\n开始录音\n##### start 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.61 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RecorderManagerStartOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| duration | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"4.61\",\"4.61\",\"4.61\"]]}' /> | 指定录音的时长，单位 ms ，如果传入了合法的 duration ，在到达指定的 duration 后会自动停止录音，默认值 60000（1 分钟)，微信小程序最大值 600000（10 分钟), App 平台没有最大值限制 |\n@| sampleRate | number | 否 | 8000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"4.61\",\"4.61\",\"4.61\"]]}' /> | 采样率，有效值 8000/16000/44100 |\n@| numberOfChannels | number | 否 | 2 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"4.61\",\"4.61\",\"4.61\"]]}' /> | 录音通道数，有效值 1/2 |\n@| encodeBitRate | number | 否 | 48000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"4.61\",\"4.61\",\"4.61\"]]}' /> | 编码码率，有效值见下表格 |\n@| format | string | 否 | aac | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"4.61\",\"4.61\",\"4.61\"]]}' /> | 音频格式 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| aac | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.61\",\"4.61\",\"4.61\",\"4.61\",\"4.61\"]]}' /> | aac格式 |\n@@| mp3 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.61\",\"4.61\",\"x\",\"x\",\"4.61\"]]}' /> | mp3格式 |\n@@| pcm | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.61\",\"4.61\",\"4.61\",\"4.61\",\"x\"]]}' /> | pcm格式 |\n@@| wav | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.61\",\"4.61\",\"4.61\",\"4.61\",\"4.61\"]]}' /> | wav格式 |\n@@| m4a | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"x\",\"x\",\"4.61\"]]}' /> | m4a格式 |\n@| frameSize | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"x\",\"x\",\"x\",\"x\"]]}' /> | 指定帧大小，单位 KB。传入 frameSize 后，每录制指定帧大小的内容后，会回调录制的文件内容，不指定则不会回调。暂仅支持 mp3 格式。 | \n\n\n#### pause() : void; @pause\n暂停录音,App-Android平台在Android 7.0及以后版本支持\n##### pause 兼容性 \n| Web | 微信小程序 | Android 系统版本 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| x | 4.41 | 7.0 | 4.61 | 4.61 | 4.61 |\n\n\n\n#### resume() : void; @resume\n继续录音，App-Android平台在Android 7.0及以后版本支持\n##### resume 兼容性 \n| Web | 微信小程序 | Android 系统版本 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| x | 4.41 | 7.0 | 4.61 | 4.61 | 4.61 |\n\n\n\n#### stop() : void; @stop\n停止录音\n##### stop 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.61 | 4.61 | 4.61 |\n\n\n\n#### onStart(options : (result : any) => void) : void; @onstart\n录音开始事件\n##### onStart 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.61 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | (result: any) => void | 是 | - | - | - | \n\n\n#### onPause(options : (result : any) => void) : void; @onpause\n录音暂停事件,App-Android平台在Android 7.0及以后版本支持\n##### onPause 兼容性 \n| Web | 微信小程序 | Android 系统版本 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| x | 4.41 | 7.0 | 4.61 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | (result: any) => void | 是 | - | - | - | \n\n\n#### onStop(options : (result : RecorderManagerOnStopResult) => void) : void; @onstop\n录音停止事件，会回调文件地址\n##### onStop 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.61 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | (result: [RecorderManagerOnStopResult](#recordermanageronstopresult-values)) => void | 是 | - | - | - | \n\n##### RecorderManagerOnStopResult 的属性值 @recordermanageronstopresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempFilePath | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"Android uni-app x UTS 插件\"},{\"title\":\"iOS\"},{\"title\":\"iOS uni-app x UTS 插件\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"4.61\",\"4.61\",\"4.61\"]]}' /> | 录音文件的临时路径 |\n\n\n#### onFrameRecorded(options : (result : any) => void) : void; @onframerecorded\n已录制完指定帧大小的文件，会回调录音分片结果数据。如果设置了 frameSize ，则会回调此事件\n##### onFrameRecorded 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | x | x | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | (result: any) => void | 是 | - | - | - | \n\n\n#### onError(options : (result : any) => void) : void; @onerror\n录音错误事件, 会回调错误信息\n##### onError 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.61 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | (result: any) => void | 是 | - | - | - | \n\n\n#### onResume(options : (result : any) => void) : void; @onresume\n监听录音继续事件,App-Android平台在Android 7.0及以后版本支持\n\n##### onResume 兼容性 \n| Web | 微信小程序 | Android 系统版本 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| x | 4.41 | 7.0 | 4.61 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | (result: any) => void | 是 | - | - | - | \n\n\n#### onInterruptionBegin(options : (result : any) => void) : void; @oninterruptionbegin\n监听录音因为受到系统占用而被中断开始事件\n\n##### onInterruptionBegin 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.61 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | (result: any) => void | 是 | - | - | - | \n\n\n#### onInterruptionEnd(options : (result : any) => void) : void; @oninterruptionend\n监听录音中断结束事件\n\n##### onInterruptionEnd 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.61 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | (result: any) => void | 是 | - | - | - | \n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.media.getRecorderManager)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/recorder/RecorderManager.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getRecorderManager&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getRecorderManager&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getRecorderManager&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getRecorderManager&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getRecorderManager)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getRecorderManager&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-recorder-manager/get-recorder-manager.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-recorder-manager/get-recorder-manager\n```uvue\n<template>\r\n  <page-head :title=\"title\"></page-head>\r\n  <view class=\"page-body-time\">\r\n    <text class=\"time-big\">{{formatedRecordTime}}</text>\r\n    <!-- <text class=\"time-big\">{{recordTimeInterval}}</text> -->\r\n  </view>\r\n\r\n  <scroll-view style=\"flex: 1;\">\r\n    <view>\r\n      <button class=\"btnstyle\" size=\"default\" @click=\"registerOnStart\">注册onStart</button>\r\n      <button class=\"btnstyle\" size=\"default\" @click=\"registeronStop\">注册onStop</button>\r\n      <button class=\"btnstyle\" size=\"default\" id=\"btn-error\" @click=\"registeronError\">注册onError</button>\r\n      <button class=\"btnstyle\" size=\"default\" @click=\"registeronPause\">注册onPause</button>\r\n      <button class=\"btnstyle\" size=\"default\" @click=\"registeronResume\">注册onResume</button>\r\n      <button class=\"btnstyle\" size=\"default\" @click=\"registeronInterruptionBegin\">注册onInterruptionBegin</button>\r\n      <button class=\"btnstyle\" size=\"default\" @click=\"registeronInterruptionEnd\">注册onInterruptionEnd</button>\r\n      <view class=\"uni-list\">\r\n        <text style=\"margin-bottom: 10px\"> 请选择录音格式：</text>\r\n        <radio-group class=\"uni-flex uni-row\" @change=\"radioChange\" style=\"flex-wrap: wrap\">\r\n          <radio class=\"uni-list-cell\" style=\"margin-right: 15px\" v-for=\"(item, index) in items\" :key=\"item.value\"\r\n            :value=\"item.value\" :checked=\"index === current\">\r\n            {{ item.name }}\r\n          </radio>\r\n        </radio-group>\r\n      </view>\r\n      <button class=\"btnstyle\" size=\"default\" :disabled=\"disableStartBtn\" id=\"btn-startRecord\"\r\n        @click=\"startRecord()\">开始录制</button>\r\n      <button class=\"btnstyle\" size=\"default\" :disabled=\"disablePauseBtn\" @click=\"pauseRecord\">暂停录制</button>\r\n      <button class=\"btnstyle\" size=\"default\" :disabled=\"disableResumeBtn\" @click=\"resumeRecord\">继续录制</button>\r\n      <button class=\"btnstyle\" size=\"default\" id=\"btn-stopRecord\" @click=\"stopRecord\">停止录制</button>\r\n      <button class=\"btnstyle\" size=\"default\" id=\"btn-startPlay\" @click=\"playVoice\">开始播放</button>\r\n      <button class=\"btnstyle\" size=\"default\" id=\"btn-stopPlay\" @click=\"stopVoice\">停止播放</button>\r\n    </view>\r\n  </scroll-view>\r\n</template>\r\n<script>\r\n  export type ItemType = { value : string, name : string }\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        disableStartBtn: false,\r\n        disableResumeBtn: false,\r\n        disablePauseBtn: false,\r\n        title: 'start/stopRecord、play/stopVoice',\r\n        recording: false, //录音中\r\n        playing: false, //播放中\r\n        registerError: false,\r\n        hasRecord: false, //是否有了一个\r\n        playTimeInterval: 0,\r\n        recordTimeInterval: 0,\r\n        tempFilePath: '',\r\n        recordTime: 0,\r\n        current: 0,\r\n        playTime: 0,\r\n        formatedRecordTime: '00:00:00', //录音的总时间\r\n        formatedPlayTime: '00:00:00',//播放录音的当前时间,\r\n        recorderManager: null as RecorderManager | null,\r\n        music: null as InnerAudioContext | null,\r\n        items: [\r\n          {\r\n            value: 'aac',\r\n            name: 'aac'\r\n          },\r\n          {\r\n            value: 'mp3',\r\n            name: 'mp3'\r\n          },\r\n          {\r\n            value: 'wav',\r\n            name: 'wav'\r\n          },\n          // #ifdef APP-HARMONY\r\n          {\r\n            value: 'm4a',\r\n            name: 'm4a'\r\n          },\n          // #endif\n          // #ifndef APP-HARMONY\r\n          {\r\n            value: 'pcm',\r\n            name: 'pcm'\r\n          }\n          // #endif\r\n        ] as ItemType[]\r\n      }\r\n    },\r\n    onUnload: function () {\r\n      this.end();\r\n    },\r\n    onLoad: function () {\r\n      this.music = uni.createInnerAudioContext();\r\n      this.music!.onEnded(() => {\r\n        clearInterval(this.playTimeInterval)\r\n        var playTime = 0\r\n        console.log('play voice finished')\r\n        this.playing = false;\r\n        this.formatedPlayTime = this.formatTime(playTime);\r\n        this.playTime = playTime;\r\n      });\r\n      this.recorderManager = uni.getRecorderManager();\r\n\r\n      this.recorderManager!.onStart(() => {\r\n        console.log('recorder onStart');\r\n        this.disableStartBtn = true\r\n        this.disablePauseBtn = false\r\n        this.disableResumeBtn = false\r\n        this.recording = true;\r\n        this.recordTime = 0\r\n        this.recordTimeInterval = setInterval(() => {\r\n          this.recordTime += 1;\r\n          this.formatedRecordTime = this.formatTime(this.recordTime);\r\n        }, 1000)\r\n      });\r\n      this.recorderManager!.onStop((res) => {\r\n        console.log('on stop', res.tempFilePath);\r\n        this.disablePauseBtn = false\r\n        this.disableResumeBtn = false\r\n        this.disableStartBtn = false\r\n        this.music!.src = res.tempFilePath\r\n        clearInterval(this.recordTimeInterval)\r\n        this.hasRecord = true;\r\n        this.recording = false;\r\n      });\r\n      this.recorderManager!.onError((res) => {\r\n        console.log('recorder onError', JSON.stringify(res));\r\n        this.disablePauseBtn = false\r\n        this.disableResumeBtn = false\r\n        this.disableStartBtn = false\r\n        this.registerError = true\r\n        uni.showToast({\r\n          title: res as string\r\n        })\r\n      });\r\n    },\r\n\r\n    methods: {\r\n      radioChange(e : UniRadioGroupChangeEvent) {\r\n        for (let i = 0; i < this.items.length; i++) {\r\n          if (this.items[i].value === e.detail.value) {\r\n            this.current = i;\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      registerOnStart() {\r\n        uni.showToast({\r\n          title: 'already registerOnStart'\r\n        })\r\n\r\n        this.recorderManager!.onStart(() => {\r\n          console.log('recorder on start');\r\n          this.recordTime = 0\r\n          this.recording = true;\r\n          this.recordTimeInterval = setInterval(() => {\r\n            this.recordTime += 1;\r\n            this.formatedRecordTime = this.formatTime(this.recordTime);\r\n          }, 1000)\r\n        });\r\n      },\r\n      registeronStop() {\r\n        uni.showToast({\r\n          title: 'already registeronStop'\r\n        })\r\n        this.recorderManager!.onStop((res) => {\r\n          console.log('on stop', res.tempFilePath);\r\n          this.music!.src = res.tempFilePath\r\n          clearInterval(this.recordTimeInterval)\r\n          this.hasRecord = true;\r\n          this.recording = false;\r\n        });\r\n      },\r\n      registeronError() {\r\n        uni.showToast({\r\n          title: 'already registeronError'\r\n        })\r\n        this.registerError = true\r\n        this.recorderManager!.onError((res) => {\r\n          console.log('recorder onError', JSON.stringify(res));\r\n        });\r\n      },\r\n      registeronPause() {\r\n        uni.showToast({\r\n          title: 'already registeronPause'\r\n        })\r\n        this.recorderManager?.onPause(() => {\r\n          console.log('recorder onPause');\r\n        })\r\n      },\r\n      registeronResume() {\r\n        uni.showToast({\r\n          title: 'already registeronStop'\r\n        })\r\n        this.recorderManager?.onResume(() => {\r\n          console.log('recorder onResume');\r\n        })\r\n      },\r\n      registeronOnFrameRecorded() {\r\n        uni.showToast({\r\n          title: 'already registeronOnFrameRecorded'\r\n        })\r\n        this.recorderManager?.onFrameRecorded((res) => {\r\n          console.log('recorder onFrameRecorded----', res);\r\n        })\r\n      },\r\n      registeronInterruptionBegin() {\r\n        uni.showToast({\r\n          title: 'already registeronInterruptionBegin'\r\n        })\r\n        this.recorderManager?.onInterruptionBegin(() => {\r\n          console.log('recorder onInterruptionBegin');\r\n        })\r\n      },\r\n      registeronInterruptionEnd() {\r\n        uni.showToast({\r\n          title: 'already registeronInterruptionEnd'\r\n        })\r\n        this.recorderManager?.onInterruptionBegin(() => {\r\n          console.log('recorder registeronInterruptionEnd');\r\n        })\r\n      },\r\n      pauseRecord() {\r\n        console.log('recorder pause');\r\n        this.recorderManager?.pause()\r\n        if (this.recording) {\r\n          this.disableStartBtn = false\r\n          this.disablePauseBtn = true\r\n          this.disableResumeBtn = false\r\n        }\r\n        clearInterval(this.recordTimeInterval)\r\n      },\r\n      resumeRecord() {\r\n        console.log('recorder resume ', this.recorderManager);\r\n        this.recorderManager?.resume()\r\n        this.recorderManager?.onResume(() => {\r\n          console.log('recorder onResume');\r\n        })\r\n        if (this.recording) {\r\n          this.disableStartBtn = false\r\n          this.disablePauseBtn = false\r\n          this.disableResumeBtn = true\r\n          this.recordTimeInterval = setInterval(() => {\r\n            this.recordTime += 1;\r\n            this.formatedRecordTime = this.formatTime(this.recordTime);\r\n          }, 1000)\r\n        }\r\n      },\r\n      formatTime(time : number) : string {\r\n        if (typeof time !== 'number' || time < 0) {\r\n          return time.toString()\r\n        }\r\n\r\n        var hour = parseInt((time / 3600).toString())\r\n        time = time % 3600\r\n        var minute = parseInt((time / 60).toString())\r\n        time = time % 60\r\n        var second = time\r\n        return [hour, minute, second].map((n : number) => {\r\n          let str = n.toString();\r\n          return str.length > 1 ? str : \"0\" + str;\r\n        }).join(\":\");\r\n\r\n      },\r\n      startRecord() { //开始录音\r\n        if (this.recording) {\r\n          uni.showToast({\r\n            title: this.disablePauseBtn ? \"当前是录音暂停状态\" : \"当前正在录音\"\r\n          })\r\n          return\r\n        }\r\n\r\n        console.log('startRecord', this.items[this.current].value)\r\n        // TODO ios 在没有请求过权限之前无法得知是否有相关权限，这种状态下需要直接调用录音，但没有状态或回调判断用户拒绝\r\n        this.recorderManager?.start({\r\n          format: this.items[this.current].value,\r\n          sampleRate: 8000,\r\n          numberOfChannels: 2,\r\n          encodeBitRate: 48000,\r\n          frameSize: 2\r\n        });\r\n      },\r\n      stopRecord() { //停止录音\r\n        this.recorderManager?.stop();\r\n        this.disableStartBtn = false\r\n        this.disablePauseBtn = false\r\n        this.disableResumeBtn = false\r\n      },\r\n      playVoice() {\r\n        if (this.recording) {\r\n          uni.showToast({\r\n            title: \"当前录音还未结束\"\r\n          })\r\n          return\r\n        }\r\n        console.log('play voice');\r\n        if (this.playing) {\r\n          return\r\n        }\r\n        this.playing = true;\r\n        this.playTimeInterval = setInterval(() => {\r\n          if (this.playTime < this.recordTime) {\r\n            this.playTime += 1;\r\n          }\r\n          this.formatedRecordTime = this.formatTime(this.playTime);\r\n        }, 1000)\r\n        this.music?.play();\r\n      },\r\n      stopVoice() {\r\n        if (this.recording) {\r\n          uni.showToast({\r\n            title: \"当前录音还未结束\"\r\n          })\r\n          return\r\n        }\r\n        clearInterval(this.playTimeInterval)\r\n        this.playing = false;\r\n        this.formatedRecordTime = this.formatTime(0);\r\n        this.playTime = 0;\r\n        this.music?.stop();\r\n      },\r\n      end() {\r\n        this.music?.stop();\r\n        this.recorderManager?.stop();\r\n        clearInterval(this.recordTimeInterval)\r\n        clearInterval(this.playTimeInterval);\r\n        this.recording = false\r\n        this.playing = false\r\n        this.hasRecord = false;\r\n        this.playTime = 0\r\n        this.recordTime = 0;\r\n        this.formatedRecordTime = \"00:00:00\"\r\n        this.formatedRecordTime = \"00:00:00\";\r\n      },\r\n      clear() {\r\n        this.end();\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .page-body-time {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n  }\r\n\r\n  .time-big {\r\n    font-size: 60rpx;\r\n    margin: 20rpx;\r\n  }\r\n\r\n  .btnstyle {\r\n    margin-left: 30px;\r\n    margin-right: 30px;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .uni-list {\r\n    border-bottom: 0px;\r\n    background-color: transparent;\r\n    margin-left: 30px;\r\n    margin-right: 30px;\r\n    margin-top: 10px;\r\n    margin-bottom: 10px;\r\n  }\r\n</style>\n\n```\n:::"},"getFileSystemManager":{"name":"## uni.getFileSystemManager() @getfilesystemmanager","description":"获取文件管理器","compatibility":"### getFileSystemManager 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [FileSystemManager](#filesystemmanager-values) |\n\n#### FileSystemManager 的方法 @filesystemmanager-values \n\n#### access(options: AccessOptions): void; @access\n判断文件/目录是否存在\n##### access 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **AccessOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| path | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要判断是否存在的文件/目录路径 (本地路径) |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 通用的正确返回结果回调 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 通用的错误返回结果回调 |\n@| complete | (res: any) => void | 否 | - | - | 通用的结束返回结果回调 | \n\n###### IFileSystemManagerFail 的属性值 @ifilesystemmanagerfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1200002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.61\",\"4.61\"]]}' /> | 类型错误。仅支持 base64 / utf-8 / ascii |\n@| 1300002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.11\",\"4.61\"]]}' /> | 未找到文件 |\n@| 1300009 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.13\",\"4.61\",\"4.61\"]]}' /> | 文件描述符错误 |\n@| 1300010 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 重试 |\n@| 1300011 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"4.61\",\"4.61\"]]}' /> | 错误的地址 |\n@| 1300012 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 操作阻塞 |\n@| 1300013 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.11\",\"4.61\"]]}' /> | 无权限 |\n@| 1300014 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 网络不可达 |\n@| 1300015 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"4.61\",\"4.61\"]]}' /> | 未知错误 |\n@| 1300016 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"4.61\",\"4.61\"]]}' /> | 不是文件夹 |\n@| 1300017 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"4.61\",\"4.61\"]]}' /> | 文本文件繁忙 |\n@| 1300018 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"4.61\",\"4.61\"]]}' /> | 文件太大 |\n@| 1300019 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"4.61\",\"4.61\"]]}' /> | 只读文件系统 |\n@| 1300020 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"4.61\",\"4.61\"]]}' /> | 文件名称太长 |\n@| 1300021 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.61\",\"4.61\"]]}' /> | 是目录 |\n@| 1300022 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.11\",\"4.61\"]]}' /> | 参数无效 |\n@| 1300033 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"x\",\"4.61\"]]}' /> | 过多符号链接 |\n@| 1300066 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.11\",\"4.61\"]]}' /> | 目录非空 |\n@| 1300201 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.11\",\"4.61\"]]}' /> | 系统错误 |\n@| 1300202 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.61\",\"4.61\"]]}' /> | 超出文件存储限制的最大尺寸 |\n@| 1301003 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.61\",\"4.61\"]]}' /> | 对目录的非法操作 |\n@| 1301005 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"√\",\"4.11\",\"4.61\"]]}' /> | 文件已存在 |\n@| 1301111 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.13\",\"x\",\"4.61\"]]}' /> | brotli解压失败 |\n@| 1302003 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.13\",\"4.61\",\"4.61\"]]}' /> | 标志无效 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### accessSync(path: string): void; @accesssync\nFileSystemManager.access 的同步版本\n##### accessSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| path | string | 是 | - | - | 要判断是否存在的文件/目录路径 (本地路径) | \n\n\n#### appendFile(options: AppendFileOptions): void; @appendfile\n在文件结尾追加内容\n##### appendFile 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **AppendFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要追加内容的文件路径 (本地路径) |\n@| encoding | string | 否 | - | - | 指定写入文件的字符编码<br/>支持:ascii base64 utf-8<br/>只在 data 类型是 String 时有效 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ascii | - | ascii字符编码 |\n@@| base64 | - | base64字符编码 |\n@@| utf-8 | - | utf-8字符编码，默认值 |\n@| data | string \\\\| [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"x\",\"4.61\"]]}' /> | 要追加的文本或二进制数据，类型为 String 或 ArrayBuffer，以前类型是string，iOS平台4.61、Android平台4.31及以后支持arraybuffer |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### appendFileSync(filePath: string, data: string \\| ArrayBuffer, encoding?: string): void; @appendfilesync\nFileSystemManager.appendFile 的同步版本\n##### appendFileSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| filePath | string | 是 | - | - | 要追加内容的文件路径 (本地路径) |\n| data | string \\\\| [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | - | 要追加的文本或二进制数据,类型为 String 或 ArrayBuffer，Android平台4.31、iOS平台4.61之前前类型是string，Android平台4.31、iOS平台4.61起支持ArrayBuffer |\n| encoding | string | 否 | - | - | 指定写入文件的字符编码支持:ascii base64 utf-8,只在 data 类型是 String 时有效 | \n\n\n#### close(options: CloseOptions): void; @close\n关闭文件\n##### close 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CloseOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| fd | string | 是 | - | - | 需要被关闭的文件描述符。fd 通过 FileSystemManager.open 或 FileSystemManager.openSync 接口获得 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### closeSync(options: CloseSyncOptions): void; @closesync\n同步关闭文件\n##### closeSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CloseSyncOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| fd | string | 是 | - | - | 需要被关闭的文件描述符。fd 通过 FileSystemManager.open 或 FileSystemManager.openSync 接口获得 | \n\n\n#### copyFile(options: CopyFileOptions): void; @copyfile\n复制文件\n##### copyFile 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CopyFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| srcPath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 源文件路径，支持本地路径 |\n@| destPath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 新文件路径，支持本地路径 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### copyFileSync(srcPath: string, destPath: string): void; @copyfilesync\nFileSystemManager.copyFile 的同步版本\n##### copyFileSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| srcPath | string | 是 | - | - | 源文件路径，支持本地路径 |\n| destPath | string | 是 | - | - | 新文件路径，支持本地路径 | \n\n\n#### fstat(options: FStatOptions): void; @fstat\n获取文件的状态信息\n##### fstat 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **FStatOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| fd | string | 是 | - | - | 文件描述符。fd 通过 FileSystemManager.open 或 FileSystemManager.openSync 接口获得 |\n@| success | (res: [FStatSuccessResult](#fstatsuccessresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### FStatSuccessResult 的属性值 @fstatsuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| stats | [Stats](#stats-values) | 是 | - | - | Stats 对象，包含了文件的状态信息 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| mode | number | 是 | - | - | 文件的类型和存取的权限，对应 POSIX stat.st_mode<br/>注意android中，文件类型只包含是否是目录与文件，<br/>另外在android中这里的权限指的是当前进程对文件或者文件夹是否有读，写，执行的权限，<br/>这里没有与 POSIX stat.st_mode对应的组，其他人等相关权限的数据返回,只有所有者的相关权限 |\n@| size | number | 是 | - | - | 文件大小，单位：B，对应 POSIX stat.st_size |\n@| lastAccessedTime | number | 是 | - | - | 文件最近一次被存取或被执行的时间，UNIX 时间戳，对应 POSIX stat.st_atime<br/>注意：android中由于系统限制无法获取该数据 |\n@| lastModifiedTime | number | 是 | - | - | 文件最后一次被修改的时间，UNIX 时间戳，对应 POSIX stat.st_mtime |\n\n###### Stats 的方法 @stats-values \n\n###### isDirectory(): boolean; @isdirectory\n判断当前文件是否一个目录\n###### isDirectory 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.31 | 4.11 | 4.61 |\n\n\n###### 返回值 \n\n| 类型 |\n| :- |\n| boolean |\n \n\n###### isFile: isDirectory(): boolean; @isfile\n判断当前文件是否一个普通文件\n###### isFile 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.31 | 4.11 | 4.61 |\n\n\n###### 返回值 \n\n| 类型 |\n| :- |\n| boolean |\n \n\n\n#### fstatSync(options: FStatSyncOptions): Stats; @fstatsync\n同步获取文件的状态信息\n##### fstatSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **FStatSyncOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| fd | string | 是 | - | - | 文件描述符。fd 通过 FileSystemManager.open 或 FileSystemManager.openSync 接口获得 | \n\n##### 返回值 \n\n| 类型 | 描述 |\n| :- | :- |\n| [Stats](#stats-values) | Stats 对象，即描述文件状态的对象 |\n \n\n#### ftruncate(options: FTruncateFileOptions): void; @ftruncate\n对文件内容进行截断操作\n##### ftruncate 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **FTruncateFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| fd | string | 是 | - | - | 文件描述符。fd 通过 FileSystemManager.open 或 FileSystemManager.openSync 接口获得 |\n@| length | number | 是 | - | - | 截断位置，默认0。如果 length 小于文件长度（字节），则只有前面 length 个字节会保留在文件中，其余内容会被删除；<br/>如果 length 大于文件长度，不做处理 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### ftruncateSync(options: FTruncateFileSyncOptions): void; @ftruncatesync\n同步对文件内容进行截断操作\n##### ftruncateSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **FTruncateFileSyncOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| fd | string | 是 | - | - | 文件描述符。fd 通过 FileSystemManager.open 或 FileSystemManager.openSync 接口获得 |\n@| length | number | 是 | - | - | 截断位置，默认0。如果 length 小于文件长度（字节），则只有前面 length 个字节会保留在文件中，其余内容会被删除；<br/>如果 length 大于文件长度，不做处理 | \n\n\n#### getFileInfo(options: GetFileInfoOptions): void; @getfileinfo\n获取该本地临时文件 或 本地缓存文件 信息\n##### getFileInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetFileInfoOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要读取的文件路径 (本地路径) |\n@| digestAlgorithm | string | 否 | - | - | 计算文件摘要的算法 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| md5 | - | md5 算法 |\n@@| sha1 | - | sha1 算法 |\n@| success | (res: [GetFileInfoSuccessResult](#getfileinfosuccessresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### GetFileInfoSuccessResult 的属性值 @getfileinfosuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| digest | string | 是 | - | - | 按照传入的 digestAlgorithm 计算得出的的文件摘要 |\n| size | number | 是 | - | - | 文件大小，以字节为单位 |\n\n\n#### getSavedFileList(options: GetSavedFileListOptions): void; @getsavedfilelist\n获取该已保存的本地缓存文件列表\n##### getSavedFileList 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetSavedFileListOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [GetSavedFileListResult](#getsavedfilelistresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### GetSavedFileListResult 的属性值 @getsavedfilelistresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| fileList | Array&lt;string&gt; | 是 | - | - | 文件数组 |\n\n\n#### mkdir(options: MkDirOptions): void; @mkdir\n创建目录\n##### mkdir 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MkDirOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| dirPath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 创建的目录路径 (本地路径) |\n@| recursive | boolean | 是 | - | - | 是否在递归创建该目录的上级目录后再创建该目录。如果对应的上级目录已经存在，则不创建该上级目录。如 dirPath 为 a/b/c/d 且 recursive 为 true，将创建 a 目录，再在 a 目录下创建 b 目录，以此类推直至创建 a/b/c 目录下的 d 目录。 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### mkdirSync(dirPath: string, recursive: boolean): void; @mkdirsync\nFileSystemManager.mkdir 的同步版本\n##### mkdirSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| dirPath | string | 是 | - | - | 创建的目录路径 (本地路径) |\n| recursive | boolean | 是 | - | - | 是否在递归创建该目录的上级目录后再创建该目录。如果对应的上级目录已经存在，则不创建该上级目录。如 dirPath 为 a/b/c/d 且 recursive 为 true，将创建 a 目录，再在 a 目录下创建 b 目录，以此类推直至创建 a/b/c 目录下的 d 目录。 | \n\n\n#### open(options: OpenFileOptions): void; @open\n打开文件，返回文件描述符\n##### open 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **OpenFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要追加内容的文件路径 (本地路径) |\n@| flag | string | 是 | - | - | 文件系统标志，默认值: 'r' |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| a | - | 打开文件用于追加。 如果文件不存在，则创建该文件 |\n@@| ax | - | 类似于 'a'，但如果路径存在，则失败 |\n@@| a+ | - | 打开文件用于读取和追加。 如果文件不存在，则创建该文件 |\n@@| ax+ | - | 类似于 'a+'，但如果路径存在，则失败 |\n@@| r | - | 打开文件用于读取。 如果文件不存在，则会发生异常 |\n@@| r+ | - | 打开文件用于读取和写入。 如果文件不存在，则会发生异常 |\n@@| w | - | 打开文件用于写入。 如果文件不存在则创建文件，如果文件存在则截断文件 |\n@@| wx | - | 类似于 'w'，但如果路径存在，则失败 |\n@@| w+ | - | 打开文件用于读取和写入。 如果文件不存在则创建文件，如果文件存在则截断文件 |\n@@| wx+ | - | 类似于 'w+'，但如果路径存在，则失败 |\n@| success | (res: [OpenFileSuccessResult](#openfilesuccessresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### OpenFileSuccessResult 的属性值 @openfilesuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| fd | string | 是 | - | - | 文件描述符 |\n\n\n#### openSync(options: OpenFileSyncOptions): string; @opensync\n同步打开文件，返回文件描述符\n##### openSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **OpenFileSyncOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要追加内容的文件路径 (本地路径) |\n@| flag | string | 是 | - | - | 文件系统标志，默认值: 'r' |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| a | - | 打开文件用于追加。 如果文件不存在，则创建该文件 |\n@@| ax | - | 类似于 'a'，但如果路径存在，则失败 |\n@@| a+ | - | 打开文件用于读取和追加。 如果文件不存在，则创建该文件 |\n@@| ax+ | - | 类似于 'a+'，但如果路径存在，则失败 |\n@@| r | - | 打开文件用于读取。 如果文件不存在，则会发生异常 |\n@@| r+ | - | 打开文件用于读取和写入。 如果文件不存在，则会发生异常 |\n@@| w | - | 打开文件用于写入。 如果文件不存在则创建文件，如果文件存在则截断文件 |\n@@| wx | - | 类似于 'w'，但如果路径存在，则失败 |\n@@| w+ | - | 打开文件用于读取和写入。 如果文件不存在则创建文件，如果文件存在则截断文件 |\n@@| wx+ | - | 类似于 'w+'，但如果路径存在，则失败 | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| string |\n \n\n#### readFile(options: ReadFileOptions): void; @readfile\n读取本地文件内容\n##### readFile 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ReadFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| encoding | string | 否 | - | - | base64 / utf-8 / ascii,指定读取文件的字符编码，(iOS平台4.61及以后、Android平台4.31及以后)如果不传 encoding，则以 ArrayBuffer 格式读取文件的二进制内容 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ascii | - | ascii 字符编码 |\n@@| base64 | - | base64 字符编码 |\n@@| utf-8 | - | utf-8 字符编码，默认值 |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 文件路径，支持相对地址和绝对地址，app-android平台支持代码包文件目录 |\n@| success | (res: [ReadFileSuccessResult](#readfilesuccessresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### ReadFileSuccessResult 的属性值 @readfilesuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| data | string \\\\| [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.11\",\"4.61\"]]}' /> | 读取的内容，类型为 String 或 ArrayBuffer，在4.31以前类型是string，Android平台4.31、iOS平台4.61起支持ArrayBuffer |\n\n\n#### readFileSync(filePath: string, encoding?: string): string \\| ArrayBuffer; @readfilesync\nFileSystemManager.readFile 的同步版本参数\n##### readFileSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| filePath | string | 是 | - | - | 文件路径，支持相对地址和绝对地址，app-android平台支持代码包文件目录 |\n| encoding | string | 否 | - | - | base64 / utf-8,指定读取文件的字符编码，(iOS平台4.61及以后、Android平台4.31及以后)如果不传 encoding，则以 ArrayBuffer 格式读取文件的二进制内容 | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| string \\\\| [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) |\n \n\n#### read(option: ReadOption): void; @read\n读文件\n##### read 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.31 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **ReadOption** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| arrayBuffer | [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | - | 数据写入的缓冲区，必须是 ArrayBuffer 实例 |\n@| fd | string | 是 | - | - | 文件描述符。fd 通过 FileSystemManager.open 或 FileSystemManager.openSync 接口获得 |\n@| length | number | 否 | - | - | 要从文件中读取的字节数，默认0 |\n@| offset | number | 否 | - | - | 缓冲区中的写入偏移量，默认0 |\n@| position | number | 否 | - | - | 文件读取的起始位置，如不传或传 null，则会从当前文件指针的位置读取。如果 position 是正整数，则文件指针位置会保持不变并从 position 读取文件。 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| success | (result: [ReadSuccessCallbackResult](#readsuccesscallbackresult-values)) => void | 否 | - | - | 接口调用成功的回调函数 | \n\n###### ReadSuccessCallbackResult 的属性值 @readsuccesscallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| arrayBuffer | [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.61\",\"4.61\"]]}' /> | 被写入的缓存区的对象，即接口入参的 arrayBuffer |\n| bytesRead | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.61\",\"4.61\"]]}' /> | 实际读取的字节数 |\n\n\n#### readSync(option: ReadSyncOption): ReadResult; @readsync\n读文件\n##### readSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.31 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **ReadSyncOption** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| arrayBuffer | [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.61\",\"4.61\"]]}' /> | 数据写入的缓冲区，必须是 ArrayBuffer 实例 |\n@| fd | string | 是 | - | - | 文件描述符。fd 通过 [FileSystemManager.open](https://developers.weixin.qq.com/miniprogram/dev/api/file/FileSystemManager.open.html) 或 [FileSystemManager.openSync](https://developers.weixin.qq.com/miniprogram/dev/api/file/FileSystemManager.openSync.html) 接口获得 |\n@| length | number | 否 | - | - | 要从文件中读取的字节数，默认0 |\n@| offset | number | 否 | - | - | 缓冲区中的写入偏移量，默认0 |\n@| position | number | 否 | - | - | 文件读取的起始位置，如不传或传 null，则会从当前文件指针的位置读取。如果 position 是正整数，则文件指针位置会保持不变并从 position 读取文件。 | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| **ReadResult** |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| arrayBuffer | [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.61\",\"4.61\"]]}' /> | 被写入的缓存区的对象，即接口入参的 arrayBuffer |\n@| bytesRead | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.61\",\"4.61\"]]}' /> | 实际读取的字节数 | \n\n#### readdir(options: ReadDirOptions): void; @readdir\n读取目录内文件列表\n##### readdir 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ReadDirOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| dirPath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要读取的目录路径 (本地路径) |\n@| success | (res: [ReadDirSuccessResult](#readdirsuccessresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### ReadDirSuccessResult 的属性值 @readdirsuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| files | Array&lt;string&gt; | 是 | - | - | - |\n\n\n#### readdirSync(dirPath: string): string[] \\| null; @readdirsync\nFileSystemManager.readdir 的同步版本\n##### readdirSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| dirPath | string | 是 | - | - | 要读取的目录路径 (本地路径) | \n\n##### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| Array&lt;string&gt; | 否 |\n \n\n#### readZipEntry(options: ReadZipEntryOptions): void; @readzipentry\n读取压缩包内的文件\n##### readZipEntry 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ReadZipEntryOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要读取的压缩包的路径 (本地路径)，app-android平台支持代码包文件目录 |\n@| encoding | string | 否 | - | - | 统一指定读取文件的字符编码，只在 entries 值为\"all\"时有效。<br/>4.31及以后版本如果 entries 值为 null 且不传 encoding，则以 ArrayBuffer 格式读取文件的二进制内容 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ascii | - | ascii 字符编码 |\n@@| base64 | - | base64 字符编码 |\n@@| utf-8 | - | utf-8 字符编码，默认值 |\n@| entries | Array&lt;**EntryItem**&gt; | 否 | - | - | 要读取的压缩包内的文件列表（当不传入时表示读取压缩包内所有文件） |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| path | string | 是 | - | - | 压缩包内文件路径 |\n@@| encoding | string | 否 | - | - | 指定写入文件的字符编码<br/>支持:ascii base64 utf-8;4.31及以后版本如果不传 encoding，则以 ArrayBuffer 格式读取文件的二进制内容 |\n@@@| 合法值 | 兼容性 | 描述 |\n@@@| :- |  :-: | :- |\n@@@| ascii | - | ascii 字符编码 |\n@@@| base64 | - | base64 字符编码 |\n@@@| utf-8 | - | utf-8 字符编码，默认值 |\n@| success | (res: [EntriesResult](#entriesresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### EntriesResult 的属性值 @entriesresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| entries | Map\\<string, ZipFileItem> | 是 | - | - | 文件路径 |\n| ~~result~~ | Map\\<string, ZipFileItem> | 是 | - | - |   **已废弃，使用 entries** |\n\n\n#### rmdir(options: RmDirOptions): void; @rmdir\n删除目录\n##### rmdir 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RmDirOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| dirPath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要删除的目录路径 (本地路径) |\n@| recursive | boolean | 是 | - | - | 是否递归删除目录。如果为 true，则删除该目录和该目录下的所有子目录以及文件。 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### rmdirSync(dirPath: string, recursive: boolean): void; @rmdirsync\nFileSystemManager.rmdir 的同步版本\n##### rmdirSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| dirPath | string | 是 | - | - | 要删除的目录路径 (本地路径) |\n| recursive | boolean | 是 | - | - | 是否递归删除目录。如果为 true，则删除该目录和该目录下的所有子目录以及文件。 | \n\n\n#### rename(options: RenameOptions): void; @rename\n重命名文件。可以把文件从 oldPath 移动到 newPath\n##### rename 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RenameOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| oldPath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 源文件路径，支持本地路径 |\n@| newPath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 新文件路径，支持本地路径 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### renameSync(oldPath: string, newPath: string): void; @renamesync\nFileSystemManager.rename 的同步版本\n##### renameSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| oldPath | string | 是 | - | - | 源文件路径，支持本地路径 |\n| newPath | string | 是 | - | - | 新文件路径，支持本地路径 | \n\n\n#### removeSavedFile(options: RemoveSavedFileOptions): void; @removesavedfile\n删除该小程序下已保存的本地缓存文件\n##### removeSavedFile 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RemoveSavedFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 需要删除的文件路径 (本地路径) |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### readCompressedFile(options: ReadCompressedFileOptions): void; @readcompressedfile\n读取指定压缩类型的本地文件内容\n##### readCompressedFile 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ReadCompressedFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要读取的文件的路径 (本地用户文件或代码包文件)，app-android平台支持代码包文件目录 |\n@| compressionAlgorithm | string | 是 | - | - | 文件压缩类型，目前仅支持 'br'。 |\n@| success | (res: [ReadCompressedFileResult](#readcompressedfileresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### ReadCompressedFileResult 的属性值 @readcompressedfileresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| data | string | 是 | - | - | - |\n\n\n#### readCompressedFileSync(filePath: string, compressionAlgorithm: string): string @readcompressedfilesync\n同步读取指定压缩类型的本地文件内容\n##### readCompressedFileSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| filePath | string | 是 | - | - | 要读取的文件的路径 (本地用户文件或代码包文件)，app-android平台支持代码包文件目录 |\n| compressionAlgorithm | string | 是 | - | - | 文件压缩类型，目前仅支持 'br'。 | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| string |\n \n\n#### saveFile(options: SaveFileOptions): void; @savefile\n保存临时文件到本地。此接口会移动临时文件，因此调用成功后，tempFilePath 将不可用。\n##### saveFile 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SaveFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| tempFilePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 临时存储文件路径 (本地路径) |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 否 | - | - | 要存储的文件路径 (本地路径) |\n@| success | (res: [SaveFileSuccessResult](#savefilesuccessresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### SaveFileSuccessResult 的属性值 @savefilesuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| savedFilePath | string | 是 | - | - | 存储后的文件路径 (本地路径) |\n\n\n#### saveFileSync(tempFilePath: string, filePath: string \\| null): string; @savefilesync\nFileSystemManager.saveFile 的同步版本\n##### saveFileSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempFilePath | string | 是 | - | - | 临时存储文件路径 (本地路径) |\n| filePath | string | 否 | - | - | 要存储的文件路径 (本地路径) | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| string |\n \n\n#### stat(options: StatOptions): void; @stat\n获取文件 Stats 对象\n##### stat 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **StatOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| path | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 文件/目录路径 (本地路径) |\n@| recursive | boolean | 是 | - | - | 是否递归获取目录下的每个文件的 Stats 信息 |\n@| success | (res: [StatSuccessResult](#statsuccessresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### StatSuccessResult 的属性值 @statsuccessresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| stats | Array&lt;**FileStats**&gt; | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| path | string | 是 | - | - | 文件/目录路径 |\n@| stats | [Stats](#stats-values) | 是 | - | - | Stats 对象，即描述文件状态的对象 |\n\n\n#### statSync(path : string, recursive : boolean) : Array\\<Map\\<string, any>>; @statsync\nFileSystemManager.stat 的同步版本\n##### statSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| path | string | 是 | - | - | 文件/目录路径 (本地路径) |\n| recursive | boolean | 是 | - | - | 是否递归获取目录下的每个文件的 Stats 信息 | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;Map\\<string, any>&gt; |\n \n\n#### truncate(options: TruncateFileOptions): void; @truncate\n对文件内容进行截断操作\n##### truncate 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **TruncateFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 要截断的文件路径 (本地路径) |\n@| length | number | 是 | - | - | 截断位置，默认0。如果 length 小于文件长度（字节），则只有前面 length 个字节会保留在文件中，其余内容会被删除；<br/>如果 length 大于文件长度，不做处理 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### truncateSync(filePath: string, length?: number): void; @truncatesync\n对文件内容进行截断操作 (truncate 的同步版本)\n##### truncateSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| filePath | string | 是 | - | - | 要截断的文件路径 (本地路径) |\n| length | number | 否 | - | - | 截断位置，默认0。如果 length 小于文件长度（字节），则只有前面 length 个字节会保留在文件中，其余内容会被删除；如果 length 大于文件长度，不做处理 | \n\n\n#### unlink(options: UnLinkOptions): void; @unlink\n删除文件\n##### unlink 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **UnLinkOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 文件路径，只支持绝对地址 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### unlinkSync(filePath: string): void; @unlinksync\nFileSystemManager.unlink 的同步版本\n##### unlinkSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| filePath | string | 是 | - | - | 文件路径，只支持绝对地址 | \n\n\n#### unzip(options: UnzipFileOptions): void; @unzip\n解压文件\n##### unzip 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **UnzipFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| zipFilePath | string | 是 | - | - | 源文件路径，支持本地路径, 只可以是 zip 压缩文件 |\n@| targetPath | string | 是 | - | - | 目标目录路径, 支持本地路径 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### writeFile(options: WriteFileOptions): void; @writefile\n写文件\n##### writeFile 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **WriteFileOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | [string.URIString](/uts/data-type.md#ide-string) | 是 | - | - | 文件路径，只支持绝对地址 |\n@| encoding | string | 否 | - | - | 指定写入文件的字符编码,<br/>支持:ascii base64 utf-8，默认值是 utf-8，仅在 data 类型是 String 时有效 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ascii | - | ascii 编码格式 |\n@@| base64 | - | base64 编码格式 |\n@@| utf-8 | - | utf-8 编码格式，默认值 |\n@| data | string \\\\| [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.11\",\"4.61\"]]}' /> | 写入的内容，类型为 String 或 ArrayBuffer，之前类型是string，iOS平台4.61及以后、Android平台4.31及以后支持ArrayBuffer类型 |\n@| success | (res: FileManagerSuccessResult) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### writeFileSync(filePath: string, data: string \\| ArrayBuffer, encoding?: string): void; @writefilesync\nFileSystemManager.writeFile 的同步版本\n##### writeFileSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.51 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| filePath | string | 是 | - | - | 文件路径，只支持绝对地址 |\n| data | string \\\\| [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | - | 要写入的文本或二进制数据,Android平台4.31、iOS平台4.61及以后版本支持ArrayBuffer |\n| encoding | string | 否 | - | - | 指定写入文件的字符编码,支持:ascii base64 utf-8, 默认值是utf-8, 仅在 data 类型是 String 时有效 | \n\n\n#### write(options: WriteOptions): void; @write\n写入文件\n##### write 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **WriteOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| fd | string | 是 | - | - | 文件描述符。fd 通过 FileSystemManager.open 或 FileSystemManager.openSync 接口获得 |\n@| data | string \\\\| [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | - | 写入的内容，类型为 String 或 ArrayBuffer，以前类型是string，iOS平台4.61、Android平台4.31及以后支持ArrayBuffer |\n@| offset | number | 否 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.61\",\"4.61\"]]}' /> | Android平台4.31及以后版本新增，只在 data 类型是 ArrayBuffer 时有效，决定 ArrayBuffer 中要被写入的部位，即 ArrayBuffer 中的索引，默认0 |\n@| length | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.61\",\"4.61\"]]}' /> | Android平台4.31及以后版本新增，只在 data 类型是 ArrayBuffer 时有效，指定要写入的字节数，默认为 ArrayBuffer 从0开始偏移 offset 个字节后剩余的字节数 |\n@| position | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"x\",\"4.61\"]]}' /> | Andorid平台4.31及以后版本新增，指定文件开头的偏移量，即数据要被写入的位置。当 position 不传或者传入非 Number 类型的值时，数据会被写入当前指针所在位置。 |\n@| encoding | string | 否 | - | - | 只在 data 类型是 String 时有效，指定写入文件的字符编码，默认为 utf8<br/>支持:ascii base64 utf-8 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ascii | - | ascii 字符编码 |\n@@| base64 | - | base64 字符编码 |\n@@| utf-8 | - | utf-8 字符编码，默认值 |\n@| success | (res: [WriteResult](#writeresult-values)) => void | 否 | - | - | 接口调用的回调函数 |\n@| fail | (res: [IFileSystemManagerFail](#ifilesystemmanagerfail-values)) => void | 否 | - | - | 接口调用失败的回调函数 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### WriteResult 的属性值 @writeresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| bytesWritten | number | 是 | - | - | 实际被写入到文件中的字节数（注意，被写入的字节数不一定与被写入的字符串字符数相同） |\n\n\n#### writeSync(options: WriteSyncOptions): WriteResult; @writesync\n同步写入文件\n##### writeSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | 4.41 | 4.13 | 4.61 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **WriteSyncOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| fd | string | 是 | - | - | 文件描述符。fd 通过 FileSystemManager.open 或 FileSystemManager.openSync 接口获得 |\n@| data | string \\\\| [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"4.61\",\"4.61\"]]}' /> | 写入的内容，类型为 String 或 ArrayBuffer，以前类型是string，Android平台4.31、iOS平台4.61起支持ArrayBuffer类型 |\n@| encoding | string | 否 | - | - | 只在 data 类型是 String 时有效，指定写入文件的字符编码，默认为 utf8<br/>支持:ascii base64 utf-8 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| ascii | - | ascii 字符编码 |\n@@| base64 | - | base64 字符编码 |\n@@| utf-8 | - | utf-8 字符编码，默认值 |\n@| length | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"x\",\"4.61\"]]}' /> | 只在 data 类型是 ArrayBuffer 时有效，指定要写入的字节数，默认为 arrayBuffer 从0开始偏移 offset 个字节后剩余的字节数 ，4.31及以后版本新增 |\n@| offset | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"x\",\"4.61\"]]}' /> | 只在 data 类型是 ArrayBuffer 时有效，决定 arrayBuffe 中要被写入的部位，即 arrayBuffer 中的索引，默认0，4.31及以后版本新增 |\n@| position | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.31\",\"x\",\"4.61\"]]}' /> | 指定文件开头的偏移量，即数据要被写入的位置。当 position 不传或者传入非 Number 类型的值时，数据会被写入当前指针所在位置。4.31及以后版本新增 | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| [WriteResult](#writeresult-values) |\n \n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.file.getFileSystemManager)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/file/FileSystemManager.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getFileSystemManager&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getFileSystemManager&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getFileSystemManager&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getFileSystemManager&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getFileSystemManager)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getFileSystemManager&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-file-system-manager/get-file-system-manager.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <text>显示简易操作日志(可滚动查看),详细日志需真机运行查看</text><button size=\"mini\" @click=\"log=''\">清空日志</button>\r\n  <scroll-view style=\"max-height: 300px;\">\r\n    <text style=\"margin: 2px; padding: 2px; border: 1px solid #000000;\">{{ log }}</text>\r\n  </scroll-view>\r\n  <scroll-view style=\"flex: 1;\">\r\n  <!-- #endif -->\r\n    <!-- #ifdef MP -->\r\n    <text style=\"margin: 2px; padding: 2px; border: 1px solid #000000;\">{{ log }}</text>\r\n    <!-- #endif -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"statFileInfoTest\"\r\n      id=\"btn-stat-file\">递归获取目录files的Stats对象{{statFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"mkdirTest\" id=\"btn-mkdir\">创建文件夹{{mkdirFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"writeFileTest\" id=\"btn-write-file\">覆盖写入文件{{writeFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"readDirTest\" id=\"btn-read-dir\">读取文件夹{{readDir}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"readFileTest\" id=\"btn-read-file\">读取文件{{readFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"copyFileTest\"\r\n      id=\"btn-copy-file\">复制文件{{copyFromFile}}到{{copyToFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"renameFileTest\"\r\n      id=\"btn-rename-file\">重命名文件{{renameFromFile}}到{{renameToFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"accessFileTest\" id=\"btn-access-file\">判断文件{{accessFile}}是否存在</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"getFileInfoTest\"\r\n      id=\"btn-get-file-info\">获取文件信息{{getFileInfoFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"unlinkTest\" id=\"btn-unlink-file\">删除文件{{unlinkFile}}</button>\r\n    <!-- #ifdef APP -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"copyStaticToFilesTest\"\r\n      id=\"btn-copyStatic-file\">从static目录复制文件到a目录</button>\r\n    <!-- #endif -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"unlinkAllFileTest\"\r\n      id=\"btn-clear-file\">删除文件夹{{rmDirFile}}下的所有文件</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"rmdirTest\" id=\"btn-remove-dir\">删除文件夹{{rmDirFile}}</button>\r\n\r\n\r\n    <!-- #ifdef APP || MP -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"statFileInfoSyncTest\"\r\n      id=\"btn-stat-file-sync\">同步递归获取目录files的Stats对象{{statFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"appendFileTest\" id=\"btn-append-file\">在文件{{readFile}}结尾追加内容</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"appendFileSyncTest\"\r\n      id=\"btn-append-file-sync\">同步在文件{{readFile}}结尾追加内容</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"writeFileSyncTest\"\r\n      id=\"btn-write-file-sync\">同步覆盖写入文件{{writeFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"readFileSyncTest\" id=\"btn-read-file-sync\">同步读取文件{{readFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"unlinkSyncTest\"\r\n      id=\"btn-unlink-file-sync\">同步删除文件{{unlinkFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"mkdirSyncTest\" id=\"btn-mkdir-sync\">同步创建文件夹{{mkdirFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"rmdirSyncTest\" id=\"btn-remove-dir-sync\">同步删除文件夹{{rmDirFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"readDirSyncTest\" id=\"btn-read-dir-sync\">同步读取文件夹{{readDir}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"accessFileSyncTest\"\r\n      id=\"btn-access-file-sync\">同步判断文件{{accessFile}}是否存在</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"renameFileSync\"\r\n      id=\"btn-rename-file-sync\">同步重命名文件{{renameFromFile}}到{{renameToFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"copyFileSyncTest\"\r\n      id=\"btn-copy-file-sync\">同步复制文件{{copyFromFile}}到{{copyToFile}}</button>\r\n    <!-- #ifdef APP -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"saveFileTest\" id=\"btn-save-file\">保存临时文件到本地</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"saveFileSyncTest\" id=\"btn-save-file-sync\">同步保存临时文件到本地</button>\r\n    <!-- #endif -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"removeSavedFileTest\" id=\"btn-remove-saved-file\">删除已保存的本地文件</button>\r\n    <!-- #ifdef APP -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"unzipFileTest\" id=\"btn-unzip-file-sync\">解压文件</button>\r\n    <!-- #endif -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"getSavedFileListTest\"\r\n      id=\"btn-getsaved-filelist\">获取该已保存的本地缓存文件列表</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"truncateFileTest\"\r\n      id=\"btn-truncate-file\">对文件{{writeFile}}内容进行截断操作</button>\r\n    <!-- #ifdef APP -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"truncateFileSyncTest\"\r\n      id=\"btn-truncate-file-sync\">同步对文件{{writeFile}}内容进行截断操作</button>\r\n\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"readCompressedFileTest\"\r\n      id=\"btn-compressed-file\">读取指定压缩类型的本地文件内容</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"readCompressedFileSyncTest\"\r\n      id=\"btn-compressed-file-sync\">同步读取指定压缩类型的本地文件内容</button>\r\n    <!-- #endif -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"openFileTest\" id=\"btn-open-file\">打开文件{{readFile}}，返回描述符</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"openFileSyncTest('r',true)\"\r\n      id=\"btn-open-file-sync\">同步打开文件{{readFile}}，返回描述符</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"closeTest\" id=\"btn-close-file\">通过文件描述符关闭文件{{readFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"closeSyncTest\"\r\n      id=\"btn-close-file-sync\">通过文件描述符同步关闭文件{{readFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"writeTest\" id=\"btn-write\">通过文件描述符写入文件{{readFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"writeSyncTest\" id=\"btn-write-sync\">同步通过文件描述符写入文件{{readFile}}</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"fstatTest\" id=\"btn-fstat-file\">通过文件描述符获取{{statFile}}的状态信息</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"fstatSyncTest\"\r\n      id=\"btn-fstat-file-sync\">同步通过文件描述符获取{{statFile}}的状态信息</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"ftruncateFileTest\"\r\n      id=\"btn-ftruncate-file\">通过文件描述符对文件{{writeFile}}内容进行截断</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"ftruncateFileSyncTest\"\r\n      id=\"btn-ftruncate-file-sync\">同步通过文件描述符对文件{{writeFile}}内容进行截断</button>\r\n    <!-- #ifdef APP -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"readZipEntry\" id=\"btn-readzip-entry\">读取压缩包内的文件</button>\r\n    <!-- #endif -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testWriteReadFileBuffer\" id=\"btn-writereadfile-buffer\">写入/读取\r\n      ArrayBuffer</button>\r\n    <!-- #ifdef APP -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testWriteReadFileSyncBuffer\" id=\"btn-writereadfilesync-buffer\">同步写入/读取\r\n      ArrayBuffer</button>\r\n      <!-- #endif -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testWriteReadBuffer\" id=\"btn-writeread-buffer\">通过文件描述符写入/读取\r\n      ArrayBuffer</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testWriteReadSyncBuffer\" id=\"btn-writereadsync-buffer\">通过文件描述符同步写入/读取\r\n      ArrayBuffer</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testAppendFileBuffer\" id=\"btn-appendfile-buffer\">在文件末尾追加\r\n      ArrayBuffer</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testAppendFileBufferSync\" id=\"btn-appendfilesync-buffer\">同步在文件末尾追加\r\n      ArrayBuffer</button>\r\n    <!-- #ifdef APP -->\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testReadFileEncoding('base64')\">readFile(content:// base64)</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testReadFileEncoding('utf-8')\">readFile(content:// utf-8)</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testReadFileEncoding('ascii')\">readFile(content:// ascii)</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testReadFileArrayBuffer()\">readFile(content:// arraybuffer)</button>\r\n\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testReadFileSyncEncoding('base64')\">readFileSync(content://\r\n      base64)</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testReadFileSyncEncoding('utf-8')\">readFileSync(content://\r\n      utf-8)</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testReadFileSyncEncoding('ascii')\">readFileSync(content://\r\n      ascii)</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"testReadFileSyncArrayBuffer()\">readFileSync(content://\r\n      arraybuffer)</button>\r\n\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"copyFileByContent()\">copyFile(content://)</button>\r\n    <button class=\"btnstyle\" type=\"primary\" @tap=\"copyFileSyncByContent()\">copyFileSync(content://)</button>\r\n    <!-- #endif -->\r\n\r\n\r\n    <view style=\"height: 4px;\"></view>\r\n    <!-- #endif -->\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n\r\n    data() {\r\n      return {\r\n        log: \"\",\r\n        /**\r\n         * 自动化测试需要关闭log\r\n         */\r\n        logAble: true,\r\n        fileListSuccess: [] as string[],\r\n        fileListComplete: [] as string[],\r\n        accessFileRet: '',\r\n        lastFailError: new UniError(\"uni-file-manager\", 1300000, \"mock error\"),\r\n        lastCompleteError: new UniError(\"uni-file-manager\", 1300000, \"mock error\"),\r\n        readDir: 'a',\r\n        readFileRet: \"\",\r\n        writeFileContent: \"中文 en.\\r\\n\\t换行\",\r\n        appendFileContent: \"append content\",\r\n        getFileInfoAlgorithm: \"md5\",\r\n        getFileInfoSize: -1,\r\n        getFileInfoDigest: \"\",\r\n        unlinkFile: 'a/1.txt',\r\n        accessFile: 'a/1.txt',\r\n        writeFile: 'a/1.txt',\r\n        writeData: 'insert data哈哈哈',\r\n        brFile: 'a/1.txt.br',\r\n        temFile: 'a/1.txt',\r\n        copyFromFile: 'a/1.txt',\r\n        copyToFile: 'a/2.txt',\r\n        renameFromFile: 'a/2.txt',\r\n        renameToFile: 'a/3.txt',\r\n        getFileInfoFile: 'a/1.txt',\r\n        statFile: '',\r\n        rmDirFile: 'a',\r\n        mkdirFile: 'a',\r\n        readFile: 'a/1.txt',\r\n        recursiveVal: true,\r\n        done: false,\r\n        writeFileEncoding: \"utf-8\",\r\n        readFileEncoding: \"utf-8\",\r\n        statsRet: [] as Array<FileStats>,\r\n        unzipFile: 'zip/1.zip',\r\n        targetZip: \"unzip\",\r\n        renameFileRet: '',\r\n        saveFileRet: '',\r\n        removeSavedFileRet: '',\r\n        fd: '',\r\n        closeFileRet: '',\r\n        bytesWritten: 0,\r\n        fstat: null as Stats | null,\r\n        fstatSize: 0,\r\n        ftruncateRet: '',\r\n        readZipFile: 'to.zip',\r\n        getSavedFileListRet: '',\r\n        arrayBufferRes: 0,\r\n        /**\r\n         * 待测试的全局环境变量\r\n         */\r\n        // #ifdef MP\r\n        basePath: uni.env.USER_DATA_PATH + '/',\r\n        copyToBasePath: uni.env.USER_DATA_PATH + '/',\r\n        globalTempPath: uni.env.CACHE_PATH,\r\n        globalRootPath: uni.env.SANDBOX_PATH,\r\n        globalUserDataPath: uni.env.USER_DATA_PATH + '/',\r\n        // #endif\r\n        // #ifndef MP\r\n        basePath: uni.env.USER_DATA_PATH,\r\n        copyToBasePath: uni.env.USER_DATA_PATH,\r\n        globalTempPath: uni.env.CACHE_PATH,\r\n        globalRootPath: uni.env.SANDBOX_PATH,\r\n        globalUserDataPath: uni.env.USER_DATA_PATH,\r\n        // #endif\r\n      }\r\n    },\r\n    onLoad() {\r\n    },\r\n\r\n    methods: {\r\n      statFileInfoTest: function (_ : any) {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.stat({\r\n          path: `${this.basePath}${this.statFile}`, //USER_DATA_PATH\r\n          // path: `${this.globalTempPath}${this.statFile}`, //CACHE_PATH\r\n          recursive: this.recursiveVal,\r\n          success: (res : StatSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'statFileInfoTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('statFileInfoTest success', res)\r\n            this.statsRet = res.stats\r\n            console.log('this.statsRet', this.statsRet)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'statFileInfoTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('statFileInfoTest fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"statFileInfoTest complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as StatOptions)\r\n      },\r\n\r\n      getFileInfoTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n\r\n        fileManager.getFileInfo({\r\n          filePath: `${this.basePath}${this.getFileInfoFile}`,\r\n          digestAlgorithm: this.getFileInfoAlgorithm,\r\n          success: (res : GetFileInfoSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'getFileInfoTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n            this.getFileInfoSize = res.size\r\n            this.getFileInfoDigest = res.digest\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'getFileInfoTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as GetFileInfoOptions)\r\n      },\r\n\r\n      copyFileTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n\r\n        fileManager.copyFile({\r\n          srcPath: `${this.basePath}${this.copyFromFile}`,\r\n          destPath: `${this.copyToBasePath}${this.copyToFile}`,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'copyFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'copyFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as CopyFileOptions)\r\n      },\r\n\r\n      renameFileTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n\r\n        fileManager.rename({\r\n          oldPath: `${this.basePath}${this.renameFromFile}`,\r\n          newPath: `${this.basePath}${this.renameToFile}`,\r\n          success: (res) => {\r\n            if (this.logAble) {\r\n              this.log += 'renameFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            this.renameFileRet = \"rename:ok\"\r\n            console.log('success', res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'renameFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n          },\r\n          complete: (res : any) => {\r\n            this.done = true\r\n            console.log(\"complete\", res)\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as RenameOptions)\r\n      },\r\n\r\n      readDirTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.readdir({\r\n          dirPath: `${this.basePath}${this.readDir}`,\r\n          success: (res : ReadDirSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'readDirTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log(\"success\", res)\r\n            this.fileListSuccess = res.files\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'readDirTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            } else {\r\n              this.fileListComplete = (res as ReadDirSuccessResult).files\r\n            }\r\n          }\r\n        } as ReadDirOptions)\r\n      },\r\n\r\n      writeFileTest: function (_ : any) {\r\n        const fileManager = uni.getFileSystemManager()\r\n\r\n        fileManager.writeFile({\r\n          filePath: `${this.basePath}${this.writeFile}`,\r\n          data: this.writeFileContent,\r\n          encoding: this.writeFileEncoding,\r\n          success: (res) => {\r\n            if (this.logAble) {\r\n              this.log += 'writeFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'writeFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail')\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n          },\r\n          complete: (res : any) => {\r\n            this.done = true\r\n            console.log(\"complete\")\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n\r\n          }\r\n        } as WriteFileOptions)\r\n      },\r\n\r\n      readFileTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n\r\n        fileManager.readFile({\r\n          filePath: `${this.basePath}${this.readFile}`,\r\n          encoding: this.readFileEncoding,\r\n          success: (res : ReadFileSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'readFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n            this.readFileRet = res.data.toString()\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'readFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as ReadFileOptions)\r\n      },\r\n\r\n      rmdirTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.rmdir({\r\n          dirPath: `${this.basePath}${this.rmDirFile}`,\r\n          recursive: this.recursiveVal,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'rmdirTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'rmdirTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as RmDirOptions)\r\n      },\r\n\r\n      mkdirTest: function () {\r\n        // 准备测试数据\r\n        const fileManager = uni.getFileSystemManager()\r\n\r\n        fileManager.mkdir({\r\n          dirPath: `${this.basePath}${this.mkdirFile}`,\r\n          recursive: this.recursiveVal,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'mkdirTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'mkdirTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (res : any) => {\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n            this.done = true\r\n            console.log(\"complete\", res)\r\n          }\r\n        } as MkDirOptions)\r\n\r\n      },\r\n      accessFileTest: function () {\r\n        this.accessFileRet = ''\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.access({\r\n          path: `${this.basePath}${this.accessFile}`,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'accessFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n            this.accessFileRet = res.errMsg\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'accessFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (res : any) => {\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n          }\r\n        } as AccessOptions)\r\n\r\n      },\r\n      unlinkTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n\r\n        fileManager.unlink({\r\n          filePath: `${this.basePath}${this.unlinkFile}`,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'unlinkTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'unlinkTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (res : any) => {\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n          }\r\n        } as UnLinkOptions)\r\n      },\r\n      unlinkAllFileTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.readdir({\r\n          dirPath: `${this.basePath}${this.rmDirFile}`,\r\n          success: (res : ReadDirSuccessResult) => {\r\n            console.log(\"success to readdir\", res)\r\n            res.files.forEach(element => {\r\n              console.log(element)\r\n              let filePath : string\r\n              if (this.rmDirFile.length <= 0) {\r\n                filePath = `${this.basePath}${element}`\r\n              } else {\r\n                filePath = `${this.basePath}${this.rmDirFile}/${element}`\r\n              }\r\n              fileManager.unlink({\r\n                filePath: filePath,\r\n                success: (res : FileManagerSuccessResult) => {\r\n                  if (this.logAble) {\r\n                    this.log += 'unlinkAllFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n                  }\r\n                  console.log('success unlink', res)\r\n                },\r\n                fail: (res : IUniError) => {\r\n                  if (this.logAble) {\r\n                    this.log += 'unlinkAllFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n                  }\r\n                  console.log('fail unlink', res)\r\n                  this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n                },\r\n                complete: (res : any) => {\r\n                  if (res instanceof UniError) {\r\n                    this.lastCompleteError = res\r\n                  }\r\n                  console.log(\"complete unlink\", res)\r\n                  this.done = true\r\n                }\r\n              } as UnLinkOptions)\r\n            });\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'unlinkAllFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail to readdir', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete readdir\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            } else {\r\n              this.fileListComplete = (res as ReadDirSuccessResult).files\r\n            }\r\n          }\r\n        } as ReadDirOptions)\r\n      },\r\n      copyStaticToFilesTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n\r\n        fileManager.copyFile({\r\n          srcPath: \"/static/list-mock/mock.json\",\r\n          destPath: `${this.copyToBasePath}/a/mock.json`,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'copyFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'copyFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as CopyFileOptions)\r\n      },\r\n      //start\r\n      appendFileTest: function (_ : any) {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.appendFile({\r\n          filePath: `${this.basePath}${this.writeFile}`,\r\n          data: this.appendFileContent,\r\n          encoding: this.writeFileEncoding,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'appendFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'appendFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail')\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (res : any) => {\r\n            this.done = true\r\n            console.log(\"complete\")\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n\r\n          }\r\n        } as AppendFileOptions)\r\n      },\r\n      writeFileSyncTest: function (_ : any) {\r\n        try {\r\n          const fileManager = uni.getFileSystemManager()\r\n          fileManager.writeFileSync(`${this.basePath}${this.writeFile}`, this.writeFileContent, this.writeFileEncoding)\r\n          if (this.logAble) {\r\n            this.log += 'writeFileSyncTest success:' + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'writeFileSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n\r\n      },\r\n      readFileSyncTest: function () {\r\n        try {\r\n          const fileManager = uni.getFileSystemManager()\r\n          let data = fileManager.readFileSync(\r\n            `${this.basePath}${this.readFile}`,\r\n            this.readFileEncoding)\r\n          if (this.logAble) {\r\n            this.log += 'readFileSyncTest result:' + data + '\\n\\n'\r\n          }\r\n          this.done = true\r\n          this.readFileRet = data.toString()\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'readFileSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n\r\n      },\r\n      unlinkSyncTest: function () {\r\n        try {\r\n          const fileManager = uni.getFileSystemManager()\r\n          fileManager.unlinkSync(\r\n            `${this.basePath}${this.unlinkFile}`)\r\n          this.done = true\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'unlinkSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n      },\r\n      mkdirSyncTest: function () {\r\n        // 准备测试数据\r\n        try {\r\n          const fileManager = uni.getFileSystemManager()\r\n          fileManager.mkdirSync(`${this.basePath}${this.mkdirFile}`, this.recursiveVal)\r\n          this.done = true\r\n        } catch (e) {\r\n          this.done = true\r\n          if (this.logAble) {\r\n            this.log += 'mkdirSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n        }\r\n\r\n      },\r\n      rmdirSyncTest: function () {\r\n        try {\r\n          const fileManager = uni.getFileSystemManager()\r\n          fileManager.rmdirSync(\r\n            `${this.basePath}${this.rmDirFile}`,\r\n            this.recursiveVal)\r\n          this.done = true\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'rmdirSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n      },\r\n      readDirSyncTest: function () {\r\n        try {\r\n          const fileManager = uni.getFileSystemManager()\r\n          let res = fileManager.readdirSync(\r\n            `${this.basePath}${this.readDir}`)\r\n          if (this.logAble) {\r\n            this.log += 'readDirTest success:' + JSON.stringify(res) + '\\n\\n'\r\n          }\r\n          if (res != null) {\r\n            this.fileListSuccess = res\r\n          }\r\n          this.done = true\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'rmdirSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n      },\r\n      accessFileSyncTest: function () {\r\n        this.accessFileRet = ''\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.accessSync(`${this.basePath}${this.accessFile}`)\r\n          this.done = true\r\n          this.accessFileRet = 'access:ok'\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'rmdirSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n      },\r\n      renameFileSync: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.renameSync(`${this.basePath}${this.renameFromFile}`,\r\n            `${this.basePath}${this.renameToFile}`)\r\n          this.done = true\r\n          this.renameFileRet = \"rename:ok\"\r\n\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'rmdirSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          console.log('renameSync:' + e)\r\n          this.done = true\r\n        }\r\n      },\r\n      copyFileSyncTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.copyFileSync(\r\n            `${this.basePath}${this.copyFromFile}`,\r\n            `${this.copyToBasePath}${this.copyToFile}`)\r\n          this.done = true\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'rmdirSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n      },\r\n      appendFileSyncTest: function (_ : any) {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.appendFileSync(\r\n            `${this.basePath}${this.writeFile}`,\r\n            this.appendFileContent,\r\n            this.writeFileEncoding)\r\n          this.done = true\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'rmdirSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n      },\r\n      saveFileTest: function (_ : any) {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.saveFile({\r\n          tempFilePath: `${this.basePath}${this.temFile}`,\r\n          // filePath:`${this.basePath}local/`,\r\n          success: (res : SaveFileSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'saveFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n            this.saveFileRet = res.savedFilePath\r\n            this.done = true\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'saveFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('saveFileTest fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n            this.done = true\r\n          },\r\n          complete: (_) => {\r\n            this.done = true\r\n          }\r\n        } as SaveFileOptions)\r\n      },\r\n      saveFileSyncTest: function (_ : any) {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.saveFileSync(\r\n            `${this.basePath}${this.temFile}`, `${this.basePath}/`)\r\n          // filePath:`${this.basePath}local/`,)\r\n          this.done = true\r\n\r\n          //todo 后面打开\r\n          // this.saveFileRet=res\r\n        } catch (e) {\r\n          console.log('saveFileSyncTest:' + e)\r\n          this.done = true\r\n        }\r\n      },\r\n      unzipFileTest: function (_ : any) {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.mkdirSync(`${this.basePath}${this.targetZip}`, true)\r\n        } catch (e) {\r\n          console.error(e)\r\n        }\r\n        fileManager.unzip({\r\n          zipFilePath: '/static/filemanager/to.zip',\r\n          targetPath: `${this.basePath}${this.targetZip}`,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'unzipFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('success', res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'unzipFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (_) => {\r\n            this.done = true\r\n          }\r\n        } as UnzipFileOptions)\r\n      },\r\n\r\n      getSavedFileListTest: function () {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.getSavedFileList({\r\n          success: (res : GetSavedFileListResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'getSavedFileListTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log(\"getSavedFileListTest success\", res)\r\n            this.fileListSuccess = res.fileList\r\n            this.getSavedFileListRet = \"getSavedFileList:ok\"\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'getSavedFileListTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('getSavedFileListTest fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n            this.getSavedFileListRet = JSON.stringify(res)\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            } else {\r\n              this.fileListComplete = (res as GetSavedFileListResult).fileList\r\n            }\r\n          }\r\n        } as GetSavedFileListOptions)\r\n      },\r\n      truncateFileTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.truncate({\r\n          filePath: `${this.basePath}${this.writeFile}`,\r\n          length: 6,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'truncateFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log(\"success\", res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'truncateFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as TruncateFileOptions)\r\n      },\r\n      truncateFileSyncTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.truncateSync(\r\n            `${this.basePath}${this.writeFile}`,\r\n            3)\r\n          this.done = true\r\n        } catch (e) {\r\n          console.log(e)\r\n          this.done = true\r\n        }\r\n      },\r\n      readCompressedFileTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.readCompressedFile({\r\n          filePath: '/static/filemanager/1.txt.br',\r\n          compressionAlgorithm: \"br\",\r\n          success: (res : ReadCompressedFileResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'readCompressedFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log(\"success\", res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'readCompressedFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (_) => {\r\n            this.done = true\r\n          }\r\n        } as ReadCompressedFileOptions)\r\n      },\r\n      readCompressedFileSyncTest() {\r\n        console.log('readCompressedFileSyncTest')\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          let data = fileManager.readCompressedFileSync(\r\n            '/static/filemanager/1.txt.br',\r\n            \"br\")\r\n          if (this.logAble) {\r\n            this.log += data\r\n          }\r\n          this.done = true\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'readCompressedFileSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n\r\n      },\r\n      removeSavedFileTest() {\r\n        console.log(\"removeSavedFileTest enter\")\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.removeSavedFile({\r\n          filePath: `${this.basePath}${this.writeFile}`,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'removeSavedFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            this.removeSavedFileRet = res.errMsg\r\n            console.log(\"removeSavedFileTest success\", res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'removeSavedFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('removeSavedFileTest fail', res)\r\n          },\r\n          complete: (_) => {\r\n            this.done = true\r\n          }\r\n        } as RemoveSavedFileOptions)\r\n      },\r\n\r\n      statFileInfoSyncTest: function (_ : any) {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          let res = fileManager.statSync(\r\n            // path: `${this.basePath}${this.statFile}`, //USER_DATA_PATH\r\n            `${this.globalTempPath}${this.statFile}`, //CACHE_PATH\r\n            this.recursiveVal)\r\n          if (this.logAble) {\r\n            this.log += 'statFileInfoSyncTest success:' + JSON.stringify(res) + '\\n\\n'\r\n          }\r\n          this.statsRet = res\r\n          this.done = true\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'statFileInfoSyncTest fail:' + e + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n\r\n      },\r\n      openFileTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.open({\r\n          filePath: `${this.basePath}${this.readFile}`,\r\n          flag: \"a\",\r\n          success: (res : OpenFileSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'openFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log(\"success\", res)\r\n            this.fd = res.fd\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'openFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (_) => {\r\n            this.done = true\r\n          }\r\n        } as OpenFileOptions)\r\n      },\r\n      openFileSyncTest(param : string, isTest : boolean) : string {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          let fd = fileManager.openSync({\r\n            filePath: `${this.basePath}${this.readFile}`,\r\n            flag: param,\r\n          } as OpenFileSyncOptions)\r\n          if (this.logAble && isTest) {\r\n            this.log += 'openFileSyncTest success:' + fd + '\\n\\n'\r\n          }\r\n          if (isTest) {\r\n            this.done = true\r\n          }\r\n\r\n          this.fd = fd\r\n          return fd\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'openFileSyncTest fail:' + JSON.stringify(e) + '\\n\\n'\r\n          }\r\n          console.log('fail', e)\r\n          this.done = true\r\n        }\r\n        return \"\"\r\n      },\r\n      closeSyncTest() {\r\n        console.log('closeSyncTest')\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          console.log('closeSync')\r\n          fileManager.closeSync({\r\n            fd: this.openFileSyncTest('r', false)\r\n          } as CloseSyncOptions)\r\n          if (this.logAble) {\r\n            this.log += 'closeSyncTest success:' + '\\n\\n'\r\n          }\r\n          this.done = true\r\n          this.closeFileRet = \"close:ok\"\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'closeSyncTest fail:' + JSON.stringify(e) + '\\n\\n'\r\n          }\r\n          console.log('fail', e)\r\n          this.done = true\r\n        }\r\n      },\r\n      closeTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.close({\r\n          fd: this.openFileSyncTest('r', false),\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'closeTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            this.closeFileRet = res.errMsg\r\n            console.log(\"success\", res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'closeTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (_) => {\r\n            this.done = true\r\n          }\r\n\r\n        } as CloseOptions)\r\n      },\r\n      writeTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.mkdirSync(`${this.basePath}${this.mkdirFile}`, true)\r\n        } catch (e) {\r\n          console.error(e)\r\n        }\r\n\r\n        fileManager.write({\r\n          fd: this.openFileSyncTest('w+', false),\r\n          data: this.writeData,\r\n          encoding: \"utf-8\",\r\n          success: (res : WriteResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'writeTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log(\"success\", res)\r\n            this.bytesWritten = res.bytesWritten\r\n            this.lastFailError = new UniError('uni-fileSystemManager', 0, 'writeTest success:' + JSON.stringify(res))\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'writeTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, 'writeTest:' + res.errMsg)\r\n\r\n          },\r\n          complete: (_) => {\r\n            this.done = true\r\n          }\r\n\r\n        } as WriteOptions)\r\n      },\r\n      writeSyncTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.mkdirSync(`${this.basePath}${this.mkdirFile}`, true)\r\n        } catch (e) {\r\n          console.error(e)\r\n        }\r\n        fileManager.open({\r\n          filePath: `${this.basePath}${this.readFile}`,\r\n          flag: \"r+\",\r\n          success: (res : OpenFileSuccessResult) => {\r\n            console.log(\"success\", res)\r\n            if (res.fd.length <= 0) {\r\n              this.done = true\r\n              return\r\n            }\r\n            try {\r\n              let ret = fileManager.writeSync({\r\n                fd: res.fd,\r\n                data: this.writeData,\r\n                encoding: \"utf-8\"\r\n              } as WriteSyncOptions)\r\n              if (this.logAble) {\r\n                this.log += 'writeSyncTest success:' + JSON.stringify(ret) + '\\n\\n'\r\n              }\r\n              console.log(\"success\", ret)\r\n              this.done = true\r\n              this.bytesWritten = ret.bytesWritten\r\n            } catch (e) {\r\n              if (this.logAble) {\r\n                this.log += 'writeSyncTest fail:' + JSON.stringify(e) + '\\n\\n'\r\n              }\r\n              console.log('fail', e)\r\n              this.done = true\r\n            }\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'openFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n            this.done = true\r\n          }\r\n        } as OpenFileOptions)\r\n\r\n      },\r\n      fstatTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.fstat({\r\n          fd: this.openFileSyncTest('r', false),\r\n          success: (res : FStatSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'fstatTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log(\"success\", res)\r\n            this.fstat = res.stats\r\n            this.fstatSize = res.stats.size\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'fstatTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (_) => {\r\n            this.done = true\r\n          }\r\n\r\n        } as FStatOptions)\r\n      },\r\n      fstatSyncTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          let stat =\r\n            fileManager.fstatSync({\r\n              fd: this.openFileSyncTest('r', false),\r\n            } as FStatSyncOptions)\r\n          if (this.logAble) {\r\n            this.log += 'fstatSyncTest success:' + JSON.stringify(stat) + '\\n\\n'\r\n          }\r\n          this.done = true\r\n          this.fstat = stat\r\n          this.fstatSize = stat.size\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'fstatSyncTest fail:' + JSON.stringify(e) + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n      },\r\n      ftruncateFileTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.ftruncate({\r\n          fd: this.openFileSyncTest('r+', false),\r\n          length: 6,\r\n          success: (res : FileManagerSuccessResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'ftruncateFileTest success:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            this.ftruncateRet = res.errMsg\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'ftruncateFileTest fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as FTruncateFileOptions)\r\n      },\r\n      ftruncateFileSyncTest() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.ftruncateSync({\r\n            fd: this.openFileSyncTest('r+', false),\r\n            length: 4\r\n          } as FTruncateFileSyncOptions)\r\n          if (this.logAble) {\r\n            this.log += 'ftruncateFileSyncTest success:' + '\\n\\n'\r\n          }\r\n          this.done = true\r\n          this.ftruncateRet = 'ftruncate:ok'\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'ftruncateFileSyncTest fail:' + JSON.stringify(e) + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n      },\r\n      readZipEntry() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        fileManager.readZipEntry({\r\n          filePath: '/static/filemanager/to.zip',\r\n          encoding: 'utf-8',\r\n          success: (res : EntriesResult) => {\r\n            if (this.logAble) {\r\n              this.log += 'readZipEntry success:size=' + res.result + '\\n\\n'\r\n            }\r\n            console.log(\"success\", res)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            if (this.logAble) {\r\n              this.log += 'readZipEntry fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            console.log('fail', res)\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n          }\r\n        } as ReadZipEntryOptions)\r\n      },\r\n      testWriteReadFileBuffer() {\r\n        const fs = uni.getFileSystemManager()\r\n        let buffer = new ArrayBuffer(16)\r\n        let float64 = new Float64Array(buffer)\r\n        float64[1] = 1.2222222\r\n        let that = this\r\n        fs.writeFile({\r\n          filePath: `${uni.env.USER_DATA_PATH}/hello.txt`,\r\n          // data: 'test some',\r\n          data: buffer,\r\n          // encoding: 'ascii',\r\n          success: (res) => {\r\n            if (this.logAble) {\r\n              this.log += 'testWriteReadFileBuffer ：' + res.errMsg + '\\n\\n'\r\n            }\r\n            console.log(res)\r\n            // that.testAppendFile()\r\n            that.testReadFileBuffer()\r\n          },\r\n          fail: (res) => {\r\n            if (this.logAble) {\r\n              this.log += 'testWriteReadFileBuffer fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n\r\n            console.error(res)\r\n            this.done = true\r\n          },\r\n          complete: (_ : any) => {\r\n\r\n          }\r\n        } as WriteFileOptions)\r\n      },\r\n      testReadFileBuffer() {\r\n        const fs = uni.getFileSystemManager()\r\n        fs.readFile({\r\n          filePath: `${uni.env.USER_DATA_PATH}/hello.txt`,\r\n\r\n          success: (res) => {\r\n\r\n            console.log(res)\r\n            // let uint8Array = new Uint8Array(res.data as ArrayBuffer)\r\n            // for (let i = 0; i < uint8Array.length; i++) {\r\n            // \tconsole.log(`Byte ${i}: ${uint8Array[i]}`);\r\n            // }\r\n            let float64 = new Float64Array(res.data as ArrayBuffer)\r\n            if (this.logAble) {\r\n              for (let i = 0; i < float64.length; i++) {\r\n                if (this.logAble) {\r\n                  this.log += 'testReadFileBuffer success ：' + `Byte ${i}: ${float64[i]}` + '\\n\\n'\r\n                }\r\n              }\r\n            }\r\n            this.arrayBufferRes = float64[1] //1.2222222\r\n            console.log(this.arrayBufferRes)\r\n          },\r\n          fail: (res) => {\r\n            if (this.logAble) {\r\n              this.log += 'testReadFileBuffer fail:' + JSON.stringify(res) + '\\n\\n'\r\n            }\r\n            this.lastFailError = new UniError(res.errSubject, res.errCode, res.errMsg)\r\n            console.error(res)\r\n          },\r\n          complete: (res : any) => {\r\n            console.log(\"complete\", res)\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          }\r\n        } as ReadFileOptions)\r\n      },\r\n      testWriteReadFileSyncBuffer() {\r\n        try {\r\n          const fs = uni.getFileSystemManager()\r\n          let buffer = new ArrayBuffer(16)\r\n          // let int8 = new Int8Array(buffer)\r\n          // int8[1] = 20\r\n          let float64 = new Float64Array(buffer)\r\n          float64[1] = 1.333\r\n          fs.writeFileSync(`${uni.env.USER_DATA_PATH}/hello.txt`, buffer, 'utf-8')\r\n          if (this.logAble) {\r\n            this.log += 'testWriteReadFileSyncBuffer success' + '\\n\\n'\r\n          }\r\n          this.testReadFileSyncBuffer()\r\n          this.done = true\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'testWriteReadFileSyncBuffer fail:' + JSON.stringify(e) + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n\r\n      },\r\n      testReadFileSyncBuffer() {\r\n        try {\r\n          const fs = uni.getFileSystemManager()\r\n          let res = fs.readFileSync(`${uni.env.USER_DATA_PATH}/hello.txt`, null)\r\n          console.log(res)\r\n          let float64 = new Float64Array(res as ArrayBuffer)\r\n          for (let i = 0; i < float64.length; i++) {\r\n            if (this.logAble) {\r\n              this.log += 'testReadFileSyncBuffer success:' + `Byte ${i}: ${float64[i]}` + '\\n\\n'\r\n            }\r\n            console.log(`Byte ${i}: ${float64[i]}`);\r\n          }\r\n          this.arrayBufferRes = float64[1] // 1.333\r\n          console.log(this.arrayBufferRes)\r\n        } catch (e) {\r\n          if (this.logAble) {\r\n            this.log += 'testReadFileSyncBuffer fail:' + JSON.stringify(e) + '\\n\\n'\r\n          }\r\n          this.done = true\r\n        }\r\n\r\n      },\r\n\r\n      testWriteReadBuffer() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.mkdirSync(`${this.basePath}${this.mkdirFile}`, true)\r\n        } catch (e) {\r\n          console.error(e)\r\n        }\r\n\r\n        let buffer = new ArrayBuffer(24)\r\n        let float64 = new Float64Array(buffer)\r\n        float64[1] = 1.24\r\n        float64[2] = 1.33\r\n\r\n        fileManager.write({\r\n          fd: this.openFileSyncTest('w+', false),\r\n          length: 16,\r\n          offset: 8,\r\n          data: buffer,\r\n          position: 10,\r\n          success: (res : WriteResult) => {\r\n            console.log(\"success\", res)\r\n\r\n            const ab = new ArrayBuffer(24)\r\n            fileManager.read({\r\n              arrayBuffer: ab,\r\n              fd: this.openFileSyncTest('a+', false),\r\n              length: 8,\r\n              position: 10,\r\n              success: (res : ReadSuccessCallbackResult) => {\r\n                console.log(res)\r\n                let value = new Float64Array(res.arrayBuffer)\r\n                for (let i = 0; i < value.length; i++) {\r\n                  console.log(`Byte ${i}: ${value[i]}`);\r\n                  if (this.logAble) {\r\n                    this.log += 'testWriteReadBuffer success:' + `Byte ${i}: ${value[i]}` + '\\n\\n'\r\n                  }\r\n                }\r\n                this.arrayBufferRes = value[0] //1.24\r\n                console.log(this.arrayBufferRes)\r\n              },\r\n              fail: (res) => {\r\n                console.log(res)\r\n                this.done = true\r\n                if (res instanceof UniError) {\r\n                  this.lastCompleteError = res\r\n                }\r\n              },\r\n              complete: (res : any) => {\r\n                console.log(\"complete\", res)\r\n                this.done = true\r\n                if (res instanceof UniError) {\r\n                  this.lastCompleteError = res\r\n                }\r\n              }\r\n            } as ReadOption)\r\n          },\r\n          fail: (res : IUniError) => {\r\n            this.done = true\r\n            if (res instanceof UniError) {\r\n              this.lastCompleteError = res\r\n            }\r\n          },\r\n          complete: (_) => {\r\n\r\n          }\r\n\r\n        } as WriteOptions)\r\n      },\r\n      testWriteReadSyncBuffer() {\r\n        const fileManager = uni.getFileSystemManager()\r\n        try {\r\n          fileManager.mkdirSync(`${this.basePath}${this.mkdirFile}`, true)\r\n        } catch (e) {\r\n        }\r\n        try {\r\n\r\n          let buffer = new ArrayBuffer(24)\r\n          let float64 = new Float64Array(buffer)\r\n          float64[1] = 1.11\r\n          float64[2] = 1.33\r\n          let ret = fileManager.writeSync({\r\n            fd: this.openFileSyncTest('w+', false),\r\n            // data: this.writeData,\r\n            data: buffer,\r\n            length: 16,\r\n            offset: 8,\r\n            position: 10,\r\n            encoding: \"utf-8\"\r\n          } as WriteSyncOptions)\r\n          console.log(\"success\", ret)\r\n\r\n          const ab = new ArrayBuffer(24)\r\n          let res = fileManager.readSync({\r\n            arrayBuffer: ab,\r\n            fd: this.openFileSyncTest('a+', false),\r\n            length: 8,\r\n            offset: 8,\r\n            position: 10\r\n          } as ReadSyncOption)\r\n          console.log(res)\r\n          let value = new Float64Array(res.arrayBuffer)\r\n          for (let i = 0; i < value.length; i++) {\r\n            if (this.logAble) {\r\n              this.log += 'testWriteReadSyncBuffer success ：' + `Byte ${i}: ${value[i]}` + '\\n\\n'\r\n            }\r\n          }\r\n          this.done = true\r\n          this.arrayBufferRes = float64[1] //1.11\r\n          console.log(this.arrayBufferRes)\r\n        } catch (e) {\r\n          this.done = true\r\n          console.error(e)\r\n        }\r\n      },\r\n\r\n\r\n      testAppendFileBufferSync() {\r\n        // 同步接口\r\n        const fs = uni.getFileSystemManager()\r\n        try {\r\n          let buffer = new ArrayBuffer(24)\r\n          let float64 = new Float64Array(buffer)\r\n          float64[1] = 1.2222222\r\n          float64[2] = 1.33\r\n          let ret = fs.writeSync({\r\n            fd: fs.openSync({ filePath: `${uni.env.USER_DATA_PATH}/hello.txt`, flag: 'w+' } as OpenFileSyncOptions),\r\n            data: buffer,\r\n            length: 16,\r\n            offset: 8,\r\n            position: 10\r\n          } as WriteSyncOptions)\r\n          console.log(ret)\r\n\r\n\r\n          buffer = new ArrayBuffer(16)\r\n          float64 = new Float64Array(buffer)\r\n          float64[0] = 20\r\n          fs.appendFileSync(`${uni.env.USER_DATA_PATH}/hello.txt`, buffer, null)\r\n          const ab = new ArrayBuffer(32)\r\n          // 打开文件\r\n          // 读取文件到 ArrayBuffer 中\r\n          let readResult = fs.readSync({\r\n            fd: fs.openSync({\r\n              filePath: `${uni.env.USER_DATA_PATH}/hello.txt`,\r\n              flag: 'a+',\r\n            } as OpenFileSyncOptions),\r\n            arrayBuffer: ab,\r\n            length: 24,\r\n            position: 10,\r\n            offset: 8\r\n          } as ReadSyncOption)\r\n          console.log(readResult)\r\n          float64 = new Float64Array(readResult.arrayBuffer)\r\n\r\n          for (let i = 0; i < float64.length; i++) {\r\n            if (this.logAble) {\r\n              this.log += 'testAppendFileBufferSync success ：' + `Byte ${i}: ${float64[i]}` + '\\n\\n'\r\n            }\r\n            console.log(`Byte ${i}: ${float64[i]}`);\r\n          }\r\n          this.arrayBufferRes = float64[3] //20\r\n          console.log(this.arrayBufferRes)\r\n          this.done = true\r\n        } catch (e) {\r\n          this.done = true\r\n          if (this.logAble) {\r\n            this.log += 'testAppendFileBufferSync fail:' + JSON.stringify(e) + '\\n\\n'\r\n          }\r\n          console.error(e)\r\n        }\r\n      },\r\n\r\n      testAppendFileBuffer() {\r\n        // 同步接口\r\n        const fs = uni.getFileSystemManager()\r\n        try {\r\n          let buffer = new ArrayBuffer(24)\r\n          let float64 = new Float64Array(buffer)\r\n          float64[1] = 1.2222222\r\n          float64[2] = 1.33\r\n          let ret = fs.writeSync({\r\n            fd: fs.openSync({ filePath: `${uni.env.USER_DATA_PATH}/hello.txt`, flag: 'w+' } as OpenFileSyncOptions),\r\n            data: buffer,\r\n            length: 16,\r\n            offset: 8,\r\n            position: 10\r\n          } as WriteSyncOptions)\r\n          console.log(ret)\r\n\r\n          buffer = new ArrayBuffer(16)\r\n          float64 = new Float64Array(buffer)\r\n          float64[0] = 21\r\n          fs.appendFile({\r\n            filePath: `${uni.env.USER_DATA_PATH}/hello.txt`,\r\n            data: buffer,\r\n            success: (res) => {\r\n              console.log(res)\r\n              const ab = new ArrayBuffer(32)\r\n              // 打开文件\r\n              // 读取文件到 ArrayBuffer 中\r\n              let readResult = fs.readSync({\r\n                fd: fs.openSync({\r\n                  filePath: `${uni.env.USER_DATA_PATH}/hello.txt`,\r\n                  flag: 'a+',\r\n                } as OpenFileSyncOptions),\r\n                arrayBuffer: ab,\r\n                length: 24,\r\n                position: 10,\r\n                offset: 8\r\n              } as ReadSyncOption)\r\n              console.log(readResult)\r\n              float64 = new Float64Array(readResult.arrayBuffer)\r\n\r\n              for (let i = 0; i < float64.length; i++) {\r\n                console.log(`Byte ${i}: ${float64[i]}`);\r\n                if (this.logAble) {\r\n                  this.log += 'testAppendFileBuffer success ：' + `Byte ${i}: ${float64[i]}` + '\\n\\n'\r\n                }\r\n              }\r\n              this.arrayBufferRes = float64[3] //21\r\n              console.log(this.arrayBufferRes)\r\n            },\r\n            fail: (res) => {\r\n              console.log(res)\r\n            },\r\n            complete: (_) => {\r\n              this.done = true\r\n            }\r\n          } as AppendFileOptions)\r\n\r\n        } catch (e) {\r\n          this.done = true\r\n          if (this.logAble) {\r\n            this.log += 'testAppendFileBufferSync fail:' + JSON.stringify(e) + '\\n\\n'\r\n          }\r\n          console.error(e)\r\n        }\r\n      },\r\n      // #ifdef APP\r\n      testReadFileEncoding(encoding : string) {\r\n        console.log('testEncoding', encoding)\r\n        uni.chooseImage({\r\n          count: 1,\r\n          albumMode: \"system\",\r\n          sizeType: [\"original\"],\r\n          sourceType: [\"album\"],\r\n          success: (e) => {\r\n            console.log(e.tempFilePaths[0])\r\n            uni.getFileSystemManager().readFile({\r\n              filePath: e.tempFilePaths[0],\r\n              encoding: encoding,\r\n              success: (res) => {\r\n                console.log('success:', (res.data as string).length)\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      testReadFileArrayBuffer() {\r\n        uni.chooseImage({\r\n          count: 1,\r\n          albumMode: \"system\",\r\n          sizeType: [\"original\"],\r\n          sourceType: [\"album\"],\r\n          success: (e) => {\r\n            console.log(e.tempFilePaths[0])\r\n            uni.getFileSystemManager().readFile({\r\n              filePath: e.tempFilePaths[0],\r\n              success: (res) => {\r\n                console.log('success:', (res.data as ArrayBuffer).byteLength)\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      testReadFileSyncEncoding(encoding : string) {\r\n        console.log('testEncoding', encoding)\r\n        uni.chooseImage({\r\n          count: 1,\r\n          albumMode: \"system\",\r\n          sizeType: [\"original\"],\r\n          sourceType: [\"album\"],\r\n          success: (e) => {\r\n            console.log(e.tempFilePaths[0])\r\n            try {\r\n              let res = uni.getFileSystemManager().readFileSync(e.tempFilePaths[0], encoding)\r\n              console.log('success:', (res as string).length)\r\n            } catch (e) {\r\n              console.log(e)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      testReadFileSyncArrayBuffer() {\r\n        uni.chooseImage({\r\n          count: 1,\r\n          albumMode: \"system\",\r\n          sizeType: [\"original\"],\r\n          sourceType: [\"album\"],\r\n          success: (e) => {\r\n            console.log(e.tempFilePaths[0])\r\n            try {\r\n              let res = uni.getFileSystemManager().readFileSync(e.tempFilePaths[0], null)\r\n              console.log('success:', (res as ArrayBuffer).byteLength)\r\n            } catch (e) {\r\n              console.log(e)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      copyFileByContent() {\r\n        uni.chooseImage({\r\n          count: 1,\r\n          albumMode: \"system\",\r\n          sizeType: [\"original\"],\r\n          sourceType: [\"album\"],\r\n          success: (e) => {\r\n            console.log(e.tempFilePaths[0])\r\n            uni.getFileSystemManager().copyFile({\r\n              srcPath: e.tempFilePaths[0],\r\n              destPath: uni.env.CACHE_PATH + 'copyFileByContent.jpg',\r\n              complete: (res) => {\r\n                console.log('success:', res)\r\n              }\r\n            })\r\n          }\r\n        })\r\n      },\r\n      copyFileSyncByContent() {\r\n        uni.chooseImage({\r\n          count: 1,\r\n          albumMode: \"system\",\r\n          sizeType: [\"original\"],\r\n          sourceType: [\"album\"],\r\n          success: (e) => {\r\n            console.log(e.tempFilePaths[0])\r\n            try {\r\n              let res = uni.getFileSystemManager().copyFileSync(e.tempFilePaths[0], uni.env.CACHE_PATH + 'copyFileSyncByContent.jpg',)\r\n              console.log('success:', res)\r\n            } catch (e) {\r\n              console.log(e)\r\n            }\r\n          }\r\n        })\r\n      },\r\n      // #endif\r\n    },\r\n\r\n\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .btnstyle {\r\n    margin: 4px;\r\n  }\r\n</style>\r\n\n```"},"openDocument":{"name":"## uni.openDocument(options?) @opendocument","description":"打开文档","compatibility":"### openDocument 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | - | - | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **OpenDocumentOptions** | 否 | - | - | uni.openDocument参数定义 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| filePath | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 文件路径，仅支持本地路径 |\n@| fileType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 文件类型，指定文件类型打开文件，有效值 doc, xls, ppt, pdf, docx, xlsx, pptx |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| doc | - | - |\n@@| xls | - | - |\n@@| ppt | - | - |\n@@| pdf | - | - |\n@@| docx | - | - |\n@@| xlsx | - | - |\n@@| pptx | - | - |\n@| success | (res: OpenDocumentSuccess) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.openDocument成功回调函数定义 |\n@| fail | (res: OpenDocumentFail) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.openDocument失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.openDocument完成回调函数定义 |\n@| showMenu | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.11.0`<br/><br/>是否显示右上角菜单<br/> | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.file.openDocument)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/file/wx.openDocument.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=openDocument&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=openDocument&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=openDocument&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=openDocument&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=openDocument)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=openDocument&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/open-document/open-document.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n```uvue\n<template>\n  <view class=\"uni-container\">\n    <page-head :title=\"title\"></page-head>\n    <view class=\"uni-common-mt\">\n      <button v-for=\"(item, index) in fileList\" :key=\"index\" @click=\"openDocument(item)\" class=\"uni-common-mt\">\n        打开 {{item.type}} 文件\n      </button>\n    </view>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\ntype FileItem = {\n  type: string,\n  url: string\n}\n\nconst title = 'openDocument'\nconst fileList = ref<Array<FileItem>>([\n  {\n    type: 'pdf',\n    url: 'https://web-assets.dcloud.net.cn/unidoc/zh/helloworld.pdf'\n  },\n  {\n    type: 'doc',\n    url: 'https://web-ext-storage.dcloud.net.cn/uni-app-x/file/helloworld.doc'\n  },\n  {\n    type: 'docx',\n    url: 'https://web-ext-storage.dcloud.net.cn/uni-app-x/file/helloworld.docx'\n  },\n  {\n    type: 'ppt',\n    url: 'https://web-ext-storage.dcloud.net.cn/uni-app-x/file/helloworld.ppt'\n  },\n  {\n    type: 'pptx',\n    url: 'https://web-ext-storage.dcloud.net.cn/uni-app-x/file/helloworld.pptx'\n  },\n  {\n    type: 'xls',\n    url: 'https://web-ext-storage.dcloud.net.cn/uni-app-x/file/helloworld.xls'\n  },\n  {\n    type: 'xlsx',\n    url: 'https://web-ext-storage.dcloud.net.cn/uni-app-x/file/helloworld.xlsx'\n  },\n  {\n    type: 'zip',\n    url: 'https://web-ext-storage.dcloud.net.cn/uni-app-x/file/to.zip'\n  }\n])\n\nconst openDocument = (item: FileItem) => {\n  uni.showLoading({\n    title: '下载中',\n    mask: true\n  })\n  uni.downloadFile({\n    url: item.url,\n    success: (res) => {\n      uni.openDocument({\n        filePath: res.tempFilePath,\n        success: () => {\n          console.log('打开文档成功')\n        },\n        fail: (err) => {\n          console.log('打开文档失败',err)\n        }\n      })\n    },\n    fail: (err) => {\n      console.log('下载失败',err)\n    },\n    complete: () => {\n      uni.hideLoading()\n    }\n  })\n}\n</script>\n\n```"},"getStorageInfo":{"name":"## uni.getStorageInfo(options) @getstorageinfo","description":"uni.getStorageInfo函数定义\n异步获取当前 storage 的相关信息。\n","compatibility":"### getStorageInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetStorageInfoOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [GetStorageInfoSuccess](#getstorageinfosuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.getStorageInfo成功回调函数定义 |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.getStorageInfo失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.getStorageInfo完成回调函数定义 | \n\n#### GetStorageInfoSuccess 的属性值 @getstorageinfosuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| keys | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当前 storage 中所有的 key |\n| currentSize | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当前占用的空间大小, 单位：kb |\n| limitSize | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 限制的空间大小, 单位：kb |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.getStorageInfo)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.getStorageInfo.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getStorageInfo&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getStorageInfo&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getStorageInfo&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getStorageInfo&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getStorageInfo)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getStorageInfo&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"getStorageInfoSync":{"name":"## uni.getStorageInfoSync() @getstorageinfosync","description":"uni.getStorageInfoSync函数定义\n同步获取当前 storage 的相关信息。\n","compatibility":"### getStorageInfoSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 | 描述 |\n| :- | :- |\n| **GetStorageInfoSuccess** | uni.getStorageInfo成功回调参数 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| keys | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当前 storage 中所有的 key |\n@| currentSize | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 当前占用的空间大小, 单位：kb |\n@| limitSize | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 限制的空间大小, 单位：kb | \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.getStorageInfoSync)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.getStorageInfoSync.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getStorageInfoSync&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getStorageInfoSync&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getStorageInfoSync&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getStorageInfoSync&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getStorageInfoSync)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getStorageInfoSync&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"getStorage":{"name":"## uni.getStorage(options) @getstorage","description":"uni.getStorage函数定义\n从本地存储中异步获取指定 key 对应的内容。\n","compatibility":"### getStorage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetStorageOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| key | string | 是 | - | - | 本地存储中的指定的 key |\n@| success | (res: [GetStorageSuccess](#getstoragesuccess-values)) => void | 否 | - | - | uni.getStorage成功回调函数定义 |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | - | uni.getStorage失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | - | uni.getStorage完成回调函数定义 | \n\n#### GetStorageSuccess 的属性值 @getstoragesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| data | any | 否 | - | - | key 对应的内容 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.getStorage)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.getStorage.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getStorage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getStorage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getStorage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getStorage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getStorage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getStorage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"getStorageSync":{"name":"## uni.getStorageSync(key) @getstoragesync","description":"uni.getStorageSync函数定义\n从本地存储中同步获取指定 key 对应的内容。\n","compatibility":"### getStorageSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| key | string | 是 | - | - | 本地存储中的指定的 key | \n","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| any | 否 |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.getStorageSync)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.getStorageSync.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getStorageSync&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getStorageSync&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getStorageSync&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getStorageSync&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getStorageSync)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getStorageSync&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"setStorage":{"name":"## uni.setStorage(options) @setstorage","description":"uni.setStorage函数定义\n将数据存储在本地storage存储中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个异步接口。\n","compatibility":"### setStorage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetStorageOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| key | string | 是 | - | - | 本地存储中的指定的 key |\n@| data | any | 是 | - | - | 需要存储的内容，只支持能通过 JSON.stringify 序列化的对象 |\n@| success | (res: SetStorageSuccess) => void | 否 | - | - | uni.setStorage成功回调函数定义 |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | - | uni.setStorage失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | - | uni.setStorage完成回调函数定义 | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.setStorage)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.setStorage.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setStorage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setStorage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setStorage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setStorage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setStorage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setStorage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"setStorageSync":{"name":"## uni.setStorageSync(key, data) @setstoragesync","description":"uni.setStorageSync函数定义\n将 data 存储在本地storage存储中指定的 key 中，会覆盖掉原来该 key 对应的内容，这是一个同步接口。\n","compatibility":"### setStorageSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| key | string | 是 | - | - | 本地storage存储中的指定的 key |\n| data | any | 是 | - | - | 需要存储的内容，只支持能通过 JSON.stringify 序列化的对象 | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.setStorageSync)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.setStorageSync.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=setStorageSync&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=setStorageSync&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=setStorageSync&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=setStorageSync&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=setStorageSync)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=setStorageSync&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"removeStorage":{"name":"## uni.removeStorage(options) @removestorage","description":"uni.removeStorage函数定义\n从本地存储中异步移除指定 key。\n","compatibility":"### removeStorage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RemoveStorageOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| key | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 本地存储中的指定的 key |\n@| success | (res: RemoveStorageSuccess) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.removeStorage成功回调函数定义 |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.removeStorage失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.removeStorage完成回调函数定义 | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.removeStorage)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.removeStorage.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=removeStorage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=removeStorage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=removeStorage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=removeStorage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=removeStorage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=removeStorage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"removeStorageSync":{"name":"## uni.removeStorageSync(key) @removestoragesync","description":"uni.removeStorageSync函数定义\n从本地存储中同步移除指定 key。\n","compatibility":"### removeStorageSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| key | string | 是 | - | - | 本地存储中的指定的 key | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.removeStorageSync)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.removeStorageSync.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=removeStorageSync&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=removeStorageSync&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=removeStorageSync&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=removeStorageSync&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=removeStorageSync)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=removeStorageSync&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"clearStorage":{"name":"## uni.clearStorage(option?) @clearstorage","description":"uni.clearStorage函数定义\n清除本地数据存储。\n","compatibility":"### clearStorage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **ClearStorageOptions** | 否 | - | - | uni.removeStorage参数定义 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: ClearStorageSuccess) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.clearStorage 成功回调函数定义 |\n@| fail | (res: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.clearStorage 失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | uni.clearStorage 完成回调函数定义 | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.clearStorage)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.clearStorage.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=clearStorage&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=clearStorage&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=clearStorage&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=clearStorage&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=clearStorage)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=clearStorage&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"clearStorageSync":{"name":"## uni.clearStorageSync() @clearstoragesync","description":"uni.clearStorageSync函数定义\n清除本地数据存储。\n","compatibility":"### clearStorageSync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.storage.storage.clearStorageSync)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.clearStorageSync.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=clearStorageSync&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=clearStorageSync&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=clearStorageSync&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=clearStorageSync&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=clearStorageSync)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=clearStorageSync&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"storage":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/storage/storage.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/storage/storage\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/storage/storage\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-common-mt\">\r\n        <view class=\"uni-list\">\r\n          <view class=\"uni-list-cell uni-list-cell-line\">\r\n            <view class=\"uni-list-cell-left\">\r\n              <view class=\"uni-label\">key</view>\r\n            </view>\r\n            <view class=\"uni-list-cell-db\">\r\n              <input class=\"uni-input\" type=\"text\" placeholder=\"请输入key\" name=\"key\" :value=\"key\" maxlength=\"-1\"\r\n                @input=\"keyChange\" />\r\n            </view>\r\n          </view>\r\n          <view class=\"uni-list-cell\">\r\n            <view class=\"uni-list-cell-left\">\r\n              <view class=\"uni-label\">value</view>\r\n            </view>\r\n            <view class=\"uni-list-cell-db\">\r\n              <input class=\"uni-input\" type=\"text\" placeholder=\"请输入value\" name=\"data\"\r\n                :value=\"typeof data === 'string' ? data : JSON.stringify(data)\" maxlength=\"-1\" @input=\"dataChange\" />\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"uni-padding-wrap\">\r\n          <view class=\"uni-btn-v\">\r\n            <button class=\"uni-btn btn-getStorageInfoASync\" type=\"primary\" @tap=\"getStorageInfo\">\r\n              获取存储概述信息-异步\r\n            </button>\r\n            <button class=\"uni-btn btn-getStorageInfoSync\" @tap=\"getStorageInfoSync\">\r\n              获取存储概述信息-同步\r\n            </button>\r\n          </view>\r\n          <text>{{ storageInfo }}</text>\r\n          <view class=\"uni-flex uni-row\">\r\n            <button type=\"default\" style=\"width:50%\" @tap=\"strMock\">\r\n              填充字符串\r\n            </button>\r\n            <button type=\"default\" style=\"width:50%\" @tap=\"complexMock\">\r\n              填充复杂对象\r\n            </button>\r\n          </view>\r\n          <view class=\"uni-flex uni-row\">\r\n            <button type=\"default\" style=\"width:50%\" @tap=\"numberMock\">\r\n              填充整型\r\n            </button>\r\n            <button type=\"default\" style=\"width:50%\" @tap=\"floatMock\">\r\n              填充浮点型\r\n            </button>\r\n          </view>\r\n          <view class=\"uni-flex uni-row\">\r\n            <button type=\"default\" style=\"width:50%\" @tap=\"jsonLikeMock\">\r\n              填充json字符串\r\n            </button>\r\n            <button type=\"default\" style=\"width:50%\" @tap=\"longLikeMock\">\r\n              填充整数字符串\r\n            </button>\r\n          </view>\r\n          <view class=\"uni-flex uni-row\">\r\n            <button type=\"default\" style=\"width:50%\" @tap=\"floatLikeMock\">\r\n              填充浮点字符串\r\n            </button>\r\n            <button type=\"default\" style=\"width:50%\" @tap=\"negativeLikeMock\">\r\n              填充负数字符串\r\n            </button>\r\n          </view>\r\n          <view class=\"uni-flex uni-row\">\r\n            <button type=\"default\" class=\"uni-btn btn-complexStaticTest\" style=\"width:100%\" @tap=\"complexStaticTest\">\r\n              字面量读写测试\r\n            </button>\r\n          </view>\r\n        </view>\r\n        <view class=\"uni-padding-wrap\">\r\n          <view class=\"uni-btn-v\">\r\n            <button type=\"primary\" class=\"uni-btn btn-setstorageAsync\" @tap=\"setStorage\">\r\n              存储数据-异步\r\n            </button>\r\n            <button class=\"uni-btn btn-getstorageAsync\" @tap=\"getStorage\">读取数据-异步</button>\r\n            <button class=\"uni-btn btn-removeStorageInfoASync\" @tap=\"removeStorage\">移除数据-异步</button>\r\n            <button class=\"uni-btn btn-clearStorageInfoASync\" @tap=\"clearStorage\">清理数据-异步</button>\r\n          </view>\r\n\r\n          <view class=\"uni-btn-v\">\r\n            <button type=\"primary\" class=\"uni-btn btn-setstorageSync\" @tap=\"setStorageSync\">\r\n              存储数据-同步\r\n            </button>\r\n            <button class=\"uni-btn btn-getstorageSync\" @tap=\"getStorageSync\">读取数据-同步</button>\r\n            <button class=\"uni-btn btn-removeStorageInfoSync\" @tap=\"removeStorageSync\">\r\n              移除数据-同步\r\n            </button>\r\n            <button class=\"uni-btn btn-clearStorageInfoSync\" @tap=\"clearStorageSync\">\r\n              清理数据-同步\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'get/set/clearStorage',\r\n        key: '',\r\n        data: '' as any,\r\n        apiGetData: '' as any | null,\r\n        storageInfo: '',\r\n        staticComplexRet: false,\n        jest_saveUTSJSONObjectSyncResult: 0,\n        jest_saveUTSJSONObjectAsyncResult: 0,\r\n        jest_saveUTSJSONObjectArraySyncResult: 0\r\n      }\r\n    },\r\n    methods: {\r\n      getStorageInfo() {\r\n        uni.getStorageInfo({\r\n          success: (res) => {\r\n            this.apiGetData = res\r\n            this.storageInfo = JSON.stringify(res)\r\n          },\r\n        })\r\n      },\r\n      getStorageInfoSync() {\r\n        try {\r\n          const res = uni.getStorageInfoSync()\r\n          this.apiGetData = res\r\n          this.storageInfo = JSON.stringify(res)\r\n        } catch (e) {\r\n          // error\r\n          console.log(e)\r\n        }\r\n      },\r\n      jsonLikeMock() {\r\n        this.key = 'key_' + Math.random()\r\n        this.data = JSON.stringify({\r\n          name: \"james\",\r\n          age: 12,\r\n          from: \"american\"\r\n        });\r\n\r\n      },\r\n      longLikeMock() {\r\n        this.key = 'key_' + Math.random()\r\n        this.data = \"1234567890\"\r\n      },\r\n      floatLikeMock() {\r\n        this.key = 'key_' + Math.random()\r\n        this.data = \"321456.1234567890\"\r\n      },\r\n      negativeLikeMock() {\r\n        this.key = 'key_' + Math.random()\r\n        this.data = \"-321456\"\r\n      },\r\n      strMock() {\r\n        this.key = 'key_' + Math.random()\r\n        this.data = '测试字符串数据，长度为16个字符'\r\n      },\r\n      complexStaticTest() {\r\n        uni.setStorageSync(\"key_complexStaticMock\", {\r\n          name: \"张三\",\r\n          age: 12\r\n        })\r\n        let savedData = uni.getStorageSync(\"key_complexStaticMock\")\r\n        this.staticComplexRet = false\r\n        if (savedData instanceof UTSJSONObject) {\r\n          if ((savedData as UTSJSONObject).getNumber('age') == 12) {\r\n            this.staticComplexRet = true\r\n            uni.showToast({\r\n              icon: 'success',\r\n              title: '测试通过'\r\n            })\r\n          }\r\n        }\r\n      },\r\n      complexMock() {\r\n        this.key = 'key_' + Math.random()\r\n        let jsonObj = {\r\n          name: '张三',\r\n          age: 12,\r\n          classMate: [\r\n            {\r\n              id: 1001,\r\n              name: '李四',\r\n            },\r\n            {\r\n              id: 1002,\r\n              name: 'jack ma',\r\n            },\r\n          ],\r\n        }\r\n        this.data = jsonObj\r\n      },\r\n      numberMock() {\r\n        this.key = 'key_' + Math.random()\r\n        this.data = 10011\r\n      },\r\n      floatMock() {\r\n        this.key = 'key_' + Math.random()\r\n        this.data = 3.1415926535893384626\r\n      },\r\n\r\n      keyChange: function (e : InputEvent) {\r\n        this.key = e.detail.value\r\n      },\r\n      dataChange: function (e : InputEvent) {\r\n        this.data = e.detail.value\r\n      },\r\n      getStorage: function () {\r\n        var key = this.key\r\n        if (key.length == 0) {\r\n          uni.showModal({\r\n            title: '读取数据失败',\r\n            content: 'key 不能为空',\r\n            showCancel: false,\r\n          })\r\n        } else {\r\n          let that = this\r\n          uni.getStorage({\r\n            key: key,\r\n            success: (res) => {\r\n\r\n              that.apiGetData = res.data\r\n              let desc : string = typeof this.apiGetData\r\n              if (\"object\" == desc) {\r\n                desc = desc + \": \" + JSON.stringify(this.apiGetData)\r\n              } else {\r\n                desc = desc + \": \" + this.apiGetData\r\n              }\r\n\r\n              uni.showModal({\r\n                title: '读取数据成功',\r\n                content: desc,\r\n                showCancel: false,\r\n              })\r\n            },\r\n            fail: () => {\r\n              uni.showModal({\r\n                title: '读取数据失败',\r\n                content: '找不到 key 对应的数据',\r\n                showCancel: false,\r\n              })\r\n            },\r\n          })\r\n        }\r\n      },\r\n      getStorageSync: function () {\r\n        var key = this.key\r\n        if (key.length == 0) {\r\n          uni.showModal({\r\n            title: '读取数据失败',\r\n            content: 'key 不能为空',\r\n            showCancel: false,\r\n          })\r\n        } else {\r\n          this.apiGetData = uni.getStorageSync(key)\r\n\r\n          let desc : string = typeof this.apiGetData\r\n          if (\"object\" == desc) {\r\n            desc = desc + \": \" + JSON.stringify(this.apiGetData)\r\n          } else {\r\n            desc = desc + \": \" + this.apiGetData\r\n          }\r\n\r\n          uni.showModal({\r\n            title: '读取数据成功',\r\n            content: desc,\r\n            showCancel: false,\r\n          })\r\n        }\r\n      },\r\n      setStorage: function () {\r\n        var key = this.key\r\n        var data = this.data\r\n        if (key.length == 0) {\r\n          uni.showModal({\r\n            title: '保存数据失败',\r\n            content: 'key 不能为空',\r\n            showCancel: false,\r\n          })\r\n        } else {\r\n          uni.setStorage({\r\n            key: key,\r\n            data: data,\r\n            success: () => {\r\n              uni.showModal({\r\n                title: '存储数据成功',\r\n                showCancel: false,\r\n              })\r\n            },\r\n            fail: () => {\r\n              uni.showModal({\r\n                title: '储存数据失败!',\r\n                showCancel: false,\r\n              })\r\n            },\r\n          })\r\n        }\r\n      },\r\n      setStorageSync: function () {\r\n        var key = this.key\r\n        var data = this.data\r\n        if (key.length == 0) {\r\n          uni.showModal({\r\n            title: '保存数据失败',\r\n            content: 'key 不能为空',\r\n            showCancel: false,\r\n          })\r\n        } else {\r\n          uni.setStorageSync(key, data)\r\n          uni.showModal({\r\n            title: '存储数据成功',\r\n            showCancel: false,\r\n          })\r\n        }\r\n      },\r\n      removeStorage: function () {\r\n        uni.removeStorage({\r\n          key: this.key,\r\n          success: () => {\r\n            uni.showModal({\r\n              title: '移除数据成功',\r\n              showCancel: false,\r\n            })\r\n          },\r\n          fail: () => {\r\n            uni.showModal({\r\n              title: '移除数据失败',\r\n              showCancel: false,\r\n            })\r\n          },\r\n        })\r\n      },\r\n      removeStorageSync: function () {\r\n        uni.removeStorageSync(this.key)\r\n        uni.showModal({\r\n          title: '移除数据成功',\r\n          showCancel: false,\r\n        })\r\n      },\r\n      clearStorage: function () {\r\n        this.key = ''\r\n        this.data = ''\r\n        uni.clearStorage({\r\n          success: function (_) {\r\n            uni.showModal({\r\n              title: '清除数据成功',\r\n              showCancel: false,\r\n            })\r\n          },\r\n          fail: function (_) {\r\n            uni.showModal({\r\n              title: '清除数据失败',\r\n              showCancel: false,\r\n            })\r\n          },\r\n        })\r\n      },\r\n      clearStorageSync: function () {\r\n        this.key = ''\r\n        this.data = ''\r\n        uni.clearStorageSync()\r\n        uni.showModal({\r\n          title: '清除数据成功',\r\n          content: ' ',\r\n          showCancel: false,\r\n        })\r\n      },\n      jest_saveUTSJSONObject: function () {\n        const key = 'test_key_saveUTSJSONObject'\n        uni.setStorageSync(key, {\n          a: {\n            b: 1\n          }\n        })\n        const dataSync = uni.getStorageSync(key) as UTSJSONObject\n        const dataSyncA = dataSync['a'] as UTSJSONObject\n        this.jest_saveUTSJSONObjectSyncResult = dataSyncA.get('b') as number\n        uni.getStorage({\n          key,\n          success: (res) => {\n            const dataAsync = res.data as UTSJSONObject\n            const dataAsyncA = dataAsync['a'] as UTSJSONObject\n            this.jest_saveUTSJSONObjectAsyncResult = dataAsyncA.get('b') as number\n            console.log('this.jest_saveUTSJSONObjectSyncResult: ' + this.jest_saveUTSJSONObjectSyncResult)\n            console.log('this.jest_saveUTSJSONObjectAsyncResult: ' + this.jest_saveUTSJSONObjectAsyncResult)\n          }\n        })\n      },\r\n      jest_saveUTSJSONObjectArray() {\r\n        const key = 'test_key_saveUTSJSONObjectArray'\r\n        uni.setStorageSync(key, [{\r\n          a: 1\r\n        }] as UTSJSONObject[])\r\n        const dataSync = uni.getStorageSync(key) as UTSJSONObject[]\r\n        this.jest_saveUTSJSONObjectArraySyncResult = dataSync[0].get('a') as number\r\n      }\r\n    },\r\n  }\r\n\n```\n\n:::"},"canvasToTempFilePath":{"name":"## uni.canvasToTempFilePath(options, componentInstance) @canvastotempfilepath","description":"把当前画布指定区域的内容导出生成指定大小的图片\n","compatibility":"### canvasToTempFilePath 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CanvasToTempFilePathOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| x | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 画布x轴起点（默认0） |\n@| y | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 画布y轴起点（默认0） |\n@| width | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 画布宽度（默认为canvas宽度-x） |\n@| height | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 画布高度（默认为canvas高度-y） |\n@| destWidth | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 输出图片宽度（默认为 width * 屏幕像素密度） |\n@| destHeight | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 输出图片高度（默认为 height * 屏幕像素密度） |\n@| canvasId | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 画布标识，传入 \\<canvas/> 的 canvas-id |\n@| fileType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 目标文件的类型，默认为 'png' |\n@| quality | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 图片的质量，取值范围为 (0, 1]，不在范围内时当作1.0处理 |\n@| success | (result: [CanvasToTempFilePathSuccess](#canvastotempfilepathsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| canvas | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  |\n| componentInstance | any | 是 | - | - | - | \n\n#### CanvasToTempFilePathSuccess 的属性值 @canvastotempfilepathsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempFilePath | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 导出生成的图片路径 |\n| errMsg | string | 否 | - | - |  |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.canvas.canvasToTempFilePath)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/canvas/wx.canvasToTempFilePath.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=canvasToTempFilePath&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=canvasToTempFilePath&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=canvasToTempFilePath&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=canvasToTempFilePath&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=canvasToTempFilePath)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=canvasToTempFilePath&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"createCanvasContextAsync":{"name":"## uni.createCanvasContextAsync(options) @createcanvascontextasync","description":"获取CanvasContext对象实例\n","compatibility":"### createCanvasContextAsync 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.25 | 4.41 | 4.25 | 4.25 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CreateCanvasContextAsyncOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| id | [string.IDString](/uts/data-type.md#ide-string) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.25\",\"4.41\",\"4.25\",\"4.25\",\"-\"]]}' /> | canvas 元素的 id 属性 |\n@| component | [ComponentPublicInstance](/vue/options-api.md#component-instance) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.25\",\"4.41\",\"4.25\",\"4.25\",\"-\"]]}' /> | 组件或页面实例，限定在什么范围内查找id |\n@| success | (context: [CanvasContext](#canvascontext-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.25\",\"4.41\",\"4.25\",\"4.25\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (error: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.25\",\"4.41\",\"4.25\",\"4.25\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | () => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.25\",\"4.41\",\"4.25\",\"4.25\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### CanvasContext 的方法 @canvascontext-values \n\n#### getContext(type: '2d'): CanvasRenderingContext2D \\| null @getcontext\n\n##### getContext 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | - | - | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| type | string | 是 | - | - | - | \n\n##### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| [CanvasRenderingContext2D](/api/canvasrenderingcontext2d.md) | 否 |\n \n\n#### toBlob(callback: CanvasContextToBlobCallback, type?: string, quality?: number): void @toblob\n创造 Blob 对象\n##### toBlob 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.25 | 4.41 | x | x | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (blob: Blob) => void | 是 | - | - | - |\n| type | string | 否 | - | - | - |\n| quality | number | 否 | - | - | - | \n\n\n#### toDataURL(): string @todataurl\n返回一个包含图片展示的 data URI\n##### toDataURL 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.25 | 4.41 | 4.25 | 4.25 | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| string |\n \n\n#### createImage(): Image @createimage\n返回一个包含图片展示的 data URI\n##### createImage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.25 | 4.41 | 4.25 | 4.25 | - |\n\n\n##### 返回值 \n\n| 类型 | 描述 |\n| :- | :- |\n| [Image](/api/image.md) | 重复的图像源，支持代码包路径和本地临时路径 (本地路径) |\n \n\n#### createPath2D(): Path2D @createpath2d\n返回一个包含图片展示的 data URI\n##### createPath2D 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.25 | 4.41 | 4.25 | 4.25 | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| [Path2D](/api/path2d.md) |\n \n\n#### requestAnimationFrame(callback: RequestAnimationFrameCallback): number; @requestanimationframe\n在下一次重绘之前，调用用户提供的回调函数\n##### requestAnimationFrame 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.25 | 4.41 | 4.25 | 4.25 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (time: number) => void | 是 | - | - | - | \n\n##### 返回值 \n\n| 类型 |\n| :- |\n| number |\n \n\n#### cancelAnimationFrame(taskId: number): void; @cancelanimationframe\n取消一个先前通过调用 uni.requestAnimationFrame() 方法添加到计划中的动画帧请求\n##### cancelAnimationFrame 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.25 | 4.41 | 4.25 | 4.25 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| taskId | number | 是 | - | - | - | \n\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.canvas.createCanvasContextAsync)"},"getLocation":{"name":"## uni.getLocation(options) @getlocation","description":"获取当前的地理位置、速度","compatibility":"### getLocation 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetLocationOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| provider | string | 否 | system | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.25\",\"4.25\",\"x\"]]}' /> | 定位服务提供商，通过 [uni.getProvider](https://doc.dcloud.net.cn/uni-app-x/api/provider.html) 获取,目前支持系统定位(system)、腾讯定位(tencent)<br/>腾讯定位是4.25版本后支持的；<br/>web端暂不支持provider机制； |\n@| type | string | 否 | wgs84 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 默认为 wgs84 返回 gps 坐标，gcj02 返回可用于uni.openLocation的坐标，web端需配置定位 SDK 信息才可支持 gcj02； |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| wgs84 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"-\"]]}' /> | wgs84坐标系，系统定位默认取值wgs84，系统定位仅支持wgs84坐标系 |\n@@| gcj02 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"-\"]]}' /> | gcj02坐标系，腾讯定位默认取值gcj02，腾讯定位仅支持gcj02坐标系 |\n@| altitude | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 传入 true 会返回高度信息，由于获取高度需要较高精确度，会减慢接口返回速度 |\n@| geocode | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.9.0\",\"4.11\",\"x\"]]}' /> | 传入 true 会解析地址；<br/>使用系统定位时平台差异：iOS支持逆地理编码，Android不支持； |\n@| highAccuracyExpireTime | number | 否 | 3000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 高精度定位超时时间(ms)，指定时间内返回最高精度，该值3000ms以上高精度定位才有效果 |\n@| isHighAccuracy | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 开启高精度定位 |\n@| success | (result: [GetLocationSuccess](#getlocationsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [IGetLocationFail](#igetlocationfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### GetLocationSuccess 的属性值 @getlocationsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| latitude | number | 是 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 纬度，浮点数，范围为-90~90，负数表示南纬 |\n| longitude | number | 是 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 经度，范围为-180~180，负数表示西经 |\n| speed | number | 是 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 速度，浮点数，单位m/s |\n| accuracy | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 位置的精确度 |\n| altitude | number | 是 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 高度，单位 m |\n| verticalAccuracy | number | 是 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"x\"]]}' /> | 垂直精度，单位 m（Android 无法获取，返回 0） |\n| horizontalAccuracy | number | 是 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"3.9.0\",\"4.11\",\"x\"]]}' /> | 水平精度，单位 m |\n| address | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"3.9.0\",\"4.11\",\"x\"]]}' /> | 地址信息 |\n\n#### IGetLocationFail 的属性值 @igetlocationfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1505003 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 系统定位未开启，请在系统设置中开启系统定位 |\n@| 1505004 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 应用定位权限未开启 |\n@| 1505023 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 不支持逆地理编码 |\n@| 1505600 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 超时 |\n@| 1505601 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 不支持的定位类型 |\n@| 1505602 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 捕获定位失败 |\n@| 1505603 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 逆地理编码捕获失败 |\n@| 1505604 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 服务供应商获取失败 |\n@| 1505605 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 未通过配置预校验，通常是腾讯定位 api key 配置错误 |\n@| 1505607 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 腾讯定位只支持GCJ-02 |\n@| 1505700 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 不支持逆地理编码 |\n@| 1505701 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 没有找到具体的定位引擎（GPS_PROVIDER，NETWORK_PROVIDER，PASSIVE_PROVIDER等），请确定系统定位是否开启 |\n@| 1505800 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 应用高精度定位权限未开启 |\n@| ~~1505026~~ | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 捕获定位失败  **从4.25开始已经废弃** |\n@| ~~1505025~~ | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 逆地理编码捕获失败  **从4.25开始已经废弃** |\n@| ~~1505024~~ | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 没有找到具体的定位引擎（GPS_PROVIDER，NETWORK_PROVIDER，PASSIVE_PROVIDER等），请定位开关是否已打开  **从4.25开始已经废弃** |\n@| ~~1505022~~ | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 不支持的定位类型  **从4.25开始已经废弃** |\n@| ~~1505021~~ | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 超时  **从4.25开始已经废弃** |\n@| ~~1505005~~ | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"3.9.0\",\"4.11\",\"4.61\"]]}' /> | 缺失高精度权限授权（iOS特有）  **从4.25开始已经废弃** |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.location.getLocation)\n- [参见uni-app相关文档](http://uniapp.dcloud.io/api/location/location?id=getlocation)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getLocation&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getLocation&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getLocation&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getLocation&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getLocation&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getLocation)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getLocation&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-location/get-location.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/get-location/get-location\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-location/get-location\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1;\">\r\n  <!-- #endif -->\r\n    <page-head :title=\"title\"></page-head>\r\n    <view style=\"padding: 4px\">\r\n      <text class=\"hello-text\">\r\n        定位功能默认调用操作系统定位API实现。也支持三方SDK定位\\n\r\n        部分老款Android手机因gms问题可能导致无法使用系统定位。\\n\r\n        Web、Android、iOS平台，gcj国标、逆地理信息等功能需调用腾讯定位。</text>\r\n    </view>\r\n\r\n    <view class=\"uni-padding-wrap uni-common-mt\">\r\n      <!-- #ifdef APP-ANDROID || APP-IOS -->\r\n      <view class=\"uni-list-cell-db\">定位服务商provider(如系统定位，腾讯定位等)</view>\r\n      <view class=\"uni-list\" style=\"margin-bottom: 20px\">\r\n        <radio-group @change=\"radioChangePV\">\r\n          <radio class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in providerList\" :key=\"item.id\"\r\n            :class=\"index < providerList.length - 1 ? 'uni-list-cell-line' : ''\" :value=\"item.id\"\r\n            :checked=\"index === currentProvider\">\r\n            {{ item.name }}\r\n          </radio>\r\n        </radio-group>\r\n      </view>\r\n      <!-- #endif -->\r\n      <view class=\"uni-list-cell-db\">定位类型</view>\r\n      <view class=\"uni-list\">\r\n        <radio-group @change=\"radioChange\">\r\n          <radio class=\"uni-list-cell uni-list-cell-pd\" v-for=\"(item, index) in items\" :key=\"item.value\"\r\n            :class=\"index < items.length - 1 ? 'uni-list-cell-line' : ''\" :value=\"item.value\"\r\n            :checked=\"index === current\">\r\n            {{ item.name }}\r\n          </radio>\r\n        </radio-group>\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\" style=\"margin-top: 20px\">\r\n        <view class=\"uni-list-cell-db\">高度信息</view>\r\n        <switch :checked=\"altitudeSelect\" @change=\"altitudeChange\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">开启高精度定位</view>\r\n        <switch :checked=\"isHighAccuracySelect\" @change=\"highAccuracySelectChange\" />\r\n      </view>\r\n      <view class=\"uni-list-cell uni-list-cell-pd\">\r\n        <view class=\"uni-list-cell-db\">是否解析地址信息</view>\r\n        <switch :checked=\"geocodeSelect\" @change=\"geocodeChange\" />\r\n      </view>\r\n      <view class=\"get-location-result\">{{ exeRet }}</view>\r\n      <view class=\"uni-btn-v\">\r\n        <button class=\"uni-btn\" type=\"default\" @tap=\"getLocationTap\">\r\n          获取定位\r\n        </button>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n<style>\r\n  .get-location-result {\r\n    /* #ifdef WEB || MP */\r\n    word-break: break-all;\r\n    /* #endif */\r\n  }\r\n</style>\r\n\n```\n\n>Script\n```uts\n\r\n  type GetLocationType = 'wgs84' | 'gcj02'\r\n  export type LocationItem = { id : string, name : string, provider ?: UniProvider }\r\n  export type ItemType = { value : GetLocationType, name : GetLocationType }\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'get-location',\r\n        altitudeSelect: false,\r\n        isHighAccuracySelect: false,\r\n        geocodeSelect: false,\r\n        exeRet: '',\r\n        items: [\r\n          {\r\n            value: 'wgs84',\r\n            name: 'wgs84'\r\n          },\r\n          {\r\n            value: 'gcj02',\r\n            name: 'gcj02'\r\n          }\r\n        ] as ItemType[],\r\n        providerList: [] as LocationItem[],\r\n        current: 0,\r\n        currentProvider: 0,\r\n        jest_provider: '',\r\n        jest_type: 'wgs84' as GetLocationType,\r\n        jest_isAltitude: false,\r\n        jest_isGeocode: false,\r\n        jest_isHighAccuracy: false,\r\n        jest_altitude: -1000,\r\n        jest_longitude: 200,\r\n        jest_latitude: 100,\r\n        jest_address: '',\r\n        jest_errCode: 0,\r\n        jest_complete: false\r\n      }\r\n    },\r\n    onLoad: function () {\r\n      // #ifdef APP\r\n      this.getProvider()\r\n      // #endif\r\n    },\r\n    methods: {\r\n      getProvider() {\r\n        // #ifdef APP\r\n\r\n        let provider = uni.getProviderSync({\r\n          service: \"location\",\r\n        } as GetProviderSyncOptions)\r\n        console.log(provider)\r\n        provider.providerObjects.forEach((value : UniProvider) => {\r\n          var currentProvider = value\r\n          if (value.id == 'system') {\r\n            currentProvider = value as UniLocationSystemProvider\r\n          } else if (value.id == 'tencent') {\r\n            currentProvider = value as UniLocationTencentProvider\r\n          }\r\n          this.providerList.push({\r\n            name: currentProvider.description,\r\n            id: currentProvider.id,\r\n            provider: currentProvider\r\n          } as LocationItem);\r\n        })\r\n\r\n        this.providerList.forEach((value, index) => {\r\n          if (value.id == \"system\") {\r\n            this.currentProvider = index\r\n          }\r\n        })\r\n        // #endif\r\n      },\r\n      altitudeChange: function (e : UniSwitchChangeEvent) {\r\n        this.altitudeSelect = e.detail.value\r\n      },\r\n      geocodeChange: function (e : UniSwitchChangeEvent) {\r\n        this.geocodeSelect = e.detail.value\r\n      },\r\n      highAccuracySelectChange: function (e : UniSwitchChangeEvent) {\r\n        this.isHighAccuracySelect = e.detail.value\r\n      },\r\n      radioChange(e : UniRadioGroupChangeEvent) {\r\n        for (let i = 0; i < this.items.length; i++) {\r\n          if (this.items[i].value === e.detail.value) {\r\n            this.current = i;\r\n            break;\r\n          }\r\n        }\r\n      },\r\n      radioChangePV(e : UniRadioGroupChangeEvent) {\r\n        for (let i = 0; i < this.providerList.length; i++) {\r\n          if (this.providerList[i].id === e.detail.value) {\r\n            this.currentProvider = i;\r\n            break;\r\n          }\r\n        }\r\n        if (e.detail.value == \"system\") {\r\n          this.current = 0\r\n        } else if (e.detail.value == \"tencent\") {\r\n          this.current = 1\r\n        }\r\n      },\r\n      getLocationTap: function () {\r\n        // #ifdef APP\r\n        if (this.providerList.length == 0) {\r\n          uni.showToast({\r\n            title: '未获取到provider，请确定基座中包含location功能',\r\n            icon: \"error\"\r\n          })\r\n          console.log(\"未获取到provider，请确定基座中包含location功能\")\r\n          return\r\n        }\r\n        // #endif\r\n        uni.showLoading({\r\n          title: '定位中'\r\n        })\r\n        uni.getLocation(({\r\n          // #ifdef APP\r\n          provider: this.providerList[this.currentProvider].id,\r\n          // #endif\r\n          type: this.items[this.current].value,\r\n          altitude: this.altitudeSelect,\r\n          isHighAccuracy: this.isHighAccuracySelect,\r\n          geocode: this.geocodeSelect,\r\n          success: (res : any) => {\r\n            uni.hideLoading()\r\n            this.exeRet = JSON.stringify(res)\r\n          },\r\n          fail: (res : any) => {\r\n            uni.hideLoading()\r\n            this.exeRet = JSON.stringify(res)\r\n          },\r\n          complete: (res : any) => {\r\n            uni.hideLoading()\r\n            this.exeRet = JSON.stringify(res)\r\n          }\r\n        }));\r\n      },\r\n\r\n      // 仅用于自动化测试\r\n      jestGetLocation() {\r\n        this.jest_complete = false\r\n        this.jest_errCode = 0\r\n        uni.getLocation(({\r\n          // #ifdef APP\r\n          provider: this.jest_provider,\r\n          // #endif\r\n          type: this.jest_type,\r\n          altitude: this.jest_isAltitude,\r\n          isHighAccuracy: this.jest_isHighAccuracy,\r\n          geocode: this.jest_isGeocode,\r\n          success: (res) => {\r\n            if (res.address != null) {\r\n              this.jest_address = res.address!\r\n            }\r\n            this.jest_longitude = res.longitude\r\n            this.jest_latitude = res.latitude\r\n            this.jest_altitude = res.altitude\r\n            this.jest_complete = true\r\n          },\r\n          fail: (err) => {\r\n            this.jest_errCode = err.errCode\r\n            this.jest_complete = true\r\n          }\r\n        }));\r\n      }\r\n    }\r\n  }\r\n\n```\n\n:::"},"openLocation":{"name":"## uni.openLocation(options) @openlocation","description":"使用地图查看位置\n","compatibility":"### openLocation 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.41 | 4.41 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **OpenLocationOptions** | 是 | - | - | uni.openLocation |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| latitude | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 纬度，范围为-90~90，负数表示南纬 |\n@| longitude | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 经度，范围为-180~180，负数表示西经 |\n@| scale | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 缩放比例，范围5~18，默认为18 |\n@| name | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 位置名称 |\n@| address | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 地址的详细说明 |\n@| success | (res: [OpenLocationSuccess](#openlocationsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | uni.openLocation成功回调函数定义 |\n@| fail | (res: [IOpenLocationError](#iopenlocationerror-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | uni.openLocation失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | uni.openLocation完成回调函数定义 | \n\n#### OpenLocationSuccess 的属性值 @openlocationsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 错误信息<br/> |\n\n#### IOpenLocationError 的属性值 @iopenlocationerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"4.41\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 错误信息<br/> |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.location.openLocation)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.openLocation.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=openLocation&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=openLocation&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=openLocation&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=openLocation&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=openLocation)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=openLocation&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/open-location/open-location.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/open-location/open-location\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/open-location/open-location\n\n>Template\n```vue\n<template>\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-common-mt\">\r\n      <form @submit=\"openLocation\">\r\n        <view class=\"uni-list\">\r\n          <view class=\"uni-list-cell\">\r\n            <view class=\"uni-list-cell-left\">\r\n              <view class=\"uni-label\">经度</view>\r\n            </view>\r\n            <view class=\"uni-list-cell-db\">\r\n              <input v-model.number=\"longitude\" class=\"uni-input\" type=\"text\" :disabled=\"true\" />\r\n            </view>\r\n          </view>\r\n          <view class=\"uni-list-cell\">\r\n            <view class=\"uni-list-cell-left\">\r\n              <view class=\"uni-label\">纬度</view>\r\n            </view>\r\n            <view class=\"uni-list-cell-db\">\r\n              <input v-model.number=\"latitude\" class=\"uni-input\" type=\"text\" :disabled=\"true\" />\r\n            </view>\r\n          </view>\r\n          <view class=\"uni-list-cell\">\r\n            <view class=\"uni-list-cell-left\">\r\n              <view class=\"uni-label\">位置名称</view>\r\n            </view>\r\n            <view class=\"uni-list-cell-db\">\r\n              <input v-model=\"name\" class=\"uni-input\" type=\"text\" :disabled=\"true\" />\r\n            </view>\r\n          </view>\r\n          <view class=\"uni-list-cell\">\r\n            <view class=\"uni-list-cell-left\">\r\n              <view class=\"uni-label\">详细位置</view>\r\n            </view>\r\n            <view class=\"uni-list-cell-db\">\r\n              <input v-model=\"address\" class=\"uni-input\" type=\"text\" :disabled=\"true\" />\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"uni-padding-wrap\">\r\n          <view class=\"tips\">注意：需要正确配置地图服务商的Key才能正常显示位置</view>\r\n          <view class=\"uni-btn-v uni-common-mt\">\r\n            <button type=\"primary\" formType=\"submit\">查看位置</button>\r\n          </view>\r\n        </view>\r\n      </form>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n\r\n<style>\r\n  .uni-list-cell-left {\r\n    padding: 0 30rpx;\r\n  }\r\n\r\n  .tips {\r\n    font-size: 12px;\r\n    margin-top: 15px;\r\n    opacity: .8;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\n  import {\n    state,\n    setLifeCycleNum\n  } from '@/store/index.uts'\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: 'openLocation',\n        longitude: 116.39747,\n        latitude: 39.9085,\n        name: '天安门',\n        address: '北京市东城区东长安街',\n        // 自动化测试\n        dialogPagesNum: -1,\r\n      }\r\n    },\n    onShow() {\n      console.log(\"Page Show\");\n      // 自动化测试\n      setLifeCycleNum(state.lifeCycleNum + 1)\n    },\n    onHide() {\n      console.log(\"Page Hide\");\n      // 自动化测试\n      setLifeCycleNum(state.lifeCycleNum - 1)\n    },\r\n    methods: {\r\n      openLocation: function () {\r\n        uni.openLocation({\r\n          longitude: this.longitude,\r\n          latitude: this.latitude,\r\n          name: this.name,\r\n          address: this.address\r\n        })\n        // 自动化测试\n        setTimeout(() => {\n          this.test()\n        }, 500)\r\n      },\n      // 自动化测试\n      test() {\n        const pages = getCurrentPages()\n        const page = pages[pages.length - 1]\n        // #ifdef APP || WEB\n        const dialogPages = page.getDialogPages()\n        this.dialogPagesNum = dialogPages.length\n        // #endif\n      },\n      // 自动化测试\n      setLifeCycleNum(value : number) {\n        setLifeCycleNum(value)\n      },\n      // 自动化测试\n      getLifeCycleNum() : number {\n        return state.lifeCycleNum\n      },\r\n    }\r\n  }\r\n\n```\n\n:::"},"chooseLocation":{"name":"## uni.chooseLocation(options) @chooselocation","description":"打开地图选择位置","compatibility":"### chooseLocation 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.33 | 4.33 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ChooseLocationOptions** | 是 | - | - | uni.chooseLocation函数参数定义 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| latitude | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"4.33\",\"4.33\",\"4.61\"]]}' /> | 指示位置的经度 |\n@| longitude | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"4.33\",\"4.33\",\"4.61\"]]}' /> | 指示位置的纬度 |\n@| keyword | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"4.33\",\"4.33\",\"4.61\"]]}' /> | 指示位置的名称 |\n@| payload | [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.35\",\"-\",\"4.35\",\"4.35\",\"4.61\"]]}' /> | 用户自定义参数 |\n@| success | (result: [ChooseLocationSuccess](#chooselocationsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"4.33\",\"4.33\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [ChooseLocationFail](#chooselocationfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"4.33\",\"4.33\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.0\",\"-\",\"4.33\",\"4.33\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### ChooseLocationSuccess 的属性值 @chooselocationsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n| name | string | 是 | - | - | - |\n| address | string | 是 | - | - | - |\n| latitude | number | 是 | - | - | - |\n| longitude | number | 是 | - | - | - |\n\n#### ChooseLocationFail 的属性值 @chooselocationfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.34\",\"-\",\"4.34\",\"4.34\",\"4.61\"]]}' /> | 取消 |\n@| 4 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.34\",\"-\",\"4.34\",\"4.34\",\"4.61\"]]}' /> | 框架内部错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.location.chooseLocation)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.chooseLocation.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=chooseLocation&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=chooseLocation&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=chooseLocation&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=chooseLocation&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=chooseLocation)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=chooseLocation&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/choose-location/choose-location.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/choose-location/choose-location\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/choose-location/choose-location\n\n>Template\n```vue\n<template>\n  <view>\n    <page-head :title=\"title\"></page-head>\n    <view class=\"uni-padding-wrap\">\n      <view class=\"uni-column content\">\n        <text class=\"uni-hello-text\">位置信息</text>\n        <text v-if=\"!hasLocation\" class=\"uni-title-text uni-common-mt\">未选择位置</text>\n        <view v-if=\"hasLocation\" style=\"align-items: center;\">\n          <text class=\"uni-common-mt\">{{locationName}}</text>\n          <text class=\"uni-common-mt\">{{locationAddress}}</text>\n          <view class=\"uni-common-mt\" v-if=\"location.latitude.length>1\">\n            <text>E: {{location.longitude[0]}}°{{location.longitude[1]}}′</text>\n            <text>\\nN: {{location.latitude[0]}}°{{location.latitude[1]}}′</text>\n          </view>\n        </view>\n      </view>\n      <view class=\"uni-btn-v\">\n        <text class=\"tips\">注意：\\n1. Web和App需要正确配置地图服务商的Key并且保证Key的权限和余额足够，才能正常选择位置\\n2. 若没有关联uniCloud空间，则只能全屏地图选点，不能根据POI选择位置\\n3. payload参数会原样透传给uni-map-co，可用于用户鉴权</text>\n        <boolean-data :defaultValue=\"false\" title=\"是否指定位置为天安门\" @change=\"changeLocationBoolean\"></boolean-data>\n        <boolean-data :defaultValue=\"false\" title=\"是否携带keyword参数\" @change=\"changeKeywordBoolean\"></boolean-data>\n        <!-- #ifndef MP -->\n        <boolean-data :defaultValue=\"false\" title=\"是否携带payload参数\" @change=\"changePayloadBoolean\"></boolean-data>\n        <!-- #endif -->\n        <button class=\"btn\" type=\"primary\" @tap=\"chooseLocation\">选择位置</button>\n        <button class=\"btn\" @tap=\"clear\">清空</button>\n        <!-- #ifdef APP-IOS -->\n        <button class=\"btn\" type=\"primary\" @tap=\"chooseLocationByPlugin\">通过 uts 插件调用 chooseLocation</button>\n        <!-- #endif -->\n      </view>\n    </view>\n  </view>\n</template>\n\n\n<style>\n  .page-body-info {\n    padding-bottom: 0;\n    height: 440rpx;\n  }\n  .content{\n    background:#FFFFFF;\n    padding:40rpx;\n    align-items: center;\n  }\n  .tips {\n    font-size: 12px;\n    margin: 15px 0;\n    opacity: .8;\n  }\n  .btn {\n    margin-top: 10px;\n  }\n</style>\n\n```\n\n>Script\n```uts\n\n  import {\n    state,\n    setLifeCycleNum\n  } from '@/store/index.uts'\n\n  type Location = {\n    latitude: string[]\n    longitude: string[]\n  }\n  export default {\n    data() {\n      return {\n        title: 'chooseLocation',\n        hasLocation: false,\n        location: {\n          latitude: [],\n          longitude: []\n        } as Location,\n        locationName: '',\n        locationAddress: '',\n        dialogPagesNum: -1,\n        hoverLocation: false,\n        hoverKeyword: false,\n        hoverPayload: false\n      }\n    },\n    onShow() {\n      console.log(\"Page Show\");\n      // 自动化测试\n      setLifeCycleNum(state.lifeCycleNum + 1)\n    },\n    onHide() {\n      console.log(\"Page Hide\");\n      // 自动化测试\n      setLifeCycleNum(state.lifeCycleNum - 1)\n    },\n    methods: {\n      chooseLocation: function () {\n        let chooseLocationOptions = {\n          success: (res) => {\n            console.log('chooseLocation success', res)\n            this.hasLocation = true\n            this.location = this.formatLocation(res.longitude, res.latitude)\n            this.locationName = res.name\n            this.locationAddress = res.address\n          }\n        } as ChooseLocationOptions\n        if (this.hoverLocation) {\n          chooseLocationOptions.latitude = 39.908823\n          chooseLocationOptions.longitude = 116.39747\n        }\n        if (this.hoverKeyword) {\n          chooseLocationOptions.keyword = '公园'\n        }\n        // #ifndef MP\n        if (this.hoverPayload) {\n          chooseLocationOptions.payload = {\n            token: 'xxx'\n          }\n        }\n        // #endif\n        uni.chooseLocation(chooseLocationOptions)\n        // 自动化测试\n        setTimeout(() => {\n          this.test()\n        }, 500)\n      },\n      formatLocation: function(longitude:number, latitude:number):Location {\n        const longitudeArr = longitude.toString().split('.')\n        const latitudeArr = latitude.toString().split('.')\n        if(longitudeArr.length>1){\n          longitudeArr[1] = longitudeArr[1].substring(0,2)\n        }\n        if(latitudeArr.length>1){\n          latitudeArr[1] = latitudeArr[1].substring(0,2)\n        }\n        return {\n          longitude: longitudeArr,\n          latitude: latitudeArr\n        }\n      },\n      clear: function () {\n        this.hasLocation = false\n      },\n      changeLocationBoolean(checked : boolean) {\n        this.hoverLocation = checked\n      },\n      changeKeywordBoolean(checked : boolean) {\n        this.hoverKeyword = checked\n      },\n      changePayloadBoolean(checked : boolean) {\n        this.hoverPayload = checked\n      },\n      // #ifdef APP-IOS\n      chooseLocationByPlugin(){\n        uni.chooseLocationPlugin()\n      },\n      // #endif\n      // 自动化测试\n      test() {\n        const pages = getCurrentPages()\n        const page = pages[pages.length - 1]\n        // #ifdef APP || WEB\n        const dialogPages = page.getDialogPages()\n        this.dialogPagesNum = dialogPages.length\n        // #endif\n      },\n      // 自动化测试\n      setLifeCycleNum(value : number) {\n        setLifeCycleNum(value)\n      },\n      // 自动化测试\n      getLifeCycleNum() : number {\n        return state.lifeCycleNum\n      },\n    }\n  }\n\n```\n\n:::"},"onLocationChange":{"name":"## uni.onLocationChange(callback) @onlocationchange","description":"监听实时地理位置变化事件，需结合 uni.startLocationUpdate 或 uni.startLocationUpdateBackground 使用。\n","compatibility":"### onLocationChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnLocationChangeCallbackResult](#onlocationchangecallbackresult-values)) => void | 是 | - | - | - | \n\n### OnLocationChangeCallbackResult 的属性值 @onlocationchangecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| latitude | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 纬度，范围为 -90~90，负数表示南纬 |\n| longitude | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 经度，范围为 -180~180，负数表示西经 |\n| accuracy | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 位置的精确度 |\n| altitude | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 高度，单位 m |\n| altitudeAccuracy | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 高度的精确度 |\n| speed | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 速度，单位 m/s |\n| horizontalAccuracy | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 水平精度，单位 m |\n| verticalAccuracy | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 垂直精度，单位 m（Android 无法获取，返回 0） |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| any |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.location.onLocationChange)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.onLocationChange.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onLocationChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onLocationChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onLocationChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onLocationChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onLocationChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onLocationChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offLocationChange":{"name":"## uni.offLocationChange(callback) @offlocationchange","description":"关闭监听实时位置变化，前后台都停止消息接收。\n","compatibility":"### offLocationChange 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OffLocationChangeCallbackResult](#offlocationchangecallbackresult-values)) => void | 是 | - | - | - | \n\n### OffLocationChangeCallbackResult 的属性值 @offlocationchangecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| latitude | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 纬度，范围为 -90~90，负数表示南纬 |\n| longitude | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 经度，范围为 -180~180，负数表示西经 |\n| accuracy | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 位置的精确度 |\n| altitude | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 高度，单位 m |\n| altitudeAccuracy | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 高度的精确度 |\n| speed | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 速度，单位 m/s |\n| horizontalAccuracy | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 水平精度，单位 m |\n| verticalAccuracy | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 垂直精度，单位 m（Android 无法获取，返回 0） |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| any |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.location.offLocationChange)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.offLocationChange.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offLocationChange&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offLocationChange&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offLocationChange&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offLocationChange&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offLocationChange)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offLocationChange&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"onLocationChangeError":{"name":"## uni.onLocationChangeError(callback) @onlocationchangeerror","description":"监听持续定位接口返回失败时触发。\n","compatibility":"### onLocationChangeError 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| any |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.location.onLocationChangeError)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.onLocationChangeError.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=onLocationChangeError&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=onLocationChangeError&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=onLocationChangeError&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=onLocationChangeError&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=onLocationChangeError)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=onLocationChangeError&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"offLocationChangeError":{"name":"## uni.offLocationChangeError(callback) @offlocationchangeerror","description":"取消注册位置更新错误回调。\n","compatibility":"### offLocationChangeError 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| any |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.location.offLocationChangeError)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.offLocationChangeError.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=offLocationChangeError&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=offLocationChangeError&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=offLocationChangeError&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=offLocationChangeError&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=offLocationChangeError)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=offLocationChangeError&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"startLocationUpdate":{"name":"## uni.startLocationUpdate(options) @startlocationupdate","description":"开启小程序进入前台时接收位置消息。\n","compatibility":"### startLocationUpdate 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **StartLocationUpdateOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| type | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 指定坐标系类型，可以是 wgs84 或 gcj02 |\n@| success | (result: [StartLocationUpdateSuccess](#startlocationupdatesuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### StartLocationUpdateSuccess 的属性值 @startlocationupdatesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| name | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 位置名称 |\n| address | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 详细地址 |\n| latitude | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 纬度，浮点数，范围为-90~90，负数表示南纬 |\n| longitude | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 经度，范围为-180~180，负数表示西经 |\n| errMsg | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息<br/> |\n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| any |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.location.startLocationUpdate)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.startLocationUpdate.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=startLocationUpdate&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=startLocationUpdate&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=startLocationUpdate&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=startLocationUpdate&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=startLocationUpdate)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=startLocationUpdate&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"stopLocationUpdate":{"name":"## uni.stopLocationUpdate(options) @stoplocationupdate","description":"关闭监听实时位置变化，前后台都停止消息接收。\n","compatibility":"### stopLocationUpdate 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | any | 是 | - | - | - | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| any |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.location.stopLocationUpdate)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/location/wx.stopLocationUpdate.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=stopLocationUpdate&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=stopLocationUpdate&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=stopLocationUpdate&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=stopLocationUpdate&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=stopLocationUpdate)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=stopLocationUpdate&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"getUniverifyManager":{"name":"## uni.~~getUniverifyManager()~~ @getuniverifymanager","description":"获取一键登录管理对象  **已废弃，仅为了向下兼容保留，建议使用`getUniVerifyManager`。**","compatibility":"### getUniverifyManager 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 3.99 | 4.18 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [UniverifyManager](#univerifymanager-values) |\n\n#### UniverifyManager 的方法 @univerifymanager-values \n\n#### preLogin(options : UniVerifyManagerPreLoginOptions) : void @prelogin\n预登录\n##### preLogin 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.99 | 4.18 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **UniVerifyManagerPreLoginOptions** | 是 | - | - | 预登录参数 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [UniVerifyManagerPreLoginSuccess](#univerifymanagerpreloginsuccess-values)) => void | 否 | - | - | - |\n@| fail | (err: [UniVerifyManagerPreLoginFail](#univerifymanagerpreloginfail-values)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n###### UniVerifyManagerPreLoginSuccess 的属性值 @univerifymanagerpreloginsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| number | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 手机号（脱敏） |\n| slogan | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 运营商slogan，如移动：中国移动提供认证服务，联通：认证服务由联通统一认证提供，电信：天翼账号提供认证服务 |\n| privacyName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 运营商隐私协议名称，如移动：中国移动认证服务条款，联通：联通统一认证服务条款，电信：天翼账号服务与隐私协议 |\n| privacyUrl | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 运营商隐私协议url地址 |\n\n###### UniVerifyManagerPreLoginFail 的属性值 @univerifymanagerpreloginfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 当前应用appid尚未开通uni一键登录 |\n@| 1001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 应用所有者账号信息异常，请检查账号一键登录服务是否正常 |\n@| 1002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 应用所有者账号信息异常，请检查账号余额是否充足 |\n@| 1004 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | uni一键登录应用不存在 |\n@| 4001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 参数异常 |\n@| 30001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 取消登录 |\n@| 30004 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 其他错误 |\n@| 30005 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 预登录失败 |\n@| 30006 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 一键登录失败 |\n@| 30007 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.51\",\"4.61\"]]}' /> | 预登录失效 |\n@| 30008 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.51\",\"4.61\"]]}' /> | 上一个请求正在进行中，请稍后重试 |\n@| 40001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 自定义授权页面未同意隐私条款 |\n@| 40002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 自定义授权页不合规，请参考文档修改 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### login(options : UniVerifyManagerLoginOptions) : void @login\n标准登录\n##### login 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.99 | 4.18 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **UniVerifyManagerLoginOptions** | 是 | - | - | 登录参数 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| uniVerifyStyle | **UniVerifyManagerLoginStyle** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 登录页样式 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| fullScreen | boolean | 否 | - | - | 是否全屏 |\n@@| logoPath | string | 否 | - | - | logo路径 |\n@@| backgroundColor | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"x\"]]}' /> | 登录页背景色 |\n@@| loginBtnText | string | 否 | - | - | 登录按钮文字 |\n@| success | (res: [UniVerifyManagerLoginSuccess](#univerifymanagerloginsuccess-values)) => void | 否 | - | - | - |\n@| fail | (err: [UniVerifyManagerLoginFail](#univerifymanagerloginfail-values)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - |\n@| ~~univerifyStyle~~ | [UniVerifyManagerLoginStyle](#univerifymanagerloginstyle-values) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> |   **已废弃，建议使用 uniVerifyStyle** | \n\n###### UniVerifyManagerLoginSuccess 的属性值 @univerifymanagerloginsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| openId | string | 是 | - | - | 登录授权唯一标识 |\n| accessToken | string | 是 | - | - | token |\n\n###### UniVerifyManagerLoginFail 的属性值 @univerifymanagerloginfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 当前应用appid尚未开通uni一键登录 |\n@| 1001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 应用所有者账号信息异常，请检查账号一键登录服务是否正常 |\n@| 1002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 应用所有者账号信息异常，请检查账号余额是否充足 |\n@| 1004 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | uni一键登录应用不存在 |\n@| 4001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 参数异常 |\n@| 30001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 取消登录 |\n@| 30004 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 其他错误 |\n@| 30005 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 预登录失败 |\n@| 30006 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 一键登录失败 |\n@| 30007 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.51\",\"4.61\"]]}' /> | 预登录失效 |\n@| 30008 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.51\",\"4.61\"]]}' /> | 上一个请求正在进行中，请稍后重试 |\n@| 40001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 自定义授权页面未同意隐私条款 |\n@| 40002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 自定义授权页不合规，请参考文档修改 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### customLogin(options : UniVerifyManagerCustomLoginOptions) : void @customlogin\n自定义授权页登录\n##### customLogin 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **UniVerifyManagerCustomLoginOptions** | 是 | - | - | 自定义登录页登录参数 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| numberTextElement | [UniElement](/dom/unielement.md) | 是 | - | - | 号码栏，仅支持使用text组件 |\n@| sloganTextElement | [UniElement](/dom/unielement.md) | 是 | - | - | 品牌露出，仅支持使用text组件 |\n@| loginButtonElement | [UniElement](/dom/unielement.md) | 是 | - | - | 登录按钮，仅支持使用button组件 |\n@| privacyCheckBoxElement | [UniElement](/dom/unielement.md) | 是 | - | - | 隐私确认，仅支持使用checkbox组件 |\n@| privacyTextElement | [UniElement](/dom/unielement.md) | 是 | - | - | 隐私标题，仅支持使用text组件 |\n@| success | (res: [UniVerifyManagerLoginSuccess](#univerifymanagerloginsuccess-values)) => void | 否 | - | - | - |\n@| fail | (err: [UniVerifyManagerLoginFail](#univerifymanagerloginfail-values)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n\n#### close() : void @close\n关闭授权页(仅支持标准登录)\n##### close 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.99 | 4.18 | 4.61 |\n\n\n\n#### isPreLoginValid() : boolean @ispreloginvalid\n预登录是否有效\n##### isPreLoginValid 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.99 | 4.18 | 4.61 |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| boolean |\n \n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.loginVerify.getUniverifyManager)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/univerify.html#univerifymanager)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/get-univerify-manager/get-univerify-manager.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/get-univerify-manager/get-univerify-manager\n```uvue\n<template>\r\n  <view>\r\n    <page-head :title=\"title\"></page-head>\r\n    <view class=\"uni-padding-wrap uni-common-mt\">\r\n      <view class=\"uni-btn-v uni-common-mt\">\r\n        <button type=\"default\" @click=\"verify(false)\">一键登录（半屏）</button>\r\n      </view>\r\n      <view class=\"uni-btn-v uni-common-mt\">\r\n        <button type=\"default\" @click=\"verify(true)\">一键登录（全屏）</button>\r\n      </view>\n      <!-- #ifndef APP-HARMONY -->\r\n      <view class=\"uni-btn-v uni-common-mt\">\r\n        <button type=\"default\" @click=\"customLoginIn()\">一键登录（自定义页面）</button>\r\n      </view>\n      <!-- #endif -->\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: '一键登录',\r\n        uniVerifyManager: null as UniVerifyManager | null,\n        phone: '',\n        slogan: '',\n        privacyName: '',\n        privacyUrl: ''\r\n      }\r\n    },\r\n    onLoad() {\r\n      this.uniVerifyManager = uni.getUniVerifyManager();\r\n      // 预登录\r\n      this.preLogin(() => { });\r\n    },\r\n    methods: {\r\n      customLoginIn() {\r\n        if('production' === process.env.NODE_ENV && '__UNI__HelloUniAppX'===uni.getAppBaseInfo().appId){\n          uni.showModal({\n            title: '提示',\n            content: '一键登录为收费功能，当前环境暂不支持。请在HBuilderX中新建Hello uni-app x项目真机运行体验！',\n            showCancel: false\n          })\n          return\n        }\r\n        const isPreLoginValid = this.uniVerifyManager?.isPreLoginValid() ?? false;\r\n        if (isPreLoginValid) {\r\n          this.pushCustomPage();\r\n        } else {\r\n          this.preLogin(() => {\r\n            this.pushCustomPage();\r\n          })\r\n        }\r\n      },\r\n      pushCustomPage() {\r\n        const url = '/pages/API/get-univerify-manager/univerify-custom-page?phone=' + this.phone + '&slogan=' + this.slogan + '&name=' + this.privacyName + '&link=' + this.privacyUrl;\r\n        uni.openDialogPage({\n          url: url,\n          animationType: 'slide-in-bottom',\n          success(res) {\n            console.log(\"成功打开自定义登录页面\");\n          },\n          fail(err) {\n            console.log(err);\n          }\n        })\r\n      },\r\n      verify(fullScreen : boolean) {\n        if('production' === process.env.NODE_ENV && '__UNI__HelloUniAppX'===uni.getAppBaseInfo().appId){\n          uni.showModal({\n            title: '提示',\n            content: '一键登录为收费功能，当前环境暂不支持。请在HBuilderX中新建Hello uni-app x项目真机运行体验！',\n            showCancel: false\n          })\n          return\n        }\r\n        // 校验预登录是否有效\r\n        const isPreLoginValid = this.uniVerifyManager?.isPreLoginValid() ?? false;\r\n        if (isPreLoginValid) {\r\n          // 预登录有效，执行登录\r\n          this.login(fullScreen);\r\n        } else {\r\n          // 预登录无效，执行预登录\r\n          this.preLogin(() => {\r\n            this.login(fullScreen);\r\n          })\r\n        }\r\n      },\r\n      preLogin(callback: (() => void)) {\r\n        this.uniVerifyManager?.preLogin({\r\n          success: (res) => {\r\n            this.phone = res.number;\r\n            this.slogan = res.slogan;\r\n            this.privacyName = res.privacyName;\r\n            this.privacyUrl = res.privacyUrl;\r\n            console.log(\"pre login success\");\r\n            callback();\r\n          },\r\n          fail: (err) => {\r\n            console.error(\"pre login fail => \" + JSON.stringify(err));\n            const hasCauseMessage = (err.cause?.cause?.message ?? '').length > 0\r\n            uni.showModal({\r\n              title: '预登录失败',\r\n              content: hasCauseMessage ? JSON.parseObject(err.cause?.cause?.message ?? '')?.getString(\"errorDesc\") : err.errMsg,\r\n              showCancel: false\r\n            });\r\n          }\r\n        });\r\n      },\r\n      login(fullScreen : boolean) {\n        this.uniVerifyManager?.login({\n          uniVerifyStyle:{\n            fullScreen: fullScreen,\n            loginBtnText: \"一键登录\",\n            logoPath: \"/static/logo.png\"\n          },\n          success: (res) => {\n            console.log(\"login success => \" + JSON.stringify(res));\n            this.takePhoneNumber(res.accessToken,res.openId);\n          },\n          fail: (err) => {\n            console.error(\"login fail => \" + err);\n            uni.showModal({\n              title: '登录失败',\n              content: JSON.parseObject(err.cause?.cause?.message ?? \"\")?.getString(\"errorDesc\") ?? err.errMsg,\n              showCancel: false\n            });\n          }\n        });\r\n      },\n      takePhoneNumber(accessToken : string, openId : string) {\n        // 云函数取号\n        uniCloud.callFunction({\n          name: 'univerify',\n          data: {\n            access_token: accessToken, // 客户端一键登录接口返回的access_token\n            openid: openId // 客户端一键登录接口返回的openid\n          }\n        }).then(res => {\n          // 关闭登录页\n          this.uniVerifyManager?.close();\n          setTimeout(() => {\n            uni.showModal({\n              title: '取号成功',\n              content: res.result.getJSON(\"res\")?.getString(\"phoneNumber\"),\n              showCancel: false\n            });\n          }, 100);\n        }).catch(err => {\n          console.error(JSON.stringify(err));\n          // 关闭登录页\n          this.uniVerifyManager?.close();\n          setTimeout(() => {\n            uni.showModal({\n              title: '取号失败',\n              content: (err as Error).message,\n              showCancel: false\n            });\n          }, 100);\n        });\n\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>/style>\n\n```\n:::"},"getUniVerifyManager":{"name":"## uni.getUniVerifyManager() @getuniverifymanager","description":"获取一键登录管理对象","compatibility":"### getUniVerifyManager 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.42 | 4.42 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [UniVerifyManager](#univerifymanager-values) |\n\n#### UniVerifyManager 的方法 @univerifymanager-values \n\n#### preLogin(options : UniVerifyManagerPreLoginOptions) : void @prelogin\n预登录\n##### preLogin 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.99 | 4.18 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **UniVerifyManagerPreLoginOptions** | 是 | - | - | 预登录参数 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (res: [UniVerifyManagerPreLoginSuccess](#univerifymanagerpreloginsuccess-values)) => void | 否 | - | - | - |\n@| fail | (err: [UniVerifyManagerPreLoginFail](#univerifymanagerpreloginfail-values)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n###### UniVerifyManagerPreLoginSuccess 的属性值 @univerifymanagerpreloginsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| number | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 手机号（脱敏） |\n| slogan | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"4.61\"]]}' /> | 运营商slogan，如移动：中国移动提供认证服务，联通：认证服务由联通统一认证提供，电信：天翼账号提供认证服务 |\n| privacyName | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 运营商隐私协议名称，如移动：中国移动认证服务条款，联通：联通统一认证服务条款，电信：天翼账号服务与隐私协议 |\n| privacyUrl | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 运营商隐私协议url地址 |\n\n###### UniVerifyManagerPreLoginFail 的属性值 @univerifymanagerpreloginfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 当前应用appid尚未开通uni一键登录 |\n@| 1001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 应用所有者账号信息异常，请检查账号一键登录服务是否正常 |\n@| 1002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 应用所有者账号信息异常，请检查账号余额是否充足 |\n@| 1004 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | uni一键登录应用不存在 |\n@| 4001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 参数异常 |\n@| 30001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 取消登录 |\n@| 30004 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 其他错误 |\n@| 30005 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 预登录失败 |\n@| 30006 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 一键登录失败 |\n@| 30007 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.51\",\"4.61\"]]}' /> | 预登录失效 |\n@| 30008 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.51\",\"4.61\"]]}' /> | 上一个请求正在进行中，请稍后重试 |\n@| 40001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 自定义授权页面未同意隐私条款 |\n@| 40002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 自定义授权页不合规，请参考文档修改 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### login(options : UniVerifyManagerLoginOptions) : void @login\n标准登录\n##### login 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.99 | 4.18 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **UniVerifyManagerLoginOptions** | 是 | - | - | 登录参数 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| uniVerifyStyle | **UniVerifyManagerLoginStyle** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 登录页样式 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| fullScreen | boolean | 否 | - | - | 是否全屏 |\n@@| logoPath | string | 否 | - | - | logo路径 |\n@@| backgroundColor | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"x\"]]}' /> | 登录页背景色 |\n@@| loginBtnText | string | 否 | - | - | 登录按钮文字 |\n@| success | (res: [UniVerifyManagerLoginSuccess](#univerifymanagerloginsuccess-values)) => void | 否 | - | - | - |\n@| fail | (err: [UniVerifyManagerLoginFail](#univerifymanagerloginfail-values)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - |\n@| ~~univerifyStyle~~ | [UniVerifyManagerLoginStyle](#univerifymanagerloginstyle-values) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> |   **已废弃，建议使用 uniVerifyStyle** | \n\n###### UniVerifyManagerLoginSuccess 的属性值 @univerifymanagerloginsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| openId | string | 是 | - | - | 登录授权唯一标识 |\n| accessToken | string | 是 | - | - | token |\n\n###### UniVerifyManagerLoginFail 的属性值 @univerifymanagerloginfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 当前应用appid尚未开通uni一键登录 |\n@| 1001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 应用所有者账号信息异常，请检查账号一键登录服务是否正常 |\n@| 1002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 应用所有者账号信息异常，请检查账号余额是否充足 |\n@| 1004 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | uni一键登录应用不存在 |\n@| 4001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 参数异常 |\n@| 30001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"4.61\"]]}' /> | 取消登录 |\n@| 30004 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 其他错误 |\n@| 30005 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 预登录失败 |\n@| 30006 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.18\",\"4.61\"]]}' /> | 一键登录失败 |\n@| 30007 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.51\",\"4.61\"]]}' /> | 预登录失效 |\n@| 30008 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.99\",\"4.51\",\"4.61\"]]}' /> | 上一个请求正在进行中，请稍后重试 |\n@| 40001 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 自定义授权页面未同意隐私条款 |\n@| 40002 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.41\",\"4.41\",\"x\"]]}' /> | 自定义授权页不合规，请参考文档修改 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### customLogin(options : UniVerifyManagerCustomLoginOptions) : void @customlogin\n自定义授权页登录\n##### customLogin 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.41 | 4.41 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **UniVerifyManagerCustomLoginOptions** | 是 | - | - | 自定义登录页登录参数 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| numberTextElement | [UniElement](/dom/unielement.md) | 是 | - | - | 号码栏，仅支持使用text组件 |\n@| sloganTextElement | [UniElement](/dom/unielement.md) | 是 | - | - | 品牌露出，仅支持使用text组件 |\n@| loginButtonElement | [UniElement](/dom/unielement.md) | 是 | - | - | 登录按钮，仅支持使用button组件 |\n@| privacyCheckBoxElement | [UniElement](/dom/unielement.md) | 是 | - | - | 隐私确认，仅支持使用checkbox组件 |\n@| privacyTextElement | [UniElement](/dom/unielement.md) | 是 | - | - | 隐私标题，仅支持使用text组件 |\n@| success | (res: [UniVerifyManagerLoginSuccess](#univerifymanagerloginsuccess-values)) => void | 否 | - | - | - |\n@| fail | (err: [UniVerifyManagerLoginFail](#univerifymanagerloginfail-values)) => void | 否 | - | - | - |\n@| complete | (res: any) => void | 否 | - | - | - | \n\n\n#### close() : void @close\n关闭授权页(仅支持标准登录)\n##### close 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.99 | 4.18 | 4.61 |\n\n\n\n#### isPreLoginValid() : boolean @ispreloginvalid\n预登录是否有效\n##### isPreLoginValid 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.99 | 4.18 | 4.61 |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| boolean |\n \n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.loginVerify.getUniVerifyManager)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/univerify.html#univerifymanager)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getUniVerifyManager&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getUniVerifyManager&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getUniVerifyManager&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getUniVerifyManager&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getUniVerifyManager&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getUniVerifyManager)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getUniVerifyManager&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"getFacialRecognitionMetaInfo":{"name":"## uni.getFacialRecognitionMetaInfo() @getfacialrecognitionmetainfo","description":"获取阿里云实人认证meta info","compatibility":"### getFacialRecognitionMetaInfo 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 3.9 | 4.11 | 4.61 |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| string |\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.loginVerify.facialRecognitionMetaInfo.getFacialRecognitionMetaInfo)"},"startFacialRecognitionVerify":{"name":"## uni.startFacialRecognitionVerify(faceStyle) @startfacialrecognitionverify","description":"启动人脸识别","compatibility":"### startFacialRecognitionVerify 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 3.9 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| faceStyle | **StartFacialRecognitionVerifyOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| certifyId | string | 是 | - | - | certifyId 调用实人认证的id |\n@| progressBarColor | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"x\"]]}' /> | 活体检测页面的进度条颜色。<br/> |\n@| screenOrientation | string | 否 | \"port\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"3.9\",\"4.11\",\"x\"]]}' /> | 认证时屏幕方向 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| land | - | 横屏 |\n@@| port | - | 竖屏 |\n@| success | (res: [StartFacialRecognitionVerifySuccess](#startfacialrecognitionverifysuccess-values)) => void | 否 | - | - | 成功回调 |\n@| fail | (res: [IFacialRecognitionVerifyError](#ifacialrecognitionverifyerror-values)) => void | 否 | - | - | 失败回调 |\n@| complete | (res: any) => void | 否 | - | - | 完成回调 | \n\n#### StartFacialRecognitionVerifySuccess 的属性值 @startfacialrecognitionverifysuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n| errSubject | string | 是 | - | - | 调用API的名称 |\n| errMsg | string | 是 | - | - | 错误的详细信息 |\n| cause | **SourceError** | 否 | - | - | 错误来源 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| subject | string | 否 | - | - | 源错误模块名称 |\n@| message | string | 是 | - | - | 源错误描述信息 |\n@| code | number | 是 | - | - | 源错误的错误码 |\n@| name | string | 是 | - | - | - |\n@| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - |  |\n\n#### IFacialRecognitionVerifyError 的属性值 @ifacialrecognitionverifyerror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 10001 | - | certifyId 不能为空 |\n@| 10002 | - | 当前设备不支持 |\n@| 10010 | - | 刷脸异常 |\n@| 10011 | - | 验证中断 |\n@| 10012 | - | 网络异常 |\n@| 10013 | - | 刷脸验证失败 |\n@| 10020 | - | 设备设置时间异常 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.loginVerify.facialRecognitionMetaInfo.startFacialRecognitionVerify)"},"facialRecognitionMetaInfo":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/facial-recognition-meta-info/facial-recognition-meta-info.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/facial-recognition-meta-info/facial-recognition-meta-info\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view class=\"page-scroll-view\">\r\n  <!-- #endif -->\r\n    <view>\r\n      <page-head :title=\"title\"></page-head>\r\n      <view class=\"uni-padding-wrap uni-common-mt\">\r\n        <view class=\"uni-btn-v uni-common-mt\">\r\n          <input class=\"uni-input\" type=\"text\" v-model=\"realName\" name=\"real-name\" placeholder=\"姓名\" maxlength=\"-1\" />\r\n        </view>\r\n        <view class=\"uni-btn-v uni-common-mt\">\r\n          <input class=\"uni-input\" type=\"text\" v-model=\"idCard\" name=\"id-card\" placeholder=\"身份证号\" maxlength=\"-1\" />\r\n        </view>\r\n        <view class=\"uni-btn-v uni-common-mt\">\r\n          <button type=\"primary\" @click=\"facialRecognition\">开始人脸识别</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        title: '实人认证',\r\n        realName: '',\r\n        idCard: ''\r\n      }\r\n    },\r\n    onReady() {\r\n    },\r\n    methods: {\r\n      facialRecognition() {\r\n        const realName = this.realName.trim()\r\n        const idCard = this.idCard.trim()\r\n        if (realName == '' || idCard == '') {\r\n          uni.showModal({\r\n            title: '错误',\r\n            content: '姓名和身份证号不可为空',\r\n            showCancel: false\r\n          })\r\n          return\r\n        }\n        if('production' === process.env.NODE_ENV && '__UNI__HelloUniAppX'===uni.getAppBaseInfo().appId){\n          uni.showModal({\n            title: '提示',\n            content: '实人认证为收费功能，当前环境暂不支持。请在HBuilderX中新建Hello uni-app x项目真机运行体验！',\n            showCancel: false\n          })\n          return\n        }\r\n        const testFacialCo = uniCloud.importObject('facial-recognition-co')\r\n        let metaInfo = uni.getFacialRecognitionMetaInfo();\r\n        testFacialCo.getCertifyId({\r\n          realName,\r\n          idCard,\r\n          metaInfo\r\n        })\r\n          .then((res : UTSJSONObject) : Promise<string> => {\r\n            const certifyId = res['certifyId'] as string\r\n            return new Promise((\r\n              resolve : (res : string) => void,\r\n              reject : (err : Error) => void\r\n            ) => {\r\n              uni.startFacialRecognitionVerify({\r\n                certifyId,\r\n                success() {\r\n                  resolve(certifyId)\r\n                },\r\n                fail(err) {\r\n                  reject(new Error(err.errMsg))\r\n                }\r\n              })\r\n            })\r\n          })\r\n          .then((certifyId : string) : Promise<UTSJSONObject> => {\r\n            return testFacialCo.getAuthResult(certifyId)\r\n          })\r\n          .then((res : UTSJSONObject) => {\r\n            console.log('res', res)\r\n          })\r\n          .catch((err : any | null) => {\r\n            console.error('error', err)\r\n          })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n</style>\n\n```\n:::"},"startSoterAuthentication":{"name":"## uni.startSoterAuthentication(options) @startsoterauthentication","description":"开始 SOTER 生物认证\n","compatibility":"### startSoterAuthentication 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **StartSoterAuthenticationOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| requestAuthModes | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 请求使用的可接受的生物认证方式 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| fingerPrint | - | 指纹识别 |\n@@| facial | - | 人脸识别 |\n@@| speech | - | 声纹识别（暂未支持） |\n@| challenge | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 挑战因子 |\n@| authContent | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 验证描述，即识别过程中显示在界面上的对话框提示内容 |\n@| success | (result: [StartSoterAuthenticationSuccess](#startsoterauthenticationsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### StartSoterAuthenticationSuccess 的属性值 @startsoterauthenticationsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误码 |\n| authMode | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 生物认证方式 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| fingerPrint | - | 指纹识别 |\n@| facial | - | 人脸识别 |\n@| speech | - | 声纹识别（暂未支持） |\n| resultJSON | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 在设备安全区域（TEE）内获得的本机安全信息以及本次认证信息 |\n| resultJSONSignature | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 用SOTER安全密钥对 resultJSON 的签名(SHA256 with RSA/PSS, saltlen=20) |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结果 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.bioAuth.startSoterAuthentication)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/open-api/soter/wx.startSoterAuthentication.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/authentication.html#startsoterauthentication)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=startSoterAuthentication&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=startSoterAuthentication&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=startSoterAuthentication&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=startSoterAuthentication&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=startSoterAuthentication)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=startSoterAuthentication&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"checkIsSupportSoterAuthentication":{"name":"## uni.checkIsSupportSoterAuthentication(options) @checkissupportsoterauthentication","description":"获取本机支持的 SOTER 生物认证方式\n","compatibility":"### checkIsSupportSoterAuthentication 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CheckIsSupportSoterAuthenticationOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [CheckIsSupportSoterAuthenticationSuccess](#checkissupportsoterauthenticationsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### CheckIsSupportSoterAuthenticationSuccess 的属性值 @checkissupportsoterauthenticationsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| supportMode | Array&lt;string&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| fingerPrint | - | 指纹识别 |\n@| facial | - | 人脸识别 |\n@| speech | - | 声纹识别（暂未支持） |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结果 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.bioAuth.checkIsSupportSoterAuthentication)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/open-api/soter/wx.checkIsSupportSoterAuthentication.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/authentication.html#checkissupportsoterauthentication)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=checkIsSupportSoterAuthentication&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=checkIsSupportSoterAuthentication&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=checkIsSupportSoterAuthentication&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=checkIsSupportSoterAuthentication&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=checkIsSupportSoterAuthentication)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=checkIsSupportSoterAuthentication&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"checkIsSoterEnrolledInDevice":{"name":"## uni.checkIsSoterEnrolledInDevice(options) @checkissoterenrolledindevice","description":"获取设备内是否录入如指纹等生物信息\n","compatibility":"### checkIsSoterEnrolledInDevice 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CheckIsSoterEnrolledInDeviceOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| checkAuthMode | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 生物认证方式 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| fingerPrint | - | 指纹识别 |\n@@| facial | - | 人脸识别 |\n@@| speech | - | 声纹识别（暂未支持） |\n@| success | (result: [CheckIsSoterEnrolledInDeviceSuccess](#checkissoterenrolledindevicesuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### CheckIsSoterEnrolledInDeviceSuccess 的属性值 @checkissoterenrolledindevicesuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| isEnrolled | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 是否已录入信息 |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息 |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.device.bioAuth.checkIsSoterEnrolledInDevice)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/open-api/soter/wx.checkIsSoterEnrolledInDevice.html)\n- [参见uni-app相关文档](https://uniapp.dcloud.net.cn/api/system/authentication.html#checkissoterenrolledindevice)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=checkIsSoterEnrolledInDevice&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=checkIsSoterEnrolledInDevice&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=checkIsSoterEnrolledInDevice&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=checkIsSoterEnrolledInDevice&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=checkIsSoterEnrolledInDevice)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=checkIsSoterEnrolledInDevice&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"bioAuth":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/bio-auth/bio-auth.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n```uvue\n<template>\n  <view class=\"uni-container\">\n    <page-head :title=\"title\"></page-head>\n    <view class=\"uni-common-mt\">\n      <text class=\"uni-title-text\">设备支持情况：</text>\n      <text class=\"uni-subtitle-text\">{{ supportStatus }}</text>\n    </view>\n    <view class=\"uni-common-mt\">\n      <text class=\"uni-title-text\">认证结果：</text>\n      <text class=\"uni-subtitle-text\">{{ authResult }}</text>\n    </view>\n    <button @click=\"checkSupport\" class=\"uni-common-mt\">检查支持的认证方式</button>\n    <button @click=\"checkAuth('fingerPrint')\" class=\"uni-common-mt\">检查指纹</button>\n    <button @click=\"checkAuth('facial')\" class=\"uni-common-mt\">检查FaceID</button>\n    <button @click=\"startAuth('fingerPrint')\"  type=\"primary\" class=\"uni-common-mt\">指纹认证</button>\n    <button @click=\"startAuth('facial')\"  type=\"primary\" class=\"uni-common-mt\">FaceID认证</button>\n  </view>\n</template>\n\n<script setup lang=\"uts\">\nconst title = '生物认证'\nconst supportStatus = ref('未检查')\nconst authResult = ref('等待认证')\n\nconst checkSupport = () => {\n  uni.checkIsSupportSoterAuthentication({\n    success: (res) => {\n      supportStatus.value = res.supportMode.length > 0 ?\n        `支持: ${res.supportMode.join(', ')}` :\n        '不支持任何生物认证'\n    },\n    fail: () => {\n      supportStatus.value = '检查失败'\n    }\n  })\n}\n\nconst checkAuth = (mode: string) => {\n  uni.checkIsSoterEnrolledInDevice({\n    checkAuthMode: mode,\n    success: (res) => {\n      console.log('res: ',res);\n      authResult.value = `${mode === 'fingerPrint' ? '指纹' : 'FaceID'}${res.isEnrolled ? '已录入' : '未录入'}`\n    },\n    fail: (err) => {\n      console.log('err: ',err);\n      authResult.value = `${mode === 'fingerPrint' ? '指纹' : 'FaceID'}检查失败，${err}`\n    }\n  })\n}\n\nconst startAuth = (mode: string) => {\n  uni.startSoterAuthentication({\n    requestAuthModes: [mode],\n    challenge: '123456',\n    authContent: `请用${mode === 'fingerPrint' ? '指纹' : 'FaceID'}解锁`,\n    success: (res) => {\n      console.log('res: ',res);\n      authResult.value = `${res.authMode === 'fingerPrint' ? '指纹' : 'FaceID'}认证成功`\n    },\n    fail: (err) => {\n      console.log('err: ',err);\n      authResult.value = `${mode === 'fingerPrint' ? '指纹' : 'FaceID'}认证失败，${err}`\n    }\n  })\n}\n</script>\n\n```"},"createRewardedVideoAd":{"name":"## uni.createRewardedVideoAd(option) @createrewardedvideoad","description":"创建激励视频广告对象","compatibility":"### createRewardedVideoAd 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.0 | 4.22 | - |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **CreateRewardedVideoAdOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| adpid | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 广告位 id |\n@| urlCallback | **UrlCallbackOptions** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 服务器回调透传参数 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| userId | string | 否 | - | - | 透传到服务器端的userId |\n@@| extra | string | 否 | - | - | 透传到服务器端的extra，不推荐设置过于复杂的字符串 |\n@| adUnitId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 广告单元 id<br/> |\n@| multiton | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 需要基础库： `2.8.0`<br/><br/>是否启用多例模式，默认为false<br/> | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [RewardedVideoAd](#rewardedvideoad-values) |\n\n#### RewardedVideoAd 的方法 @rewardedvideoad-values \n\n#### show() : Promise\\<any> @show\n广告加载成功之后，调用此方法展示广告\n##### show 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Promise\\<any> |\n \n\n#### load() : Promise\\<any> @load\n加载广告\n##### load 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Promise\\<any> |\n \n\n#### destroy() : void @destroy\n销毁广告\n##### destroy 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n\n\n#### onLoad(callback : AdCallBackEvent) : void @onload\n绑定广告 load 事件的监听器\n##### onLoad 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offLoad(callback : AdCallBackEvent) : void @offload\n解除绑定 load 事件的监听器\n##### offLoad 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onError(callback : AdErrorCallBackEvent) : void @onerror\n绑定 error 事件的监听器\n##### onError 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [IUniAdError](#iuniaderror-values)) => void | 是 | - | - | - | \n\n##### IUniAdError 的属性值 @iuniaderror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码<br/>- -5001 广告位标识adpid为空，请传入有效的adpid<br/>- -5002 无效的广告位标识adpid，请使用正确的adpid<br/>- -5003 广告位未开通广告，请在广告平台申请并确保已审核通过<br/>- -5004 无广告模块，打包时请配置要使用的广告模块<br/>- -5005 广告加载失败，请稍后重试<br/>- -5006 广告已经展示过了，请重新加载<br/>- -5007 广告不可用或已过期，请重新请求<br/>- -5008 广告不可用或已过期，请重新请求<br/>- -5009 广告类型不符，请检查后再试<br/>- -5011 打包或开通的渠道，不支持此类型广告<br/>- -5013 广告播放失败，请重新加载 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### offError(callback : AdErrorCallBackEvent) : void @offerror\n解除绑定 error 事件的监听器\n##### offError 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [IUniAdError](#iuniaderror-values)) => void | 是 | - | - | - | \n\n\n#### onClose(callback : AdCloseCallBackEvent) : void @onclose\n绑定 close 事件的监听器\n##### onClose 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [VideoAdClose](#videoadclose-values)) => void | 是 | - | - | - | \n\n##### VideoAdClose 的属性值 @videoadclose-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| isEnded | boolean | 是 | - | - | true表示广告播放完毕或者达到发放奖励的条件 |\n\n\n#### offClose(callback : AdCloseCallBackEvent) : void @offclose\n解除绑定 close 事件的监听器\n##### offClose 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [VideoAdClose](#videoadclose-values)) => void | 是 | - | - | - | \n\n\n#### onAdClicked(callback : AdCallBackEvent) : void; @onadclicked\n绑定广告可点击屏幕区域事件的监听器\n##### onAdClicked 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onVerify(callback : AdVerifyCallBackEvent) : void; @onverify\n绑定 verify 事件的监听器\n##### onVerify 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.0 | 4.22 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md)) => void | 是 | - | - | - | \n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ad.createRewardedVideoAd)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ad/RewardedVideoAd.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=createRewardedVideoAd&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=createRewardedVideoAd&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=createRewardedVideoAd&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=createRewardedVideoAd&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=createRewardedVideoAd)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=createRewardedVideoAd&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/create-rewarded-video-ad/create-rewarded-video-ad.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/create-rewarded-video-ad/create-rewarded-video-ad\n```uvue\n<template>\r\n  <page-head title=\"激励视频广告\"></page-head>\r\n  <button :type=\"btnType\" style=\"margin: 10px;\" :disabled=\"btnDisable\" @click=\"showAd()\">{{btnText}}</button>\n  <view v-for=\"(item,index) in errorDetails\">{{item}}</view>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\n        errorDetails : [] as string[],\r\n        btnText: \"\",\r\n        btnType: \"primary\",\r\n        btnDisable: false,\r\n        rewardAd: null as RewardedVideoAd | null,\r\n        isAdLoadSuccess: false\r\n      }\r\n    },\r\n    onReady() {\r\n      this.loadAd()\r\n    },\r\n    onHide() {\r\n      console.log(\"Page Hide\");\r\n    },\r\n    methods: {\r\n      loadAd() {\r\n        if (this.btnDisable)\r\n          return\r\n        this.btnDisable = true\r\n        this.btnText = \"正在加载广告\"\r\n        this.btnType = \"primary\"\r\n        if (this.rewardAd == null) {\r\n          this.rewardAd = uni.createRewardedVideoAd({\r\n            adpid: \"1507000689\" //此处为测试广告位，实际开发中请在uni-ad后台申请自己的广告位后替换\r\n          })\r\n          this.rewardAd!.onError((res) => {\n            this.errorDetails.length = 0;\r\n            this.btnType = \"warn\"\r\n            this.btnDisable = false\n            this.btnText = res.errMsg;\n            const errors = (res.cause as UniAggregateError|null)?.errors;\n            if(errors != null && errors.length > 0) {\r\n              for(var a = 0;a<errors.length;a++) {\r\n                var msg = JSON.stringify(errors[a]);\r\n                this.errorDetails.push(msg);\r\n              }\r\n            }\r\n          })\r\n          this.rewardAd!.onLoad((_) => {\n            this.errorDetails.length = 0;\r\n            this.btnType = \"primary\"\r\n            this.btnText = \"广告加载成功，点击观看\"\r\n            this.btnDisable = false\r\n            this.isAdLoadSuccess = true\r\n          })\r\n          this.rewardAd!.onClose((e) => {\r\n            // 测试广告位无法通过服务器回调。实际开发中，使用自己的广告位后，需参考uni-ad文档编写服务器回调的代码，在服务端发放奖励\r\n            this.isAdLoadSuccess = false\r\n            uni.showToast({\r\n              title: \"激励视频\" + (e.isEnded ? \"\" : \"未\") + \"播放完毕\",\r\n              position: \"bottom\"\r\n            })\r\n            this.loadAd()\r\n          })\r\n        }\r\n        this.rewardAd!.load().catch(()=>{})\r\n      },\r\n      showAd() {\r\n        if (this.isAdLoadSuccess) {\r\n          this.rewardAd!.show().catch(()=>{})\r\n        } else {\r\n          this.loadAd()\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n```\n:::"},"createInterstitialAd":{"name":"## uni.createInterstitialAd(option) @createinterstitialad","description":"创建插屏广告对象","compatibility":"### createInterstitialAd 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.31 | 4.31 | - |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| option | **CreateInterstitialAdOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| adpid | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 广告位 id |\n@| adUnitId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 广告单元 id<br/> | \n","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [InterstitialAd](#interstitialad-values) |\n\n#### InterstitialAd 的方法 @interstitialad-values \n\n#### show() : Promise\\<any> @show\n广告加载成功之后，调用此方法展示广告\n##### show 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Promise\\<any> |\n \n\n#### load() : Promise\\<any> @load\n加载广告\n##### load 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Promise\\<any> |\n \n\n#### destroy() : void @destroy\n销毁广告\n##### destroy 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n\n\n#### onLoad(callback : AdCallBackEvent) : void @onload\n绑定广告 load 事件的监听器\n##### onLoad 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offLoad(callback : AdCallBackEvent) : void @offload\n解除绑定 load 事件的监听器\n##### offLoad 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onError(callback : AdErrorCallBackEvent) : void @onerror\n绑定 error 事件的监听器\n##### onError 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [IUniAdError](#iuniaderror-values)) => void | 是 | - | - | - | \n\n##### IUniAdError 的属性值 @iuniaderror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码<br/>- -5001 广告位标识adpid为空，请传入有效的adpid<br/>- -5002 无效的广告位标识adpid，请使用正确的adpid<br/>- -5003 广告位未开通广告，请在广告平台申请并确保已审核通过<br/>- -5004 无广告模块，打包时请配置要使用的广告模块<br/>- -5005 广告加载失败，请稍后重试<br/>- -5006 广告已经展示过了，请重新加载<br/>- -5007 广告不可用或已过期，请重新请求<br/>- -5008 广告不可用或已过期，请重新请求<br/>- -5009 广告类型不符，请检查后再试<br/>- -5011 打包或开通的渠道，不支持此类型广告<br/>- -5013 广告播放失败，请重新加载 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### offError(callback : AdErrorCallBackEvent) : void @offerror\n解除绑定 error 事件的监听器\n##### offError 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [IUniAdError](#iuniaderror-values)) => void | 是 | - | - | - | \n\n\n#### onClose(callback : AdCallBackEvent) : void @onclose\n绑定 close 事件的监听器\n##### onClose 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### offClose(callback : AdCallBackEvent) : void @offclose\n解除绑定 close 事件的监听器\n##### offClose 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n\n#### onAdClicked(callback : AdCallBackEvent) : void; @onadclicked\n绑定广告可点击屏幕区域事件的监听器\n##### onAdClicked 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 4.31 | 4.31 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: any) => void | 是 | - | - | - | \n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.ad.createInterstitialAd)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/ad/InterstitialAd.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=createInterstitialAd&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=createInterstitialAd&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=createInterstitialAd&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=createInterstitialAd&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=createInterstitialAd)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=createInterstitialAd&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/create-interstitial-ad/create-interstitial-ad.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/create-interstitial-ad/create-interstitial-ad\n```uvue\n<template>\r\n  <page-head title=\"插屏广告\"></page-head>\r\n  <button :type=\"btnType\" style=\"margin: 10px;\" :disabled=\"btnDisable\" @click=\"showAd()\">{{btnText}}</button>\r\n  <view v-for=\"(item,index) in errorDetails\">{{item}}</view>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        errorDetails: [] as string[],\r\n        btnText: \"\",\r\n        btnType: \"primary\",\r\n        btnDisable: false,\r\n        interstitialAd: null as InterstitialAd | null,\r\n        isAdLoadSuccess: false\r\n      }\r\n    },\r\n    onReady() {\r\n      this.loadAd()\r\n    },\r\n    methods: {\r\n      loadAd() {\r\n        if (this.btnDisable)\r\n          return\r\n        this.btnDisable = true\r\n        this.btnText = \"正在加载广告\"\r\n        this.btnType = \"primary\"\r\n        if (this.interstitialAd == null) {\r\n          this.interstitialAd = uni.createInterstitialAd({\r\n            adpid: \"1111111113\" //此处为测试广告位，实际开发中请在uni-ad后台申请自己的广告位后替换\r\n          })\r\n          this.interstitialAd!.onError((res) => {\r\n            this.errorDetails.length = 0;\r\n            this.btnType = \"warn\"\r\n            this.btnDisable = false\r\n            this.btnText = res.errMsg;\r\n            const errors = (res.cause as UniAggregateError | null)?.errors;\r\n            if(errors != null && errors.length > 0) {\r\n              for(var a = 0;a<errors.length;a++) {\r\n                var msg = JSON.stringify(errors[a]);\r\n                this.errorDetails.push(msg);\r\n              }\r\n            }\r\n          })\r\n          this.interstitialAd!.onLoad((_) => {\r\n            this.errorDetails.length = 0;\r\n            this.btnType = \"primary\"\r\n            this.btnText = \"广告加载成功，点击观看\"\r\n            this.btnDisable = false\r\n            this.isAdLoadSuccess = true\r\n          })\r\n          this.interstitialAd!.onClose((_) => {\r\n            this.isAdLoadSuccess = false\r\n            this.loadAd()\r\n          })\r\n        }\r\n        this.interstitialAd!.load().catch(() => { })\r\n      },\r\n      showAd() {\r\n        if (this.isAdLoadSuccess) {\r\n          this.interstitialAd!.show().catch(() => { })\r\n        } else {\r\n          this.loadAd()\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n```\n:::"},"requestPayment":{"name":"## uni.requestPayment(options) @requestpayment","description":"请求支付","compatibility":"### requestPayment 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.02 | 4.18 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RequestPaymentOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| provider | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 支付服务提供商，通过 [uni.getProvider](https://doc.dcloud.net.cn/uni-app-x/api/provider.html) 获取,目前支持支付宝支付(alipay),微信支付(wxpay) |\n@| orderInfo | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"x\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 订单数据 |\n@| success | (result: [RequestPaymentSuccess](#requestpaymentsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [IRequestPaymentFail](#irequestpaymentfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| nonceStr | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 随机字符串，长度为32个字符以下<br/> |\n@| package | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 统一下单接口返回的 prepay_id 参数值，提交格式如：prepay_id=***<br/> |\n@| paySign | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 签名，具体见微信支付文档<br/> |\n@| timeStamp | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 时间戳，从 1970 年 1 月 1 日 00:00:00 至今的秒数，即当前的时间<br/> |\n@| signType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 签名算法，应与后台下单时的值一致<br/><br/>可选值：<br/>- 'MD5': 仅在 v2 版本接口适用;<br/>- 'HMAC-SHA256': 仅在 v2 版本接口适用;<br/>- 'RSA': 仅在 v3 版本接口适用;<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| MD5 | - | - |\n@@| HMAC-SHA256 | - | - |\n@@| RSA | - | - | \n\n#### RequestPaymentSuccess 的属性值 @requestpaymentsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| data | any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 返回数据 |\n\n#### IRequestPaymentFail 的属性值 @irequestpaymentfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 700000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 其它支付错误。 |\n@| 700600 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 正在处理中，支付结果未知（有可能已经支付成功），请查询商家订单列表中订单的支付状态 |\n@| 700601 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 用户中途取消。 |\n@| 700602 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 网络连接出错。 |\n@| 700603 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 支付结果未知（有可能已经支付成功），请查询商家订单列表中订单的支付状态。 |\n@| 700604 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 微信没有安装。 |\n@| 700605 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 服务供应商获取失败。 |\n@| 700607 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 支付未完成。 |\n@| 700608 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 服务商返回参数错误。 |\n@| 700800 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"x\"]]}' /> | 没有配置对应的URL Scheme。 |\n@| 700801 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"x\"]]}' /> | 没有配置对应的Universal Link。 |\n@| 701100 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 订单支付失败。 |\n@| 701110 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.02\",\"4.18\",\"4.61\"]]}' /> | 重复请求。 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.payment.requestPayment)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/payment/wx.requestPayment.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=requestPayment&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=requestPayment&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=requestPayment&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=requestPayment&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=requestPayment)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=requestPayment&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/request-payment/request-payment.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/request-payment/request-payment\n```uvue\n<template>\r\n  <page-head title=\"发起支付\"></page-head>\r\n\r\n  <template v-if=\"providerList.length > 0\">\r\n    <button style=\"margin-top: 20px;\" type=\"primary\" v-for=\"(item,index) in providerList\" :key=\"index\"\r\n      @click=\"requestPayment(item)\">{{item.name}}</button>\r\n  </template>\r\n</template>\r\n\r\n<script>\r\n  export type PayItem = { id : string, name : string, provider ?: UniProvider }\r\n  export default {\r\n    data() {\r\n      return {\r\n        btnText: \"支付宝支付\",\r\n        btnType: \"primary\",\r\n        orderInfo: \"\",\r\n        errorCode: 0,\r\n        errorMsg: \"\",\r\n        complete: false,\r\n        fail: false,\r\n        providerList: [] as PayItem[],\r\n        outTradeNo: \"\",\r\n        openid: \"\"\r\n      }\r\n    },\r\n    onLoad: function () {\r\n      // #ifdef APP\r\n      let provider = uni.getProviderSync({\r\n        service: \"payment\",\r\n      } as GetProviderSyncOptions)\r\n      console.log(provider)\r\n      provider.providerObjects.forEach((value : UniProvider) => {\r\n        switch (value.id) {\r\n          case 'alipay':\r\n            var aliPayProvider = value as UniPaymentAlipayProvider\r\n            console.log('alipay', aliPayProvider)\r\n            this.providerList.push({\r\n              name: aliPayProvider.description,\r\n              id: aliPayProvider.id,\r\n              provider: aliPayProvider\r\n            } as PayItem);\r\n            break;\r\n          case 'wxpay':\r\n            var wxPayProvider = value as UniPaymentWxpayProvider\r\n            console.log('wxpay', wxPayProvider)\r\n            this.providerList.push({\r\n              name: wxPayProvider.description,\r\n              id: wxPayProvider.id,\r\n              provider: wxPayProvider\r\n            } as PayItem);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n      })\r\n      // #endif\r\n\r\n\r\n      // #ifdef MP-WEIXIN\n      this.getOpenId()\r\n      this.providerList.push({\r\n        name: '微信支付',\r\n        id: 'wxpay'\r\n      } as PayItem);\r\n      // #endif\r\n    },\r\n    methods: {\r\n      requestPayment(e : PayItem) {\r\n        const provider = e.id\r\n        // #ifdef APP\r\n        if (provider == \"alipay\") {\r\n          this.payAli(provider)\r\n        } else if (provider == \"wxpay\") {\r\n          // #ifdef APP-ANDROID\r\n          if (e.provider != null && e.provider instanceof UniPaymentWxpayProvider && !((e.provider as UniPaymentWxpayProvider).isWeChatInstalled)) {\r\n            uni.showToast({\r\n              title: \"微信没有安装\",\r\n              icon: 'error'\r\n            })\r\n          } else {\r\n            this.payWX(provider)\r\n          }\r\n          // #endif\r\n          // #ifdef APP-IOS || APP-HARMONY\r\n          if (e.provider != null && ((e.provider as UniPaymentWxpayProvider).isWeChatInstalled == undefined || ((e.provider as UniPaymentWxpayProvider).isWeChatInstalled != null && (e.provider as UniPaymentWxpayProvider).isWeChatInstalled == false))) {\r\n            uni.showToast({\r\n              title: \"微信没有安装\",\r\n              icon: 'error'\r\n            })\r\n          } else {\r\n            this.payWX(provider)\r\n          }\r\n          // #endif\r\n        }\r\n        // #endif\r\n\r\n        // #ifdef MP-WEIXIN\r\n        this.payMpWexin()\r\n        // #endif\r\n      },\r\n      payAli(id : string) {\r\n        uni.showLoading({\r\n          title: \"请求中...\"\r\n        })\r\n        uni.request({\r\n          url: 'https://demo.dcloud.net.cn/payment/alipay/?total=0.01',\r\n          method: 'GET',\r\n          timeout: 6000,\r\n          success: (res) => {\r\n\r\n            this.orderInfo = JSON.stringify(res.data);\r\n            console.log(\"====\" + this.orderInfo)\r\n            uni.hideLoading()\r\n            uni.requestPayment({\r\n              provider: id,\r\n              orderInfo: res.data as string,\r\n              fail: (res) => {\r\n                console.log(JSON.stringify(res))\r\n                this.errorCode = res.errCode\r\n                uni.showToast({\r\n                  icon: 'error',\r\n                  title: 'errorCode:' + this.errorCode\r\n                });\r\n              },\r\n              success: (res) => {\r\n                console.log(JSON.stringify(res))\r\n                uni.showToast({\r\n                  icon: 'success',\r\n                  title: '支付成功'\r\n                });\r\n              }\r\n            })\r\n          },\r\n          fail: (e) => {\r\n            console.log(e)\r\n            uni.hideLoading()\r\n          },\r\n        });\r\n      },\r\n      payWX(id : string) {\r\n        uni.showLoading({\r\n          title: \"请求中...\"\r\n        })\r\n        let url = 'https://demo.dcloud.net.cn/payment/wxpayv3.__UNI__uniappx/?total=0.01'\r\n        const res = uni.getAppBaseInfo();\r\n        let packageName : string | null\r\n\r\n        // #ifdef APP-ANDROID\r\n        packageName = res.packageName\r\n        // #endif\r\n\r\n        // #ifdef APP-IOS\r\n        packageName = res.bundleId\r\n        // #endif\r\n\r\n        if (packageName == 'io.dcloud.hellouniappx') {//hello uniappx\r\n          url = 'https://demo.dcloud.net.cn/payment/wxpayv3.__UNI__HelloUniAppX/?total=0.01'\r\n        }\r\n        uni.request({\r\n          url: url,\r\n          method: 'GET',\r\n          timeout: 6000,\r\n          header: {\r\n            \"Content-Type\": \"application/json\"\r\n          } as UTSJSONObject,\r\n          success: (res) => {\r\n            console.log(res.data)\r\n            uni.hideLoading()\r\n            uni.requestPayment({\r\n              provider: id,\r\n              orderInfo: JSON.stringify(res.data),\r\n              fail: (res) => {\r\n                console.log(JSON.stringify(res))\r\n                this.errorCode = res.errCode\r\n                uni.showToast({\r\n                  duration: 5000,\r\n                  icon: 'error',\r\n                  title: 'errorCode:' + this.errorCode,\r\n                });\r\n              },\r\n              success: (res) => {\r\n                console.log(JSON.stringify(res))\r\n                uni.showToast({\r\n                  duration: 5000,\r\n                  icon: 'success',\r\n                  title: '支付成功'\r\n                });\r\n              }\r\n            })\r\n          },\r\n          fail: (res) => {\r\n            uni.hideLoading()\r\n            console.log(res)\r\n          },\r\n        });\r\n      },\r\n\r\n      // #ifdef MP-WEIXIN\n      getOpenId() {\n        uni.showLoading({\n          title: \"请稍等...\",\n          mask: true\n        });\n        let bundleId = uni.getAccountInfoSync().miniProgram.appId;\n        uni.login({\n          provider: 'weixin',\n          success: (res) => {\n            uni.request({\n              url: \"https://env-00jxt67zj8kj.dev-hz.cloudbasefunction.cn/uni-pay-api/getOpenId\",\n              method: \"GET\",\n              data: {\n                code: res.code,\n                bundleId\n              },\n              success: (res) => {\n                uni.hideLoading();\n                this.openid = res.data.openid;\n                console.log('openid: ', this.openid);\n              },\n              fail: (err) => {\n                uni.hideLoading();\n                console.error(\"request-err\", err);\n              }\n            });\n          }\n        })\n      },\r\n      payMpWexin() {\r\n        let bundleId = uni.getAccountInfoSync().miniProgram.appId;\r\n        let random = Math.floor(Math.random() * 9000) + 1000;\r\n        this.outTradeNo = `test${Date.now()}${random}`;\r\n        console.log('outTradeNo: ', this.outTradeNo)\r\n        uni.showLoading({\r\n          title: \"请求中...\"\r\n        });\r\n        uni.request({\r\n          url: \"https://env-00jxt67zj8kj.dev-hz.cloudbasefunction.cn/uni-pay-api/getOrderInfo\",\r\n          method: \"GET\",\r\n          data: {\r\n            outTradeNo: this.outTradeNo,\r\n            bundleId,\r\n            openid: this.openid,\n            totalFee: 1\r\n          },\r\n          success: (res) => {\r\n            uni.hideLoading();\r\n            let data = res.data as UTSJSONObject;\r\n            let errCode = data['errCode'] as number;\r\n            if (errCode != 0) {\r\n              uni.showModal({\r\n                title: \"提示\",\r\n                content: data['errMsg'] as string,\r\n                showCancel: false\r\n              });\r\n              return;\r\n            }\r\n            let orderInfo = data[\"orderInfo\"] as string;\r\n            console.log('orderInfo: ', orderInfo)\r\n            uni.requestPayment({\r\n              provider: \"wxpay\",\r\n              orderInfo: orderInfo,\r\n              ...JSON.parse(orderInfo),\r\n              success: (res) => {\r\n                console.log('res: ', res)\r\n                uni.showToast({\r\n                  title: \"支付成功\",\r\n                  icon: 'success'\r\n                });\r\n              },\r\n              fail: (err) => {\r\n                console.error(\"err\", err);\r\n                uni.hideLoading();\r\n                uni.showToast({\r\n                  title: \"支付失败\",\r\n                  icon: 'error'\r\n                });\r\n              }\r\n            });\r\n          },\r\n          fail: (err) => {\r\n            uni.hideLoading();\r\n            console.error(\"request-err\", err);\r\n          }\r\n        });\r\n      },\r\n      // #endif\r\n      //自动化测试使用\r\n      jest_pay() {\r\n        uni.requestPayment({\r\n          provider: \"alipay\",\r\n          orderInfo: this.orderInfo,\r\n          fail: (res : RequestPaymentFail) => {\r\n            this.errorCode = res.errCode\r\n            this.complete = true\r\n            this.fail = true\r\n          },\r\n          success: (res : RequestPaymentSuccess) => {\r\n            console.log(JSON.stringify(res))\r\n            this.complete = true\r\n            this.fail = false\r\n          }\r\n        } as RequestPaymentOptions)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n```\n:::"},"requestVirtualPayment":{"name":"## uni.requestVirtualPayment(options) @requestvirtualpayment","description":"请求支付","compatibility":"### requestVirtualPayment 兼容性 \n| Web | 微信小程序 | Android | iOS 系统版本 | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 15.0 | 4.25 | - |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RequestVirtualPaymentOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| apple | **AppleIAPOptions** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 苹果IAP的参数 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| productId | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 产品id，在苹果开发者中心配置 |\n@@| appAccountToken | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 透传参数，一般用于标记订单和用户的关系，可以用来验证和关联用户账户和购买记录 |\n@@| quantity | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 购买数量，默认是1，最小值是1，最大值是10 |\n@@| promotionalOffer | **AppleIAPPromotionalOffer** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 促销优惠参数说明 |\n@@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@@| :- | :- | :- | :- |  :-: | :- |\n@@@| offerIdentifier | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 促销id |\n@@@| keyIdentifier | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 密钥 |\n@@@| nonce | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 唯一id (必须小写 24小时有效) |\n@@@| signature | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 签名 |\n@@@| timestamp | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 创建证书的时间戳(毫秒 24小时有效) |\n@| success | (result: [RequestVirtualPaymentSuccess](#requestvirtualpaymentsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [IRequestVirtualPaymentFail](#irequestvirtualpaymentfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） |\n@| mode | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 支付的类型, 不同的支付类型有各自额外要传的附加参数<br/><br/>可选值：<br/>- 'short_series_goods': 道具直购;<br/>- 'short_series_coin': 代币充值;<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| short_series_goods | - | - |\n@@| short_series_coin | - | - |\n@| paySig | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  |\n@| signData | **RequestVirtualPaymentOptionsSignData** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 具体支付参数见signData, 该参数需以string形式传递, 例如signData: '{\"offerId\":\"123\",\"buyQuantity\":1,\"env\":0,\"currencyType\":\"CNY\",\"productId\":\"testproductId\",\"goodsPrice\":10,\"outTradeNo\":\"xxxxxx\",\"attach\":\"testdata\"}'<br/> |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| attach | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 透传数据, 发货通知时会透传给开发者<br/> |\n@@| buyQuantity | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 购买数量<br/> |\n@@| currencyType | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 币种<br/><br/>可选值：<br/>- 'CNY': 人民币;<br/> |\n@@| offerId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 在米大师侧申请的应用 id, mp-支付基础配置中的offerid<br/> |\n@@| outTradeNo | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 业务订单号, 每个订单号只能使用一次, 重复使用会失败(极端情况不保证唯一, 不建议业务强依赖唯一性).  要求8-32个字符内, 只能是数字、大小写字母、符号 _-\\|*@组成, 不能以下划线(_)开头<br/> |\n@@| env | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 环境配置, 0 米大师正式环境, 1 米大师沙箱环境, 默认为 0<br/> |\n@@| goodsPrice | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 道具单价(分), **该字段仅mode=short_series_goods时需要必填**, 用来校验价格与后台道具价格是否一致, 避免用户在业务商城页看到的价格与实际价格不一致导致投诉<br/> |\n@@| productId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 道具ID, **该字段仅mode=short_series_goods时需要必填**<br/> |\n@| signature | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> |  | \n\n#### RequestVirtualPaymentSuccess 的属性值 @requestvirtualpaymentsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| apple | **AppleIAPTransactionOptions** | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 支付成功返回结果 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| productId | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 产品id，和苹果开发者中心配置的一样 |\n@| appAccountToken | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 透传参数，一般用于标记订单和用户的关系，可以用来验证和关联用户账户和购买记录 |\n@| quantity | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 购买数量 |\n@| transactionDate | Date | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 交易日期，示例 2022-01-01 08:00:00 |\n@| transactionIdentifier | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 交易唯一标识 |\n@| originalTransactionDate | Date | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 原始交易日期，示例 2022-01-01 08:00:00 |\n@| originalTransactionIdentifier | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 原始交易唯一标识 |\n@| jsonRepresentation | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 支付票据 |\n\n#### IRequestVirtualPaymentFail 的属性值 @irequestvirtualpaymentfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 700000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 其他未知错误。 |\n@| 700600 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 正在处理中，支付结果未知 |\n@| 700601 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 用户中途取消。 |\n@| 700602 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 网络连接出错。 |\n@| 700604 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 不允许App内购买项目, 请授权应用内购买权限。 |\n@| 700605 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 产品无效。 |\n@| 700606 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 促销信息错误。 |\n@| 700607 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 缺少支付参数。 |\n@| 700800 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 只支持iOS15以上的版本。 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.payment.virtualPayment.requestVirtualPayment)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/payment/wx.requestVirtualPayment.html)"},"getVirtualPaymentManager":{"name":"## uni.getVirtualPaymentManager() @getvirtualpaymentmanager","description":"获取各平台虚拟支付的管理类，用于操作各平台专有的API。","compatibility":"### getVirtualPaymentManager 兼容性 \n| Web | 微信小程序 | Android | iOS 系统版本 | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 15.0 | 4.25 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"","returnValue":"### 返回值 \n\n| 类型 | 描述 |\n| :- | :- |\n| () => [VirtualPaymentManager](#virtualpaymentmanager-values) | virtual-payment的管理类 |\n\n#### VirtualPaymentManager 的方法 @virtualpaymentmanager-values \n\n#### restoreTransactions(options: AppleIAPRestoreOptions): void; @restoretransactions\n恢复苹果服务器已支付的交易列表\n##### restoreTransactions 兼容性 \n| Web | 微信小程序 | Android | iOS 系统版本 | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| x | - | x | 15.0 | 4.25 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **AppleIAPRestoreOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [AppleIAPRestoreSuccess](#appleiaprestoresuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [IAppleIAPRestoreFail](#iappleiaprestorefail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### AppleIAPRestoreSuccess 的属性值 @appleiaprestoresuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| transactions | Array&lt;**AppleIAPTransactionOptions**&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 返回的交易列表 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| productId | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 产品id，和苹果开发者中心配置的一样 |\n@| appAccountToken | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 透传参数，一般用于标记订单和用户的关系，可以用来验证和关联用户账户和购买记录 |\n@| quantity | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 购买数量 |\n@| transactionDate | Date | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 交易日期，示例 2022-01-01 08:00:00 |\n@| transactionIdentifier | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 交易唯一标识 |\n@| originalTransactionDate | Date | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 原始交易日期，示例 2022-01-01 08:00:00 |\n@| originalTransactionIdentifier | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 原始交易唯一标识 |\n@| jsonRepresentation | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 支付票据 |\n\n###### IAppleIAPRestoreFail 的属性值 @iappleiaprestorefail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 700600 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | apple restore 请求失败。 |\n@| 700601 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 用户中途取消。 |\n@| 700602 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 网络连接出错。 |\n@| 700800 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 只支持iOS15以上的版本。 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### getUnfinishedTransactions(options: AppleIAPUnfinishedTransactionOptions): void; @getunfinishedtransactions\n获取苹果服务器已支付且未关闭的交易列表\n##### getUnfinishedTransactions 兼容性 \n| Web | 微信小程序 | Android | iOS 系统版本 | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| x | - | x | 15.0 | 4.25 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **AppleIAPUnfinishedTransactionOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [AppleIAPUnfinishedTransactionSuccess](#appleiapunfinishedtransactionsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [IAppleIAPUnfinishedTransactionFail](#iappleiapunfinishedtransactionfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### AppleIAPUnfinishedTransactionSuccess 的属性值 @appleiapunfinishedtransactionsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| transactions | Array&lt;[AppleIAPTransactionOptions](#appleiaptransactionoptions-values)&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 返回的交易列表 |\n\n###### IAppleIAPUnfinishedTransactionFail 的属性值 @iappleiapunfinishedtransactionfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码<br/>- 700800  只支持iOS15以上的版本。 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### finishTransaction(options: AppleIAPFinishTransactionOptions): void; @finishtransaction\n关闭苹果服务器订单\n##### finishTransaction 兼容性 \n| Web | 微信小程序 | Android | iOS 系统版本 | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- | :- |\n| x | - | x | 15.0 | 4.25 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **AppleIAPFinishTransactionOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| transaction | [AppleIAPTransactionOptions](#appleiaptransactionoptions-values) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 交易对象 |\n@| success | (result: [AppleIAPFinishTransactionSuccess](#appleiapfinishtransactionsuccess-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: [IAppleIAPFinishTransactionFail](#iappleiapfinishtransactionfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### AppleIAPFinishTransactionSuccess 的属性值 @appleiapfinishtransactionsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| state | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 关单状态 |\n\n###### IAppleIAPFinishTransactionFail 的属性值 @iappleiapfinishtransactionfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 700600 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 没有该交易。 |\n@| 700800 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS 系统版本\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"x\",\"15.0\",\"4.25\",\"-\"]]}' /> | 只支持iOS15以上的版本。 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.payment.virtualPayment.getVirtualPaymentManager)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=getVirtualPaymentManager&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=getVirtualPaymentManager&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=getVirtualPaymentManager&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=getVirtualPaymentManager&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=getVirtualPaymentManager&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=getVirtualPaymentManager)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=getVirtualPaymentManager&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"virtualPayment":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/virtual-payment/virtual-payment.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/virtual-payment/virtual-payment\n```uvue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1;\">\r\n  <!-- #endif -->\r\n    <page-head title=\"虚拟支付\"></page-head>\r\n    <view style=\"padding-left: 20px; padding-right: 20px;\">\r\n      <text>\r\n        requestVirtualPayment api 适用于消耗性类型、非消耗性类型、自动续期订阅类型、非自动续期订阅类型产品的购买。\\n\\n\r\n        1. 消耗性类型：该类型的产品可以设置购买数量，默认是1，最大值是10； \\n\r\n        2. 非消耗性类型、自动续期订阅类型、非自动续期订阅类型: 这些类型的产品购买数量设置无效，数量只能是1; \\n\r\n        3. 非消耗性类型：该类型产品一个appleId只能购买一次，可以在任何登陆该appleId账号的设备上restore获取。\r\n      </text>\r\n      <button style=\"margin-top: 20px;\" type=\"primary\" v-for=\"(item,index) in productList\" :key=\"index\"\r\n        @click=\"requestVirtualPayment(item)\">{{item.name}}</button>\r\n\r\n      <text>\r\n        \\nrestoreTransactions api 适用于非消耗性类型、自动续期订阅类型、非自动续期订阅类型产品的购买。\\n\\n\r\n        1. 非消耗性类型: 返回每个已购买的非消耗性类型产品的购买记录；\\n\r\n        2. 自动续期订阅类型: 返回每个已购买的自动续期订阅类型产品的最新购买记录，沙盒账号最多可自动续订 12 次；\\n\r\n        3. 非自动续期订阅类型: 返回每个已购买的非自动续期订阅类型产品的最新购买记录, 该类型订阅可以连续多次购买，开发者需要自己的后台计算产品过期的时间。\\n\r\n        Note: 不能用来恢复消耗性类型的购买记录。\r\n      </text>\r\n      <button style=\"margin-top: 20px;\" type=\"primary\" @click=\"restoreTransactions\">恢复购买订单列表</button>\r\n\r\n      <text>\r\n        \\ngetUnfinishedTransactions api 适用于获取未完成的各种类型产品的购买记录（用来防止丢单）。\\n\\n\r\n        1. 比如用户点击购买已经付款成功，但因网络、手机没电关机等特殊情况，Apple IAP\r\n        没有返回客户端对应的购买凭证，从而导致无法finish该交易导致的丢单，可以在需要的地方调用该api获得此类未finished的交易记录; \\n\r\n        2. 针对消耗性类型产品交易，只能通过该api获取未finished的交易，防止丢单；\\n\r\n        3. 对于其他类型产品未finished交易, 不仅可以通过该api获取，也可以通过restoreTransactions api (也可获取已经finished的交易)获取；\r\n      </text>\r\n      <button style=\"margin-top: 20px; margin-bottom: 50px;\" type=\"primary\"\r\n        @click=\"getUnfinishedTransactions\">获取未结束的订单列表</button>\r\n    </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n<script>\r\n  export type PayItem = { id : string, name : string, quantity ?: number }\r\n  export default {\r\n    data() {\r\n      return {\r\n        productList: [] as PayItem[],\r\n        virtualPaymentManager: Object\r\n      }\r\n    },\r\n    onLoad: function () {\r\n      this.virtualPaymentManager = uni.getVirtualPaymentManager()\r\n      this.initProductList()\r\n    },\r\n    methods: {\r\n      initProductList() {\r\n        this.productList.push({\r\n          name: '消耗性产品：个人赞助1元',\r\n          id: this.isDebug() ? \"uniappx.consumable.sponsor_1\" : \"uniappx.consumable.sponsor1\",\r\n          quantity: 1\r\n        } as PayItem);\r\n\r\n        this.productList.push({\r\n          name: '消耗性产品：金牌赞助5元, 数量=2',\r\n          id: this.isDebug() ? \"uniappx.consumable.sponsor_50\" : \"uniappx.consumable.sponsor50\",\r\n          quantity: 2\r\n        } as PayItem);\r\n\r\n        this.productList.push({\r\n          name: '非消耗性产品: 赞助特效1元',\r\n          id: this.isDebug() ? \"uniappx.nonconsumable.sponsorskin_1\" : \"uniappx.nonconsumable.sponsorskin1\"\r\n        } as PayItem);\r\n\n        // this.productList.push({\n        //   name: '自动续期订阅产品：每月定期赞助1元',\n        //   id: this.isDebug() ? \"uniappx.autorenewable.monthly_1\" : \"uniappx.autorenewable.monthly1\"\n        // } as PayItem);\n\r\n        this.productList.push({\r\n          name: '非自动续期订阅产品：月赞助1元',\r\n          id: this.isDebug() ? \"uniappx.nonrenewable.monthly_1\" : \"uniappx.nonrenewable.monthly1\"\r\n        } as PayItem);\r\n\r\n        // this.productList.push({\r\n        //   name: '测试不存在的产品',\r\n        //   id: \"uniappx.nonrenewable.none\"\r\n        // } as PayItem);\r\n      },\r\n      getPackageName() : string {\r\n        const res = uni.getAppBaseInfo();\r\n        let packageName : string = \"\"\r\n\r\n        // #ifdef APP-ANDROID\r\n        packageName = res.packageName\r\n        // #endif\r\n\r\n        // #ifdef APP-IOS\r\n        packageName = res.bundleId\r\n        // #endif\r\n\r\n        return packageName\r\n      },\r\n      isDebug() : boolean {\r\n        if (this.getPackageName() == 'io.dcloud.uniappx') {\r\n          return true\r\n        }\r\n        return false\r\n      },\r\n      isProd() : boolean {\r\n        if (this.getPackageName() == 'io.dcloud.hellouniappx') {\r\n          return true\r\n        }\r\n        return false\r\n      },\r\n      isCustom() : boolean {\r\n        if (this.isDebug() == false && this.isProd() == false) {\r\n          return true\r\n        }\r\n        return false\r\n      },\r\n      requestVirtualPayment(e : PayItem) {\r\n        uni.showLoading({\r\n          title: \"\",\r\n          mask: true\r\n        });\r\n\r\n        uni.requestVirtualPayment({\r\n          //需要将orderId转换为如下符合UUID规则的字符串，然后赋值给参数appAccountToken, 传入不符合UUID规则的字符串无效\r\n          apple: {\r\n            productId: e.id,\r\n            appAccountToken: \"123eaaaa-e89b-12d3-a456-42661417400b\",\r\n            quantity: e.quantity ?? 1,\r\n          },\r\n          success: (res) => {\r\n            uni.hideLoading()\r\n            console.log(\"购买成功：该productId= \" + res.apple?.productId)\r\n            //TODO: 开发者server验证逻辑\r\n\r\n            //经过开发者server验证成功后请结束该交易\r\n            uni.showToast({\r\n              title: \"购买成功：\" + res.apple?.productId,\r\n              icon: 'success'\r\n            })\r\n\r\n            this.virtualPaymentManager.finishTransaction({\r\n              transaction: res.apple,\r\n              success: (r) => {\r\n                console.log(\"关单成功, 该productId= \" + res.apple?.productId)\r\n              },\r\n              fail: (e) => {\r\n                console.log(\"关单失败, 该productId= \" + res.apple?.productId)\r\n              }\r\n            })\r\n          },\r\n          fail: (e) => {\r\n            uni.hideLoading()\r\n            console.log(\"购买失败：errSubject= \" + e.errSubject + \", errCode= \" + e.errCode + \", errMsg= \" + e.errMsg)\r\n            uni.showToast({\r\n              title: \"购买失败错误码：\" + e.errCode,\r\n              icon: 'error'\r\n            })\r\n          }\r\n        })\r\n      },\r\n      restoreTransactions() {\r\n        uni.showLoading({\r\n          title: \"\",\r\n          mask: true\r\n        });\r\n\r\n        this.virtualPaymentManager.restoreTransactions({\r\n          success: (res) => {\r\n            uni.hideLoading()\r\n            console.log(\"restore成功的交易个数：\" + res.transactions.length)\r\n            res.transactions.forEach(transaction => {\r\n\r\n              //TODO: 开发者server验证逻辑\r\n\r\n              console.log(\"restore成功的交易productId= \" + transaction.productId)\r\n            })\r\n            uni.showToast({\r\n              title: \"restore成功的交易个数：\" + res.transactions.length,\r\n              icon: 'success'\r\n            })\r\n          },\r\n          fail: (e) => {\r\n            uni.hideLoading()\r\n            console.log(\"restore失败：errSubject= \" + e.errSubject + \", errCode= \" + e.errCode + \", errMsg= \" + e.errMsg)\r\n            uni.showToast({\r\n              title: \"restore失败错误码：\" + e.errCode,\r\n              icon: 'error'\r\n            })\r\n          }\r\n        })\r\n      },\r\n      getUnfinishedTransactions() {\r\n        uni.showLoading({\r\n          title: \"\",\r\n          mask: true\r\n        });\r\n\r\n        this.virtualPaymentManager.getUnfinishedTransactions({\r\n          success: (res) => {\r\n            uni.hideLoading()\r\n            console.log(\"获取未结束的订单列表个数：\" + res.transactions.length)\r\n            uni.showToast({\r\n              title: \"获取未结束的订单列表个数：\" + res.transactions.length,\r\n              icon: 'success'\r\n            })\r\n\r\n            res.transactions.forEach(transaction => {\r\n\r\n              console.log(\"getUnfinishedTransactions成功的交易productId= \" + transaction.productId)\r\n              //TODO: 开发者server验证逻辑\r\n\r\n              //经过开发者server验证成功后请结束该交易\r\n              this.virtualPaymentManager.finishTransaction({\r\n                transaction: transaction,\r\n                success: (r) => {\r\n                  console.log(\"关单成功, 该productId= \" + transaction.productId)\r\n                },\r\n                fail: (e) => {\r\n                  console.log(\"关单失败, 该productId= \" + transaction.productId)\r\n                }\r\n              })\r\n            })\r\n          },\r\n          fail: (e) => {\r\n            uni.hideLoading()\r\n            console.log(\"获取未结束的订单列表失败：errSubject= \" + e.errSubject + \", errCode= \" + e.errCode + \", errMsg= \" + e.errMsg)\r\n            uni.showToast({\r\n              title: \"获取未结束的订单列表失败错误码\" + e.errCode,\r\n              icon: 'error'\r\n            })\r\n          }\r\n        })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n```\n:::"},"requestMerchantTransfer":{"name":"## uni.requestMerchantTransfer(options) @requestmerchanttransfer","description":"商家转账用户确认模式下，拉起页面请求用户确认收款","compatibility":"### requestMerchantTransfer 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | 4.41 | 4.61 | 4.61 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **RequestMerchantTransferOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| mchId | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.61\",\"4.61\",\"4.61\",\"x\"]]}' /> | 商户号 |\n@| package | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.61\",\"4.61\",\"4.61\",\"x\"]]}' /> | 商家转账付款单跳转收款页 pkg 信息,商家转账付款单受理成功时返回给商户 |\n@| appId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.61\",\"4.61\",\"4.61\",\"x\"]]}' /> | 商户 appId（微信平台appid），普通模式下必填，服务商模式下，appId 和 subAppId 二选一填写 |\n@| openId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.61\",\"4.61\",\"4.61\",\"x\"]]}' /> | 收款用户 openId， 对应传入的商户 appId 下，某用户的 openId |\n@| subAppId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.61\",\"4.61\",\"4.61\",\"x\"]]}' /> | 子商户 appId（微信平台子appid)，服务商模式下，appId 和 subAppId 二选一填写 |\n@| subMchId | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.61\",\"4.61\",\"4.61\",\"x\"]]}' /> | 子商户号，服务商模式下必填 |\n@| success | (res: [RequestMerchantTransferGeneralCallbackResult](#requestmerchanttransfergeneralcallbackresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (res: [RequestMerchantTransferGeneralCallbackResult](#requestmerchanttransfergeneralcallbackresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (res: [RequestMerchantTransferGeneralCallbackResult](#requestmerchanttransfergeneralcallbackresult-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.61\",\"4.61\",\"4.61\",\"x\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### RequestMerchantTransferGeneralCallbackResult 的属性值 @requestmerchanttransfergeneralcallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.payment.requestMerchantTransfer)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/payment/wx.requestMerchantTransfer.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=requestMerchantTransfer&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=requestMerchantTransfer&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=requestMerchantTransfer&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=requestMerchantTransfer&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=requestMerchantTransfer)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=requestMerchantTransfer&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/request-merchant-transfer/request-merchant-transfer.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/request-merchant-transfer/request-merchant-transfer\n```uvue\n<template>\n  <view class=\"content\">\n    <button class=\"button\" @click=\"pay\">支付0.2元</button>\n    <button class=\"button\" @click=\"transfer\" :disabled=\"disabled\">接受0.1元转账</button>\n    <view class=\"tips\" v-if=\"disabled\" style=\"color: #ff5a5f;\">请先支付 0.2 元，才能体验接收转账 0.1 元</view>\n    <!-- #ifdef MP-WEIXIN -->\n    <view class=\"tips\" v-else><text style=\"color: #42b983;\">若已支付 0.2 元，请点击“接受0.1元转账”按钮</text></view>\n    <!-- #endif -->\n\n    <!-- #ifndef MP-WEIXIN -->\n    <view class=\"tips\" v-else><text style=\"color: #42b983;\">已支付 0.2 元，请点击“接受0.1元转账”按钮</text></view>\n    <!-- #endif -->\n  </view>\n</template>\n\n<script>\n  export default {\n    data() {\n      return {\n        outTradeNo: \"\",\n        disabled: true,\n        openid: \"\"\n      }\n    },\n    onLoad() {\n      // this.outTradeNo = \"test17404775193789726\";\n      // this.disabled = false;\n      // #ifdef MP-WEIXIN\n      this.getOpenId();\n      // #endif\n    },\n    methods: {\n      pay() {\n        let bundleId = this.getBundleId();\n        let random = Math.floor(Math.random() * 9000) + 1000;\n        this.outTradeNo = `test${Date.now()}${random}`;\n        console.log('outTradeNo: ', this.outTradeNo)\n        this.disabled = true;\n        uni.showLoading({\n          title: \"请求中...\"\n        });\n        // #ifdef APP\n        const getProviderRes = uni.getProviderSync({\n          service: \"payment\"\n        });\n        if (getProviderRes.providerIds.indexOf(\"wxpay\") == -1) {\n          uni.showToast({\n            title: \"未添加微信支付依赖\",\n            icon: 'error'\n          });\n          uni.hideLoading();\n          return;\n        }\n        // #endif\n        uni.request({\n          url: \"https://env-00jxt67zj8kj.dev-hz.cloudbasefunction.cn/uni-pay-api/getOrderInfo\",\n          method: \"GET\",\n          data: {\n            outTradeNo: this.outTradeNo,\n            bundleId,\n            openid: this.openid\n          },\n          success: (res) => {\n            uni.hideLoading();\n            let data = res.data as UTSJSONObject;\n            let errCode = data['errCode'] as number;\n            if (errCode != 0) {\n              uni.showModal({\n                title: \"提示\",\n                content: data['errMsg'] as string,\n                showCancel: false\n              });\n              return;\n            }\n            let orderInfo = data[\"orderInfo\"] as string;\n            console.log('orderInfo: ', orderInfo)\n            // #ifdef MP-WEIXIN\n            setTimeout(() => {\n              this.disabled = false;\n            }, 3000);\n            // #endif\n            uni.requestPayment({\n              provider: \"wxpay\",\n              orderInfo: orderInfo,\n              // #ifdef MP-WEIXIN\n              ...JSON.parse(orderInfo),\n              // #endif\n              success: (res) => {\n                console.log('res: ', res)\n                uni.showToast({\n                  title: \"支付成功\",\n                  icon: 'success'\n                });\n                this.disabled = false;\n              },\n              fail: (err) => {\n                console.error(\"err\", err);\n                uni.hideLoading();\n                uni.showToast({\n                  title: \"支付失败\",\n                  icon: 'error'\n                });\n              }\n            });\n          },\n          fail: (err) => {\n            uni.hideLoading();\n            console.error(\"request-err\", err);\n          }\n        });\n      },\n      transfer() {\n        uni.showLoading({\n          title: \"请求中...\"\n        });\n        try {\n          let bundleId = this.getBundleId();\n          uni.request({\n            url: \"https://env-00jxt67zj8kj.dev-hz.cloudbasefunction.cn/uni-pay-api/transfer\",\n            method: \"GET\",\n            data: {\n              outTradeNo: this.outTradeNo,\n              bundleId\n            },\n            success: (res) => {\n              let data = res.data as UTSJSONObject;\n              if (data['errCode'] != null && typeof data['errCode'] == \"number\" && data['errCode'] == 0) {\n                let options = data['options'] as UTSJSONObject;\n                uni.requestMerchantTransfer({\n                  mchId: options['mchId'] as string,\n                  appId: options['appId'] as string,\n                  package: options['package'] as string,\n                  success: (res) => {\n                    uni.hideLoading();\n                    console.log('res: ', res)\n                    uni.showToast({\n                      title: \"转账成功\",\n                      icon: 'success'\n                    });\n                    this.disabled = true;\n                  },\n                  fail: (err) => {\n                    uni.hideLoading();\n                    let errMsg = err.errMsg;\n                    if (errMsg == \"requestMerchantTransfer:fail cancel\") {\n                      errMsg = \"取消转账\";\n                    }\n                    uni.showToast({\n                      title: errMsg,\n                      icon: 'none'\n                    });\n                    console.error(\"转账失败\", err);\n                  }\n                });\n              } else {\n                uni.hideLoading();\n                if (data['errMsg'] != null) {\n                  uni.showModal({\n                    title: \"提示\",\n                    content: data['errMsg'] as string,\n                    showCancel: false\n                  });\n                }\n                return;\n              }\n            },\n            fail: (err) => {\n              console.error(\"request-err\", err);\n              uni.hideLoading();\n            }\n          });\n        } catch (err) {\n          console.error('err: ', err)\n          uni.showToast({\n            title: \"运行异常\",\n            icon: 'error'\n          });\n          uni.hideLoading();\n        }\n      },\n      getBundleId() : string | null {\n        let baseInfo = uni.getAppBaseInfo();\n        let bundleId : string | null;\n        // #ifdef APP-ANDROID\n        bundleId = baseInfo.packageName;\n        // #endif\n        // #ifdef APP-IOS\n        bundleId = baseInfo.bundleId;\n        // #endif\n        // #ifdef MP-WEIXIN\n        bundleId = uni.getAccountInfoSync().miniProgram.appId;\n        // #endif\n        return bundleId;\n      },\n      // #ifdef MP-WEIXIN\n      getOpenId() {\n        uni.showLoading({\n          title: \"请稍等...\",\n          mask: true\n        });\n        let bundleId = this.getBundleId();\n        uni.login({\n          provider: 'weixin',\n          success: (res) => {\n            uni.request({\n              url: \"https://env-00jxt67zj8kj.dev-hz.cloudbasefunction.cn/uni-pay-api/getOpenId\",\n              method: \"GET\",\n              data: {\n                code: res.code,\n                bundleId\n              },\n              success: (res) => {\n                uni.hideLoading();\n                this.openid = res.data.openid;\n                console.log('openid: ', this.openid);\n              },\n              fail: (err) => {\n                uni.hideLoading();\n                console.error(\"request-err\", err);\n              }\n            });\n          }\n        })\n      },\n      // #endif\n    }\n  }\n</script>\n\n<style>\n  .content {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    padding: 20px;\n  }\n\n  .button {\n    width: 100%;\n    margin-bottom: 20px;\n    border-radius: 5px;\n  }\n\n  .tips {\n    color: #999;\n    font-size: 14px;\n  }\n</style>\n\n```\n:::"},"shareWithSystem":{"name":"## uni.shareWithSystem(options) @sharewithsystem","description":"使用系统分享。\n","compatibility":"### shareWithSystem 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.33 | 4.33 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ShareWithSystemOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| type | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"x\",\"x\"]]}' /> | 分享类型,默认为text。 |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| text | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"x\",\"x\"]]}' /> | text类型 |\n@@| image | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"x\",\"x\"]]}' /> | image类型 |\n@@| video | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"x\",\"x\"]]}' /> | video类型 |\n@@| audio | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"x\",\"x\"]]}' /> | audio类型 |\n@@| file | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"x\",\"x\"]]}' /> | file类型 |\n@| summary | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 分享的文字内容 |\n@| href | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 分享链接 |\n@| imageUrl | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 分享单个图片，仅支持本地路径 |\n@| imagePaths | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 分享图片，仅支持本地路径 |\n@| videoPaths | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 分享video，仅支持本地路径 |\n@| audioPaths | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 分享audio，仅支持本地路径 |\n@| filePaths | Array&lt;string&gt; | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 分享文件，仅支持本地路径 |\n@| success | (res: ShareWithSystemSuccess) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | uni.shareWithSystem成功回调函数定义 |\n@| fail | (res: [IShareWithSystemFail](#isharewithsystemfail-values)) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | uni.shareWithSystem失败回调函数定义 |\n@| complete | (res: any) => void | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | uni.shareWithSystem完成回调函数定义 | \n\n#### IShareWithSystemFail 的属性值 @isharewithsystemfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 1310600 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 取消分享 |\n@| 1310601 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 分享内容不可以为空 |\n@| 1310602 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 已经成功调用系统分享接口，系统分享出错 |\n@| 1310603 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 图片路径无效 |\n@| 1310604 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | 无效的链接 |\n@| 1310605 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | video 路径无效 |\n@| 1310606 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | file 文件不存在 |\n@| 1310607 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.33\",\"4.33\",\"x\"]]}' /> | audio 路径无效 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.share.shareWithSystem)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=shareWithSystem&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=shareWithSystem&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=shareWithSystem&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=shareWithSystem&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=shareWithSystem&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=shareWithSystem)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=shareWithSystem&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/share-with-system/share-with-system.uvue) \n>\n> 该 API 不支持 Web，请运行 hello uni-app x 到 App 平台体验 \n\n::: preview\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/share-with-system/share-with-system\n```uvue\n<template>\n\t<!-- #ifdef APP -->\n\t<scroll-view direction=\"vertical\" style=\"flex:1;\">\n\t<!-- #endif -->\n\t\t<view id=\"viewshot\">\n\t\t\t<button class=\"button\" @click=\"shareText()\">分享文本</button>\n\t\t\t<button class=\"button\" @click=\"shareLink()\">分享链接</button>\n\t\t\t<button class=\"button\" @click=\"sharePrivateImg()\">分享单个本地图片</button>\n\t\t\t<button class=\"button\" @click=\"sharePrivateImgs()\">分享多个本地图片</button>\n\t\t\t<button class=\"button\" @click=\"shareAll()\">分享链接、文本、一张图片</button>\n\t\t\t<button class=\"button\" @click=\"sharePrivateVideo()\">分享video文件(单个)</button>\n\t\t\t<button class=\"button\" @click=\"sharePrivateVideos()\">分享video文件(多个)</button>\n\t\t\t<button class=\"button\" @click=\"sharePrivateAudio()\">分享Audio文件(单个)</button>\n\t\t\t<button class=\"button\" @click=\"sharePrivateAudios()\">分享Audio文件(多个)</button>\n\t\t\t<button class=\"button\" @click=\"sharePrivateFile()\">分享文件(单个)</button>\n\t\t\t<button class=\"button\" @click=\"sharePrivateFiles()\">分享文件(多个)</button>\n      <button class=\"button\" @click=\"sharePubImg()\">选择图片并分享</button>\n      <button class=\"button\" @click=\"sharePubMedias()\">选择video并分享</button>\n      <button class=\"button\" @click=\"shareSnapShot()\">指定view截图并分享</button>\n\n\t\t\t<button class=\"button\" type=\"warn\" @click=\"sharePrivateErrorImg()\">分享单个本地图片(错误路径)</button>\n\t\t\t<button class=\"button\" type=\"warn\" @click=\"sharePrivateErrorImgs()\">分享多个本地图片(含有错误路径)</button>\n\t\t\t<button class=\"button\" type=\"warn\" @click=\"sharePrivateErrorVideos()\">分享Video文件(错误路径)</button>\n\t\t\t<button class=\"button\" type=\"warn\" @click=\"sharePrivateErrorAudios()\">分享Audio文件(错误路径)</button>\n\t\t\t<button class=\"button\" type=\"warn\" @click=\"sharePrivateErrorFiles()\">分享文件(错误路径)</button>\n\n\n\t\t</view>\n\t</scroll-view>\n</template>\n\n<script>\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tsummary: '欢迎使用hello uniapp-x'\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tsharePrivateErrorAudios() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst path1 : string = \"/static/test-audio/ForElise.mp3\";\n\t\t\t\tconst path2 : string = \"/static/test-audio/ForElise.mp32\";\n\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\taudioPaths: [path1, path2],\n\t\t\t\t\ttype:'audio',\n\t\t\t\t\tsuccess() {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\tsharePrivateErrorFiles() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst path1 : string = \"/static/filemanager1/to.zip\";\n\t\t\t\tconst path2 : string = \"/static/filemanager/11.txt.br\";\n\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\tfilePaths: [path1, path2],\n\t\t\t\t\ttype:'file',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePrivateFile() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst path1 : string = \"/static/filemanager/to.zip\";\n\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\tfilePaths: [path1],\n\t\t\t\t\ttype:'file',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePrivateFiles() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst path1 : string = \"/static/filemanager/to.zip\";\n\t\t\t\tconst path2 : string = \"/static/filemanager/1.txt.br\";\n\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\tfilePaths: [path1, path2],\n\t\t\t\t\ttype:'file',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePrivateAudio() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst path1 : string = \"/static/test-audio/ForElise.mp3\";\n\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\taudioPaths: [path1],\n\t\t\t\t\ttype:'audio',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePrivateAudios() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst path1 : string = \"/static/test-audio/ForElise.mp3\";\n\t\t\t\tconst path2 : string = \"/static/test-audio/ForElise.mp3\";\n\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\taudioPaths: [path1, path2],\n\t\t\t\t\ttype:'audio',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePrivateErrorVideos() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst path1 : string = \"/static/test-video/10second-demo.mp4\";\n\t\t\t\tconst path2 : string = \"/static/test-video/10second-demo1.mp4\";\n\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\tvideoPaths: [path1, path2],\n\t\t\t\t\ttype:'video',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\tsharePrivateVideo() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst path1 : string = \"/static/test-video/10second-demo.mp4\";\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\tvideoPaths: [path1],\n\t\t\t\t\ttype:'video',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\tsharePrivateVideos() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst path1 : string = \"/static/test-video/10second-demo.mp4\";\n\t\t\t\tconst path2 : string = \"/static/test-video/10second-demo.mp4\";\n\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\tvideoPaths: [path1, path2],\n\t\t\t\t\ttype:'video',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\n\t\t\t},\n\t\t\tsharePubMedias() {\n\t\t\t\tuni.hideToast()\n\n\t\t\t\tuni.chooseVideo({\n\t\t\t\t\tsuccess(res) {\n\t\t\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\t\t\tvideoPaths: [res.tempFilePath],\n\t\t\t\t\t\t\ttype:'video',\n\t\t\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\t\t\t\t})\n\t\t\t},\n\t\t\tshareText() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\tsummary: this.summary,\n\t\t\t\t\ttype:'text',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tshareLink() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\ttype:'text',\n\t\t\t\t\thref: 'https://uniapp.dcloud.io',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePrivateImg() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst imageSrc : string = \"/static/test-image/logo.gif\";\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\ttype:'image',\n\t\t\t\t\timageUrl: imageSrc,\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t\t// 分享完成，请注意此时不一定是成功分享\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t\t// 分享失败\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePrivateErrorImg() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst imageSrc : string = \"/static/test-image/logo.jpg11\";\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\timageUrl: imageSrc,\n\t\t\t\t\ttype:'image',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t\t// 分享完成，请注意此时不一定是成功分享\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t\t// 分享失败\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePrivateImgs() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst errorImageSrc1 : string = \"/static/test-image/logo.gif\";\n\t\t\t\tconst errorImageSrc2 : string = \"/static/test-image/logo.png\";\n\t\t\t\tconst imageSrc : string = \"/static/test-image/logo.jpg\";\n\t\t\t\tlet imageUrlList : string[] = new Array()\n\t\t\t\timageUrlList.push(errorImageSrc2)\n\t\t\t\timageUrlList.push(imageSrc)\n\t\t\t\t// imageUrlList.push(errorImageSrc1)\n\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\timagePaths: imageUrlList,\n\t\t\t\t\ttype:'image',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t\t// 分享完成，请注意此时不一定是成功分享\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePrivateErrorImgs() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst errorImageSrc1 : string = \"/static/test-image/logo.jpg1\";\n\t\t\t\tconst errorImageSrc2 : string = \"/static/test-image/logo.jpg3\";\n\t\t\t\tconst imageSrc : string = \"/static/test-image/logo.jpg\";\n\t\t\t\tlet imageUrlList : string[] =new Array()\n\t\t\t\timageUrlList.push(imageSrc)\n\t\t\t\timageUrlList.push(errorImageSrc1)\n\t\t\t\timageUrlList.push(errorImageSrc2)\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\timagePaths: imageUrlList,\n\t\t\t\t\ttype:'image',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t\t// 分享完成，请注意此时不一定是成功分享\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tshareAll() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tconst imageSrc : string = \"/static/test-video/fast-forward.png\";\n\t\t\t\tlet imageUrlList : string[] = new Array()\n\t\t\t\timageUrlList.push(imageSrc)\n\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\tsummary: this.summary,\n\t\t\t\t\thref: 'https://uniapp.dcloud.io',\n\t\t\t\t\timagePaths: imageUrlList,\n\t\t\t\t\ttype:'image',\n\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t\t// 分享完成，请注意此时不一定是成功分享\n\t\t\t\t\t},\n\t\t\t\t\tfail(res) {\n\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t})\n\t\t\t\t\t},\n\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsharePubImg() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tuni.chooseImage({\n\t\t\t\t\tcount: 3,\n\t\t\t\t\tsourceType: ['camera', 'album'],\n\t\t\t\t\tsuccess(e) {\n\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\tconsole.log(JSON.stringify(e))\n\t\t\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\t\t\t// summary: \"aa\",\n\t\t\t\t\t\t\t// href: 'https://uniapp.dcloud.io',\n\t\t\t\t\t\t\timagePaths: e.tempFilePaths,\n\t\t\t\t\t\t\ttype:'image',\n\t\t\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t\t\t\t// 分享完成，请注意此时不一定是成功分享\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tshareSnapShot() {\n\t\t\t\tuni.hideToast()\n\t\t\t\tuni.getElementById(\"viewshot\")?.takeSnapshot(\n\t\t\t\t\t{\n\t\t\t\t\t\tsuccess: function (res) {\n\t\t\t\t\t\t\tuni.shareWithSystem({\n\t\t\t\t\t\t\t\timageUrl: res.tempFilePath,\n\t\t\t\t\t\t\t\ttype:'image',\n\t\t\t\t\t\t\t\tsuccess(_) {\n\t\t\t\t\t\t\t\t\tconsole.log('Shared----------------------------success')\n\t\t\t\t\t\t\t\t\t// 分享完成，请注意此时不一定是成功分享\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tfail(res) {\n\t\t\t\t\t\t\t\t\tconsole.log('Share failed, ' + \"res.errCode =\" + res.errCode + '---res.errMsg= ' + res.errMsg)\n\n\t\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\t\ticon: \"error\",\n\t\t\t\t\t\t\t\t\t\ttitle: \"errorCode=\" + res.errCode\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcomplete(_) {\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function (res) {\n\t\t\t\t\t\t\tconsole.log(res)\n\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\ticon: 'error',\n\t\t\t\t\t\t\t\ttitle: '截图失败'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t)\n\t\t\t},\n\n\t\t}\n\t}\n</script>\n\n<style>\n\t.button {\n\t\tmargin-left: 30px;\n\t\tmargin-right: 30px;\n\t\tmargin-bottom: 15px;\n\t}\n</style>\n\n```\n:::"},"getPushClientId":{"name":"## uni.getPushClientId(options) @getpushclientid","description":"获取客户端唯一的推送标识","compatibility":"### getPushClientId 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.27 | 4.41 | 3.98 | 4.18 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **GetPushClientIdOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [GetPushClientIdSuccess](#getpushclientidsuccess-values)) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n#### GetPushClientIdSuccess 的属性值 @getpushclientidsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| cid | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.27\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 个推客户端推送id，对应uni-id-device表的push_clientid<br/> |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.27\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 错误描述<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.push.uni-push.getPushClientId)\n- [参见uni-app相关文档](http://uniapp.dcloud.io/api/plugins/push.html#getpushclientid)"},"onPushMessage":{"name":"## uni.onPushMessage(callback) @onpushmessage","description":"启动监听推送消息事件","compatibility":"### onPushMessage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.27 | 4.41 | 3.98 | 4.18 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnPushMessageCallbackResult](#onpushmessagecallbackresult-values)) => void | 是 | - | - |  | \n\n### OnPushMessageCallbackResult 的属性值 @onpushmessagecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| type | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.27\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 事件类型<br/>- click 从系统推送服务点击消息启动应用事件<br/>- receive 应用从推送服务器接收到推送消息事件 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| click | - | - |\n@| receive | - | - |\n| data | [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.27\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 消息内容<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.push.uni-push.onPushMessage)\n- [参见uni-app相关文档](http://uniapp.dcloud.io/api/plugins/push.html#onpushmessage)"},"offPushMessage":{"name":"## uni.offPushMessage(callback) @offpushmessage","description":"关闭推送消息监听事件，iOS端调用会关闭所有监听。","compatibility":"### offPushMessage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.27 | 4.41 | 3.98 | 4.18 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (result: [OnPushMessageCallbackResult](#onpushmessagecallbackresult-values)) => void | 是 | - | - |  | \n\n### OnPushMessageCallbackResult 的属性值 @onpushmessagecallbackresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| type | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.27\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 事件类型<br/>- click 从系统推送服务点击消息启动应用事件<br/>- receive 应用从推送服务器接收到推送消息事件 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| click | - | - |\n@| receive | - | - |\n| data | [UTSJSONObject](/uts/buildin-object-api/utsjsonobject.md) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"4.27\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 消息内容<br/> |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.push.uni-push.offPushMessage)\n- [参见uni-app相关文档](http://uniapp.dcloud.io/api/plugins/push.html#offpushmessage)"},"createPushMessage":{"name":"## uni.createPushMessage(options) @createpushmessage","description":"创建本地通知栏消息","compatibility":"### createPushMessage 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 3.98 | 4.18 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CreatePushMessageOptions** | 是 | - | - |  |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| cover | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 是否覆盖上一次提示的消息 |\n@| delay | number | 否 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 提示消息延迟显示的时间,单位为s |\n@| icon | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"x\",\"-\"]]}' /> | 推送消息的图标 |\n@| sound | string | 否 | \"system\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 推送消息的提示音<br/>- system: 使用系统通知提示音（默认值）<br/>- none: 不使用提示音 |\n@| title | string | 否 | App的名称 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 推送消息的标题 |\n@| content | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 消息显示的内容，在系统通知中心中显示的文本内容。鸿蒙系统中，此字段为必填字段。<br/> |\n@| payload | any | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"4.18\",\"-\"]]}' /> | 消息承载的数据，可根据业务逻辑自定义数据格式，在点击通知消息时`onPushMessage`回调中会返回此字段的数据。 |\n@| when | number | 否 | 当前时间 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"x\",\"-\"]]}' /> | 消息上显示的提示时间，需要传入时间戳。 |\n@| channelId | string | 否 | \"DcloudChannelID\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"x\",\"-\"]]}' /> | 渠道id，Android特有字段，[通知渠道介绍](https://developer.android.com/develop/ui/views/notifications/channels?hl=zh-cn)，<br/>创建通知渠道请使用`getPushChannelManager`获取PushChannelManager对象，调用`setPushChannel`方法配置渠道。 |\n@| category | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"3.98\",\"x\",\"-\"]]}' /> | 通知类别，Android特有字段，[通知渠道介绍](https://developer.android.com/develop/ui/views/notifications/channels?hl=zh-cn)，<br/>标识通知的类别，应用场景为对于离线推送厂商配置的支持，比如[华为消息分类](https://developer.huawei.com/consumer/cn/doc/HMSCore-Guides/message-classification-0000001149358835#section5101818813) |\n@| success | (result: CreatePushMessageSuccess) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [UniError](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.push.uni-push.getChannelManager)\n- [参见uni-app相关文档](http://uniapp.dcloud.io/api/plugins/push.html#createpushmessage)"},"getPushChannelManager":{"name":"## uni.getPushChannelManager() @getpushchannelmanager","description":"获取通知渠道管理器，Android 8系统以上才可以设置通知渠道，Android 8系统以下返回null，[通知渠道介绍](https://developer.android.com/develop/ui/views/notifications/channels?hl=zh-cn)，iOS不支持。","compatibility":"### getPushChannelManager 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.25 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [ChannelManager](#channelmanager-values) |\n\n#### ChannelManager 的方法 @channelmanager-values \n\n#### setPushChannel(options: SetPushChannelOptions): void; @setpushchannel\n设置推送渠道\n\n##### setPushChannel 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 3.98 | x | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetPushChannelOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| soundName | string | 否 | null | - | 添加的声音文件，注意raw目录下必须要有 ，不传此字段将使用默认铃音。 |\n@| channelId | string | 是 | - | - | 通知渠道id |\n@| channelDesc | string | 是 | - | - | 通知渠道描述 |\n@| enableLights | boolean | 否 | false | - | 呼吸灯闪烁 |\n@| enableVibration | boolean | 否 | false | - | 震动 |\n@| importance | number | 否 | 3 | - | 通知的重要性级别，可选范围IMPORTANCE_LOW：2、IMPORTANCE_DEFAULT：3、IMPORTANCE_HIGH：4 。 |\n@| lockscreenVisibility | number | 否 | -1000 | - | 锁屏可见性，可选范围VISIBILITY_PRIVATE：0、VISIBILITY_PUBLIC：1、VISIBILITY_SECRET：-1、VISIBILITY_NO_OVERRIDE：-1000。 | \n\n\n#### getAllChannels(): Array\\<string>; @getallchannels\n获取当前应用注册的所有的通知渠道。\n\n##### getAllChannels 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 3.98 | x | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;string&gt; |\n \n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.push.uni-push.createPushMessage)"},"setAppBadgeNumber":{"name":"## uni.setAppBadgeNumber(num, options?) @setappbadgenumber","description":"设置应用图标上显示的角标数字，注意：不同手机厂商的角标显示规则不同，有部分设备的rom版本不支持显示角标，另有部分rom需要在应用的通知管理里开启`桌面角标`配置，才可以设置角标成功。","compatibility":"### setAppBadgeNumber 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 4.25 | 4.25 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| num | number | 是 | - | - | 要显示的角标数字值，参数为0则表示清除角标数字。 |\n| options | **BadgeOptions** | 否 | - | - | 小米手机显示角标需要在系统消息中心显示一条通知，此参数用于设置通知的标题（title）和内容（content）。 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| title | string | 否 | 应用的名称 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 消息的标题 |\n@| content | string | 否 | '您有x条未读消息'，其中x为设置的角标数字值。 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"-\",\"4.25\",\"4.25\",\"-\"]]}' /> | 消息的内容 | \n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.push.uni-push.getPushChannelManager)"},"getChannelManager":{"name":"## uni.~~getChannelManager()~~ @getchannelmanager","description":"获取通知渠道管理器，Android 8系统以上才可以设置通知渠道，Android 8系统以下返回null，[通知渠道介绍](https://developer.android.com/develop/ui/views/notifications/channels?hl=zh-cn) ，iOS不支持。  **已废弃，仅为了向下兼容保留，建议使用`getPushChannelManager`。**","compatibility":"### getChannelManager 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 3.98 | <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - |\n","param":"","returnValue":"### 返回值 \n\n| 类型 |\n| :- |\n| [ChannelManager](#channelmanager-values) |\n\n#### ChannelManager 的方法 @channelmanager-values \n\n#### setPushChannel(options: SetPushChannelOptions): void; @setpushchannel\n设置推送渠道\n\n##### setPushChannel 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 3.98 | x | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **SetPushChannelOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| soundName | string | 否 | null | - | 添加的声音文件，注意raw目录下必须要有 ，不传此字段将使用默认铃音。 |\n@| channelId | string | 是 | - | - | 通知渠道id |\n@| channelDesc | string | 是 | - | - | 通知渠道描述 |\n@| enableLights | boolean | 否 | false | - | 呼吸灯闪烁 |\n@| enableVibration | boolean | 否 | false | - | 震动 |\n@| importance | number | 否 | 3 | - | 通知的重要性级别，可选范围IMPORTANCE_LOW：2、IMPORTANCE_DEFAULT：3、IMPORTANCE_HIGH：4 。 |\n@| lockscreenVisibility | number | 否 | -1000 | - | 锁屏可见性，可选范围VISIBILITY_PRIVATE：0、VISIBILITY_PUBLIC：1、VISIBILITY_SECRET：-1、VISIBILITY_NO_OVERRIDE：-1000。 | \n\n\n#### getAllChannels(): Array\\<string>; @getallchannels\n获取当前应用注册的所有的通知渠道。\n\n##### getAllChannels 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| x | - | 3.98 | x | - |\n\n\n##### 返回值 \n\n| 类型 |\n| :- |\n| Array&lt;string&gt; |\n \n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.push.uni-push.setAppBadgeNumber)"},"uni-push":{"example":"## 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/uni-push/uni-push.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/uni-push/uni-push\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/uni-push/uni-push\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex: 1\">\r\n  <!-- #endif -->\r\n  <view>\r\n    <!-- #ifdef APP -->\r\n    <!-- #ifdef APP-ANDROID -->\r\n    <button class=\"normal-button\" type=\"default\" @click=\"handleCreateChannel(true)\">\r\n      创建通知渠道 | setPushChannel\r\n    </button>\r\n    <button class=\"normal-button\" type=\"default\" @click=\"handleGetAllChannels\">\r\n      获取所有通知渠道信息 | getAllChannels\r\n    </button>\r\n    <textarea style=\"width: 100%;\" :disabled=\"true\" :value=\"channelInfo\"></textarea>\r\n    <!-- #endif -->\r\n    <button class=\"normal-button\" type=\"default\" @click=\"handleCreateLocalNotification\">\r\n      创建本地通知消息 | createPushMessage\r\n    </button>\r\n    <text class=\"instructions\">\r\n      不同手机厂商的角标显示规则不同，有部分设备的rom版本不支持显示角标，另有部分rom需要在应用的通知管理里开启`桌面角标`配置，才可以设置角标成功。\\n\r\n      部分rom需要在设置中同时开启`通知开关`和`桌面角标`配置，才允许设置角标，例如鸿蒙4.2。 \\n\r\n      另外针对高版本小米设备，会借助创建通知栏消息来设置角标数，所以设置时需要注意是否有权限创建通知栏消息。\r\n    </text>\r\n    <button class=\"normal-button\" type=\"default\" @click=\"handleSetBadge\">\r\n      设置角标为5 | setAppBadgeNumber(5)\r\n    </button>\r\n    <button class=\"normal-button\" type=\"default\" @click=\"handleCleanBadge\">\r\n      清空角标 | setAppBadgeNumber(0)\r\n    </button>\r\n    <!-- #endif -->\n    <button class=\"normal-button\" type=\"default\" @click=\"handleSendPushMessage\">\n      发送通知消息 | sendPushMessage\n    </button>\r\n    <button class=\"normal-button uni-common-mb\" type=\"default\" @click=\"handleGetClientId\">\r\n      获取cid | getPushClientId\r\n    </button>\n    <button class=\"normal-button\" type=\"default\" @click=\"handleOnPushMessage\">\n      注册回调 | onPushMessage\n    </button>\n    <button class=\"normal-button\" type=\"default\" @click=\"handleOffPushMessage\">\n      注销回调 | offPushMessage\n    </button>\r\n  </view>\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .normal-button {\r\n    width: 100%;\r\n  }\r\n\r\n  .instructions {\r\n    margin-top: 10px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n    background-color: #eee;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  // 自动化测试\r\n  type TypeJestResult = {\r\n    clientId : string,\r\n    sendPushMessageRes : number,\r\n    onPushMessageType:string,\r\n    onPushMessageCallbackInfo:string\r\n  }\r\n  type TypeIsRegister = {\r\n    state:boolean\r\n  }\r\n  const jestResult = reactive({\r\n    clientId:\"\",\r\n    sendPushMessageRes:-1,\r\n    onPushMessageType:\"\",\r\n    onPushMessageCallbackInfo:\"\"\r\n  } as TypeJestResult)\r\n  // 自动化测试\r\n  const autoTest = ref(false);\r\n  const updateAutoTest = (value : boolean) => {\r\n    autoTest.value = value\r\n  }\r\n\r\n  const channelInfo = ref(\"\")\r\n  const onPushMessageCallback = (res : OnPushMessageCallbackResult) => {\r\n    // 自动化测试\r\n    jestResult.onPushMessageType = res.type\r\n    jestResult.onPushMessageCallbackInfo = JSON.stringify(res.data)\r\n    if (!autoTest.value) {\r\n      uni.showModal({\r\n        title: \"onPushMessage回调信息\",\r\n        content: `type：${res.type} \\n data：${JSON.stringify(res.data)}`\r\n      })\r\n    }\r\n  }\n\n  // 为兼容Android测试例中能获取到，此处用reactive定义\r\n  const isRegister = reactive({\r\n    state:false\r\n  } as TypeIsRegister);\r\n\r\n  const handleOnPushMessage = () => {\n    if (isRegister.state) {\n      uni.showToast({\n        icon: \"error\",\n        title: \"无需重复注册\"\n      })\n      return\n    }\n    uni.onPushMessage(onPushMessageCallback)\n    isRegister.state = true\n    uni.showToast({\n      title: \"成功注册\"\n    })\n  }\n\n  const handleOffPushMessage = () => {\n    if (!isRegister.state) {\n      uni.showToast({\n        icon: \"error\",\n        title: \"未注册, 无需注销\"\n      })\n      return\n    }\n    uni.offPushMessage(onPushMessageCallback)\n    isRegister.state = false\n    uni.showToast({\n      title: \"成功注销\"\n    })\n  }\r\n\r\n  const handleCreateChannel = (showToast : boolean) => {\r\n    // #ifdef APP-ANDROID\r\n    const manager = uni.getPushChannelManager()\r\n    manager.setPushChannel({\r\n      channelId: \"msg-pass\",\r\n      channelDesc: \"留言审核通过\",\r\n      soundName: \"#填写配置的声音文件名#\",\r\n      enableLights: true,\r\n      enableVibration: true,\r\n      importance: 4,\r\n      lockscreenVisibility: 1\r\n    } as SetPushChannelOptions)\r\n    if (showToast) {\r\n      uni.showToast({\r\n        title: \"设置渠道成功\"\r\n      })\r\n    }\r\n    // #endif\r\n  }\r\n  const handleGetAllChannels = () => {\r\n    // #ifdef APP-ANDROID\r\n    const manager = uni.getPushChannelManager()\r\n    console.log(\"channels : \" + manager.getAllChannels());\r\n    channelInfo.value = `渠道信息为: \\n ${manager.getAllChannels()}`\r\n    // #endif\r\n  }\r\n  const handleCreateLocalNotification = () => {\r\n    if (uni.getAppAuthorizeSetting().notificationAuthorized == \"authorized\") {\r\n      handleCreateChannel(false)\r\n      const date = new Date();\r\n      const hour = date.getHours()\r\n      const minute = date.getMinutes()\r\n      const second = date.getSeconds()\r\n      const formateTime = (target : number) : string => {\r\n        return target < 10 ? `0${target}` : `${target}`\r\n      }\r\n      uni.createPushMessage({\r\n        title: \"主标题(title)\",\r\n        content: `内容(content)，创建时间: ${formateTime(hour)}:${formateTime(minute)}:${formateTime(second)}`,\r\n        cover: false,\r\n        channelId: \"msg-pass\",\r\n        when: Date.now() + 10000,\r\n        icon: \"/static/uni.png\",\r\n        sound: \"system\",\r\n        delay: 1,\r\n        payload: {\r\n          pkey: \"pvalue1\"\r\n        },\r\n        // #ifdef APP-HARMONY\r\n        category: \"SOCIAL_COMMUNICATION\",\r\n        // #endif\r\n        // #ifndef APP-HARMONY\r\n        category: \"IM\",\r\n        // #endif\r\n        success(res) {\r\n          console.log(\"res: \" + res);\r\n          uni.hideToast()\r\n          uni.showToast({\r\n            title: \"创建本地通知消息成功\"\r\n          })\r\n        },\r\n        fail(e) {\r\n          console.log(\"fail :\" + e);\r\n          uni.hideToast()\r\n          uni.showToast({\r\n            title: \"创建本地通知消息失败\",\r\n            icon: \"error\"\r\n          })\r\n        }\r\n      })\r\n    } else {\r\n      uni.showToast({\r\n        title: \"请在设置中开启通知权限\",\r\n        icon: \"error\"\r\n      })\r\n    }\r\n  }\n\n  async function getPushClientId(): Promise<string>{\n    let pushClientId = '';\n    let res:void = await new Promise(resolve => {\n      uni.getPushClientId({\n        success: (res: GetPushClientIdSuccess) => {\n          console.log(res.cid)\n          pushClientId = res.cid\n          resolve()\n        },\n        fail: (err: GetPushClientIdFail) => {\n          resolve()\n          console.error(err);\n          if (err.message.includes('uniPush is not enabled')) {\n            uni.showModal({\n              title: '获取cid失败',\n              content: '当前项目未启用uni-push，检查manifest.json中的uni-push配置',\n              showCancel: false\n            });\n          } else if (err.message.includes('getPushClientId:fail register fail: {\\\"errorCode\\\":1,\\\"errorMsg\\\":\\\"\\\"}')) {\n            uni.showModal({\n              title: '获取cid失败',\n              content: '当前项目未开通uni-push，开通文档：https://uniapp.dcloud.net.cn/unipush-v2.html#%E7%AC%AC%E4%B8%80%E6%AD%A5-%E5%BC%80%E9%80%9A',\n              showCancel: false\n            });\n          } else {\n            uni.showToast({\n              title: `获取cid失败`,\n              icon: \"error\"\n            })\n          }\n        }\n      })\n    })\n    return pushClientId\n  }\n\n  const handleGetClientId = async():Promise<void> =>{\n    uni.showLoading({\n      title: \"正在获取cid\",\n    })\n    const cid = await getPushClientId()\n    if (cid != '') {\r\n      // 自动化测试\r\n      jestResult.clientId = cid\r\n      if (!autoTest.value) {\r\n        uni.showModal({\r\n          title: \"获取cid\",\r\n          content: \"获取cid成功\" + cid,\r\n          showCancel: false\r\n        })\r\n      }\n    }\n    uni.hideLoading()\r\n  }\n  const handleSendPushMessage = async():Promise<void>=> {\n    const pushClientId = await getPushClientId()\n    if (pushClientId == ''){\n      return\n    }\n    const uniPushCo = uniCloud.importObject(\"uni-push-co\")\n    try {\n      const res = await uniPushCo.sendPushMessage(pushClientId)\n      // 自动化测试\r\n      jestResult.sendPushMessageRes = res.errCode as number\r\n      if (!autoTest.value) {\r\n        uni.showToast({\r\n          title: \"发送通知消息成功\"\r\n        })\r\n      }\n    } catch (err:any) {\n      const error = err as UniCloudError\r\n      console.error(error)\n      if (!autoTest.value) {\r\n        uni.showToast({\r\n          title: \"发送通知消息失败\",\r\n          icon: \"error\"\r\n        })\r\n      }\n    }\n  }\r\n  const handleSetBadge = () => {\r\n    if (uni.getDeviceInfo().deviceBrand?.toLowerCase() == \"xiaomi\") {\r\n      if (uni.getAppAuthorizeSetting().notificationAuthorized == \"authorized\") {\r\n        uni.setAppBadgeNumber(5, {\r\n          title: \"AppName\",\r\n          content: \"您有5条未读消息\"\r\n        } as BadgeOptions)\r\n        uni.showToast({\r\n          title: \"设置应用角标数为5\"\r\n        })\r\n      } else {\r\n        uni.showToast({\r\n          title: \"请在设置中开启通知权限\",\r\n          icon: \"error\"\r\n        })\r\n      }\r\n\r\n    } else {\r\n      uni.setAppBadgeNumber(5)\r\n      uni.showToast({\r\n        title: \"设置应用角标数为5\"\r\n      })\r\n    }\r\n  }\r\n  const handleCleanBadge = () => {\r\n    if (uni.getDeviceInfo().deviceBrand?.toLowerCase() == \"xiaomi\") {\r\n      if (uni.getAppAuthorizeSetting().notificationAuthorized == \"authorized\") {\r\n        uni.setAppBadgeNumber(0, {} as BadgeOptions)\r\n        uni.showToast({\r\n          title: \"清空应用角标数\"\r\n        })\r\n      } else {\r\n        uni.showToast({\r\n          title: \"请在设置中开启通知权限\",\r\n          icon: \"error\"\r\n        })\r\n      }\r\n    } else {\r\n      uni.setAppBadgeNumber(0)\r\n      uni.showToast({\r\n        title: \"清空应用角标数\"\r\n      })\r\n    }\r\n  }\r\n\r\n  // 自动化测试\r\n  defineExpose({\r\n    jestResult,\r\n    autoTest,\r\n    updateAutoTest,\r\n    isRegister,\r\n    handleSendPushMessage,\r\n    handleGetClientId,\r\n    handleOnPushMessage,\r\n    handleOffPushMessage\r\n  })\r\n\n```\n\n:::"},"report":{"name":"## uni.report(options) @report","description":"uni统计自定义上报方法。\n\n> 本 API 是 [uni ext api](https://uniapp.dcloud.net.cn/api/extapi.html)，需下载插件：[uni-stat](https://ext.dcloud.net.cn/plugin?name=uni-stat)\n","compatibility":"### report 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.33 | 4.11 | 4.33 | 4.33 | - |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **ReportOptions** | 是 | - | - | 自定义事件参数 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| name | string | 是 | - | - | 自定义事件名称，内置名称不允许覆盖，可选值:<br/>`uni-app-launch`：应用启动，options 参数必填，值为 onLaunch 返回值<br/>`uni-app-show`：应用进入前台<br/>`uni-app-hide`：应用进入后台<br/>`uni-app-error`：应用发生错误，options 参数必填，值为错误信息，类型为String<br/>`title`：标题采集<br/>`自定义name`：用户自定义 |\n@| options | any | 否 | - | - | 额外参数 |\n@| success | (res: [ReportSuccess](#reportsuccess-values)) => void | 否 | - | - | 接口调用成功回调 |\n@| fail | (err: [ReportError](#reporterror-values)) => void | 否 | - | - | 接口调用失败回调 |\n@| complete | (res: any) => void | 否 | - | - | 接口调用结束回调（调用成功、失败都会执行） | \n\n#### ReportSuccess 的属性值 @reportsuccess-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | - | 成功的详细信息 |\n\n#### ReportError 的属性值 @reporterror-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 61000 | - | 应用已集成uni统计，但未关联服务空间，请在uniCloud目录右键关联服务空间 |\n@| 61001 | - | 统计服务尚未初始化，需在`main.uts`中引入统计插件 |\n@| 61002 | - | name参数是uni-app-launch时， options 参数未填写 |\n@| 61003 | - | name参数未填写 |\n@| 61004 | - | name参数类型错误，应为`String`类型 |\n@| 61005 | - | name参数长度超限，最大不超过255 |\n@| 61006 | - | options参数错误，应为String或Object类型 |\n@| 61007 | - | options参数为String类型时，长度超限，最大不超过255 |\n@| 61008 | - | name参数为title时，options参数类型错误，应为String |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n","returnValue":"","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.stat.report)\n- [微信小程序文档](https://developers.weixin.qq.com/doc/search.html?source=enter&query=report&doc_type=miniprogram)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=report&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=report&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=report&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=report&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=report)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=report&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)","example":"### 示例\n\n> [hello uni-app x](https://gitcode.net/dcloud/hello-uni-app-x/-/blob/prod_alpha//pages/API/report/report.uvue) \n::: preview https://hellouniappx.dcloud.net.cn/web/#/pages/API/report/report\n\n> appRedirect https://hellouniappx.dcloud.net.cn/appredirect.html?path=pages/API/report/report\n\n>Template\n```vue\n<template>\r\n  <!-- #ifdef APP -->\r\n  <scroll-view style=\"flex:1\">\r\n  <!-- #endif -->\r\n    <page-head title=\"report\"></page-head>\r\n\r\n    <view class=\"tips\">\r\n      <view class=\"tips-title\">调用信息：</view>\r\n      <view class=\"tips-content\">{{msg}}</view>\r\n    </view>\r\n    <view class=\"page\">\r\n\r\n      <button class=\"normal-button\" type=\"default\" @click=\"handleAppLaunch\">\r\n        模拟应用启动\r\n      </button>\r\n      <button class=\"normal-button\" type=\"default\" @click=\"handleAppHide\">\r\n        模拟应用切入后台\r\n      </button>\r\n      <button class=\"normal-button\" type=\"default\" @click=\"handleAppShow\">\r\n        模拟应用切入前台\r\n      </button>\r\n      <button class=\"normal-button\" type=\"default\" @click=\"handleAppError\">\r\n        模拟应用错误\r\n      </button>\r\n      <button class=\"normal-button\" type=\"default\" @click=\"handleTitle\">\r\n        模拟自定义title\r\n      </button>\r\n      <button class=\"normal-button\" type=\"default\" @click=\"handleEvent\">\r\n        模拟自定义事件\r\n      </button>\r\n      <text class=\"instructions\">\r\n        当前页面调用API均为模拟，请查看文档，在特定场景下使用以上 API。请在main.uts中设置统计debug配置为true，并点击按钮查控制台输出。\r\n      </text>\r\n    </view>\r\n\r\n  <!-- #ifdef APP -->\r\n  </scroll-view>\r\n  <!-- #endif -->\r\n</template>\r\n\r\n\r\n\r\n<style>\r\n  .page {\r\n    padding: 15px;\r\n  }\r\n\r\n  .tips {\r\n    margin: 15px;\r\n    padding: 15px;\r\n    background-color: #f5f5f5;\r\n    font-size: 14px;\r\n    text-align: center;\r\n  }\r\n\r\n  .tips-title {\r\n    font-size: 16px;\r\n    color: #333;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .tips-content {\r\n    font-size: 14px;\r\n    color: #999;\r\n  }\r\n\r\n  .normal-button {\r\n    width: 100%;\r\n    margin-bottom: 10px;\r\n  }\r\n\r\n  .instructions {\r\n    margin-top: 10px;\r\n    margin-left: 10px;\r\n    margin-right: 10px;\r\n    background-color: #eee;\r\n    font-size: 12px;\r\n    color: #999;\r\n  }\r\n</style>\n\n```\n\n>Script\n```uts\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        msg: '点击按钮，测试上报'\r\n      }\r\n    },\r\n    onLoad() {\r\n      uni.report({\r\n        name: '自定义上报-report页面打开',\r\n        options: '1'\r\n      })\r\n    },\r\n    onUnload() {\r\n      uni.report({\r\n        name: '自定义上报-report页面关闭',\r\n        options: '1'\r\n      })\r\n    },\r\n\r\n    methods: {\r\n      handleAppLaunch() {\r\n        const options = uni.getLaunchOptionsSync()\r\n        uni.report({\r\n          name: 'uni-app-launch',\r\n          options: options,\r\n          success: (res) => {\r\n            this.msg = 'onLaunch --> ' + res.errMsg\r\n            console.log(res);\r\n          }, fail: (err) => {\r\n            this.msg = 'onLaunch --> ' + err.errMsg\r\n            console.log(err);\r\n          }\r\n        })\r\n      },\r\n      handleAppHide() {\r\n        uni.report({\r\n          name: 'uni-app-hide',\r\n          success: (res) => {\r\n            this.msg = 'onAppHide --> ' + res.errMsg\r\n            console.log(res);\r\n          }, fail: (err) => {\r\n            this.msg = 'onAppHide --> ' + err.errMsg\r\n            console.log(err);\r\n          }\r\n        })\r\n      },\r\n      handleAppShow() {\r\n        // const options = uni.getLaunchOptionsSync()\r\n        uni.report({\r\n          name: 'uni-app-show',\r\n          success: (res) => {\r\n            this.msg = 'onAppShow --> ' + res.errMsg\r\n            console.log(res);\r\n          }, fail: (err) => {\r\n            this.msg = 'onAppShow --> ' + err.errMsg\r\n            console.log(err);\r\n          }\r\n        })\r\n      },\r\n      handleAppError() {\r\n        const errmsg = '测试错误'\r\n        uni.report({\r\n          name: 'uni-app-error',\r\n          options: errmsg,\r\n          success: (res) => {\r\n            this.msg = 'onAppError --> ' + res.errMsg\r\n            console.log(res);\r\n          }, fail: (err) => {\r\n            this.msg = 'onAppError --> ' + err.errMsg\r\n            console.log(err);\r\n          }\r\n        })\r\n      },\r\n      handleEvent() {\r\n        // 此处name为用户自定义\r\n        uni.report({\r\n          name: 'custom-event',\r\n          options: {\r\n            title: '自定义事件',\r\n            total: 1\r\n          },\r\n          success: (res) => {\r\n            this.msg = '自定义事件 --> ' + res.errMsg\r\n            console.log(res);\r\n          }, fail: (err) => {\r\n            this.msg = '自定义事件 --> ' + err.errMsg\r\n            console.log(err);\r\n          }\r\n        })\r\n      },\r\n      handleTitle() {\r\n        // 此处name为用户自定义\r\n        uni.report({\r\n          name: 'title',\r\n          options: '自定义title测试上报',\r\n          success: (res) => {\r\n            this.msg = '自定义title --> ' + res.errMsg\r\n            console.log(res);\r\n          }, fail: (err) => {\r\n            this.msg = '自定义title --> ' + err.errMsg\r\n            console.log(err);\r\n          }\r\n        })\r\n      },\r\n    }\r\n  }\r\n\n```\n\n:::"},"createWebviewContext":{"name":"## uni.createWebviewContext(webviewId, component?) @createwebviewcontext","description":"创建 web-view 组件的上下文对象，用于操作 web-view 的行为。","compatibility":"### createWebviewContext 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| <a style=\"color:unset;\" href=\"https://vote.dcloud.net.cn/#/?name=uni-app%20x\">x</a> | - | 3.9.0 | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| webviewId | [string.WebviewIdString](/uts/data-type.md#ide-string) | 是 | - | - | - |\n| component | [ComponentPublicInstance](/vue/options-api.md#component-instance) | 否 | - | - |  | \n","returnValue":"### 返回值 \n\n| 类型 | 描述 | 必备 |\n| :- | :- | :- |\n| [WebviewContext](#webviewcontext-values) | web-view组件上下文对象 | 否 |\n\n#### WebviewContext 的方法 @webviewcontext-values \n\n#### back() : void @back\n后退到 web-view 组件网页加载历史的上一页，如果不存在上一页则没有任何效果。\n##### back 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | 4.61 |\n\n\n\n#### forward() : void @forward\n前进到 web-view 组件网页加载历史的下一页，如果不存在下一页则没有任何效果。\n##### forward 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | 4.61 |\n\n\n\n#### reload() : void @reload\n重新加载 web-view 组件当前页面。\n##### reload 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | 4.61 |\n\n\n\n#### stop() : void @stop\n停止加载 web-view 组件当前网页，该方法不能阻止已经加载的 html 文档，但是能够阻止未完成的图片及延迟加载的资源。\n##### stop 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | 4.61 |\n\n\n\n#### evalJS(js : string) : void @evaljs\n在网页中执行指定的js脚本，在 uvue 页面中可通过此方法向 web-view 组件加载的页面发送数据\n##### evalJS 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 3.9.0 | 4.11 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| js | string | 是 | - | - | - | \n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.component.createWebviewContext)"},"createVideoContext":{"name":"## uni.createVideoContext(videoId, component?) @createvideocontext","description":"创建并返回 video 上下文 videoContext 对象","compatibility":"### createVideoContext 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | √ | 4.11 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| videoId | [string.VideoIdString](/uts/data-type.md#ide-string) | 是 | - | - | - |\n| component | [ComponentPublicInstance](/vue/options-api.md#component-instance) | 否 | - | - |  | \n","returnValue":"### 返回值 \n\n| 类型 | 描述 | 必备 |\n| :- | :- | :- |\n| [VideoContext](#videocontext-values) | video组件上下文对象 | 否 |\n\n#### VideoContext 的方法 @videocontext-values \n\n#### play(): void; @play\n播放\n##### play 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | x |\n\n\n\n#### pause(): void; @pause\n暂停\n##### pause 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | x |\n\n\n\n#### seek(position: number): void; @seek\n跳转到指定位置\n##### seek 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| position | number | 是 | - | - | 跳转到指定位置(秒) | \n\n\n#### stop(): void; @stop\n停止视频\n##### stop 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | x |\n\n\n\n#### sendDanmu(danmu: Danmu): void; @senddanmu\n发送弹幕\n##### sendDanmu 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| danmu | **Danmu** | 是 | - | - | text, color |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| text | string | 否 | - | - | 弹幕文字 |\n@| color | string | 否 | - | - | 弹幕颜色 |\n@| time | number | 否 | - | - | 显示时刻 | \n\n\n#### playbackRate(rate: number): void; @playbackrate\n设置倍速播放\n##### playbackRate 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| rate | number | 是 | - | - | , 支持倍率 0.5/0.8/1.0/1.25/1.5 | \n\n\n#### requestFullScreen(direction?: RequestFullScreenOptions \\| null): void; @requestfullscreen\n进入全屏\n##### requestFullScreen 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| direction | **RequestFullScreenOptions** | 否 | - | - | , 0\\|正常竖向, 90\\|屏幕逆时针90度, -90\\|屏幕顺时针90度 |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| direction | 90 \\\\| any | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"x\",\"4.41\",\"3.9.0\",\"4.11\",\"-\"]]}' /> | direction | \n\n\n#### exitFullScreen(): void; @exitfullscreen\n退出全屏\n##### exitFullScreen 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 3.9.0 | 4.11 | x |\n\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.component.createVideoContext)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/video/VideoContext.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=createVideoContext&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=createVideoContext&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=createVideoContext&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=createVideoContext&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=createVideoContext)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=createVideoContext&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"createMapContext":{"name":"## uni.createMapContext(mapId, component?) @createmapcontext","description":"创建并返回 map 上下文 mapContext 对象","compatibility":"### createMapContext 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| 4.0 | 4.41 | 4.31 | 4.31 | 4.61 |\n","param":"### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| mapId | string | 是 | - | - | - |\n| component | [ComponentPublicInstance](/vue/options-api.md#component-instance) | 否 | - | - |  | \n","returnValue":"### 返回值 \n\n| 类型 | 描述 | 必备 |\n| :- | :- | :- |\n| [MapContext](#mapcontext-values) | map组件上下文对象 | 否 |\n\n#### MapContext 的方法 @mapcontext-values \n\n#### getCenterLocation(options : MapContextGetCenterLocationOptions) : void; @getcenterlocation\n获取当前地图中心的经纬度，返回的是 gcj02 坐标系，可以用于 uni.openLocation\n##### getCenterLocation 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextGetCenterLocationOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [LocationObject](#locationobject-values)) => void | 否 | - | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### LocationObject 的属性值 @locationobject-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| latitude | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 纬度，浮点数，范围为-90~90，负数表示南纬 |\n| longitude | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 经度，范围为-180~180，负数表示西经 |\n\n###### MapContextFail 的属性值 @mapcontextfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | 错误码 |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 500001 | - | 获取当前地图中心的经纬度失败 |\n@| 500002 | - | 未找到当前定位位置 |\n@| 500003 | - | 未找到marker |\n@| 500004 | - | 创建自定义图片图层失败 |\n@| 500005 | - | 未找到自定义图层id |\n@| 500006 | - | 网络图片加载失败 |\n@| 500012 | - | 地图内部错误 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### moveToLocation(options : MapContextMoveToLocationOptions) : void; @movetolocation\n将地图中心移动到当前定位点，需要配合map组件的show-location使用\n##### moveToLocation 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextMoveToLocationOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| latitude | number | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 纬度，浮点数，范围为-90~90，负数表示南纬 |\n@| longitude | number | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 经度，范围为-180~180，负数表示西经 |\n@| success | (result: any) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### translateMarker(options : MapContextTranslateMarkerOptions) : void; @translatemarker\n平移marker，带动画\n##### translateMarker 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextTranslateMarkerOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| markerId | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 指定marker |\n@| destination | [LocationObject](#locationobject-values) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 指定marker移动到的目标点 |\n@| autoRotate | boolean | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 移动过程中是否自动旋转marker |\n@| rotate | number | 否 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | marker的旋转角度 |\n@| moveWithRotate | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 平移和旋转同时进行 |\n@| duration | number | 否 | 1000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 动画持续时长，平移与旋转分别计算 |\n@| success | (result: any) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### includePoints(options : MapContextIncludePointsOptions) : void; @includepoints\n缩放视野展示所有经纬度\n##### includePoints 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextIncludePointsOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| points | Array&lt;[LocationObject](#locationobject-values)&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 要显示在可视区域内的坐标点列表，[{latitude, longitude}\\] |\n@| success | (result: any) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### getRegion(options : MapContextGetRegionOptions) : void; @getregion\n获取当前地图的视野范围\n##### getRegion 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextGetRegionOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [MapContextGetRegionResult](#mapcontextgetregionresult-values)) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### MapContextGetRegionResult 的属性值 @mapcontextgetregionresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| southwest | [LocationObject](#locationobject-values) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 西南角的经纬度 |\n| northeast | [LocationObject](#locationobject-values) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 东北角的经纬度 |\n\n\n#### getScale(options : MapContextGetScaleOptions) : void; @getscale\n获取当前地图的缩放级别\n##### getScale 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextGetScaleOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: [MapContextGetScaleResult](#mapcontextgetscaleresult-values)) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### MapContextGetScaleResult 的属性值 @mapcontextgetscaleresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| scale | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 地图缩放级别 |\n\n\n#### addGroundOverlay(options : MapContextAddGroundOverlayOptions) : void; @addgroundoverlay\n创建自定义图片图层，图片会随着地图缩放而缩放\n##### addGroundOverlay 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextAddGroundOverlayOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| id | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图片图层 id |\n@| src | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图片路径，支持网络图片、临时路径、代码包路径 |\n@| bounds | **Bounds** | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图片覆盖的经纬度范围 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| southwest | [LocationObject](#locationobject-values) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 西南角的经纬度 |\n@@| northeast | [LocationObject](#locationobject-values) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 东北角的经纬度 |\n@| visible | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 是否可见 |\n@| zIndex | number | 否 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图层绘制顺序 |\n@| opacity | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图层透明度 |\n@| success | (result: any) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### addMarkers(options : MapContextAddMarkersOptions) : void; @addmarkers\n添加 marker\n##### addMarkers 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextAddMarkersOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| markers | Array&lt;**Marker**&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 同传入 map 组件的 marker 属性 |\n@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@| :- | :- | :- | :- |  :-: | :- |\n@@| id | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 标记点id，marker点击事件回调会返回此id。建议为每个marker设置上Number类型id，保证更新marker时有更好的性能。最大限制9位数 |\n@@| latitude | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 纬度，浮点数，范围 -90 ~ 90 |\n@@| longitude | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 经度，浮点数，范围 -180 ~ 180 |\n@@| iconPath | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 显示的图标，项目目录下的图片路径，支持相对路径写法，以'/'开头则表示相对小程序根目录；也支持临时路径 |\n@@| title | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 标注点名，点击时显示，callout存在时将被忽略 |\n@@| rotate | number | 否 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 旋转角度，顺时针旋转的角度，范围 0 ~ 360 |\n@@| alpha | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 标注的透明度，范围 0 ~ 1 |\n@@| width | number | 否 | 默认为图片实际宽度 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 标注图标宽度 |\n@@| height | number | 否 | 默认为图片实际高度 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 标注图标高度 |\n@@| ariaLabel | string | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"4.31\",\"4.61\"]]}' /> | 无障碍访问，（属性）元素的额外描述 |\n@@| anchor | **Anchor** | 否 | [0.5, 1\\] | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 经纬度在标注图标的锚点，默认底边中点\t{x, y}，x表示横向(0-1)，y表示竖向(0-1)。{x: .5, y: 1} 表示底边中点 |\n@@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@@| :- | :- | :- | :- |  :-: | :- |\n@@@| x | number | 是 | - | - | - |\n@@@| y | number | 是 | - | - | - |\n@@| callout | **MapMarkerCallout** | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"x\"]]}' /> | 自定义标记点上方的气泡窗口 |\n@@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@@| :- | :- | :- | :- |  :-: | :- |\n@@@| content | string | 否 | \"\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 文本 |\n@@@| color | [string.ColorString](/uts/data-type.md#ide-string) | 否 | \"black\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 文本颜色 |\n@@@| fontSize | number | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 文字大小 |\n@@@| borderRadius | number | 否 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 边框圆角 |\n@@@| borderWidth | number | 否 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 边框宽度 |\n@@@| borderColor | [string.ColorString](/uts/data-type.md#ide-string) | 否 | \"transparent\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 边框颜色 |\n@@@| bgColor | [string.ColorString](/uts/data-type.md#ide-string) | 否 | \"#fff\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 背景色 |\n@@@| padding | number | 否 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 文本边缘留白 |\n@@@| display | string | 否 | \"BYCLICK\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 'BYCLICK':点击显示; 'ALWAYS':常显 |\n@@@@| 合法值 | 兼容性 | 描述 |\n@@@@| :- |  :-: | :- |\n@@@@| BYCLICK | - | - |\n@@@@| ALWAYS | - | - |\n@@@| textAlign | string | 否 | \"left\" | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.51\",\"4.51\",\"-\"]]}' /> | 文本对齐方式。 |\n@@@@| 合法值 | 兼容性 | 描述 |\n@@@@| :- |  :-: | :- |\n@@@@| left | - | - |\n@@@@| center | - | - |\n@@@@| right | - | - |\n@@@| anchorX | number | 否 | 0.5 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 横向偏移量，向右为正数 |\n@@@| anchorY | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 纵向偏移量，向下为正数 |\n@@| label | **MapMarkerLabel** | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"x\"]]}' /> | 为标记点旁边增加标签 |\n@@@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@@@| :- | :- | :- | :- |  :-: | :- |\n@@@| content | string | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 文本 |\n@@@| color | string | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 文本颜色 |\n@@@| fontSize | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 文字大小 |\n@@@| x | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | label的坐标，原点是 marker 对应的经纬度 |\n@@@| y | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | label的坐标，原点是 marker 对应的经纬度 |\n@@@| anchorX | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | label的坐标，原点是 marker 对应的经纬度 |\n@@@| anchorY | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | label的坐标，原点是 marker 对应的经纬度 |\n@@@| borderWidth | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 边框宽度 |\n@@@| borderColor | string | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 边框颜色 |\n@@@| borderRadius | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 边框圆角 |\n@@@| bgColor | string | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 背景色 |\n@@@| padding | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 文本边缘留白 |\n@@@| textAlign | string | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 文本对齐方式。 |\n@@@@| 合法值 | 兼容性 | 描述 |\n@@@@| :- |  :-: | :- |\n@@@@| left | - | - |\n@@@@| center | - | - |\n@@@@| right | - | - |\n@@@| ariaLabel | string | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"-\"]]}' /> | 无障碍访问，（属性）元素的额外描述 |\n@@| clusterId | number | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"x\"]]}' /> | 自定义点聚合簇效果时使用 |\n@@| customCallout | [MapMarkerCallout](#mapmarkercallout-values) | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"x\"]]}' /> | 自定义气泡窗口 |\n@@| joinCluster | boolean | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"x\",\"x\",\"x\"]]}' /> | 是否参与点聚合 |\n@| clear | boolean | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 是否先清空地图上所有 marker |\n@| success | (result: any) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### moveAlong(options : MapContextMoveAlongOptions) : void; @movealong\n沿指定路径移动 marker，用于轨迹回放等场景。动画完成时触发回调事件，若动画进行中，对同一 marker 再次调用 moveAlong 方法，前一次的动画将被打断。\n##### moveAlong 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextMoveAlongOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| markerId | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 指定marker |\n@| path | Array&lt;[LocationObject](#locationobject-values)&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 移动路径的坐标串，坐标点格式 {longitude, latitude} |\n@| duration | number | 否 | 1000 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 平滑移动的时间 |\n@| success | (result: any) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### removeGroundOverlay(options : MapContextRemoveGroundOverlayOptions) : void; @removegroundoverlay\n移除自定义图片图层\n##### removeGroundOverlay 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextRemoveGroundOverlayOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| id | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 图片图层 id |\n@| success | (result: any) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### removeMarkers(options : MapContextRemoveMarkersOptions) : void; @removemarkers\n移除 marker\n##### removeMarkers 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | 4.61 |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextRemoveMarkersOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| markerIds | Array&lt;number&gt; | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"4.61\"]]}' /> | 要被删除的marker的id属性组成的数组 |\n@| success | (result: any) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### updateGroundOverlay(options : MapContextUpdateGroundOverlayOptions) : void; @updategroundoverlay\n更新自定义图片图层。\n##### updateGroundOverlay 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.31 | 4.31 | x |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **MapContextUpdateGroundOverlayOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| id | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图片图层 id |\n@| src | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图片路径，支持网络图片、临时路径、代码包路径 |\n@| bounds | [Bounds](#bounds-values) | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图片覆盖的经纬度范围 |\n@| visible | boolean | 否 | true | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 是否可见 |\n@| zIndex | number | 否 | 0 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图层绘制顺序 |\n@| opacity | number | 否 | 1 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.31\",\"4.31\",\"x\"]]}' /> | 图层透明度 |\n@| success | (result: any) => void | 否 | null | - | 接口调用成功的回调函数 |\n@| fail | (result: [MapContextFail](#mapcontextfail-values)) => void | 否 | null | - | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | - | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.component.createMapContext)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/map/MapContext.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=createMapContext&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=createMapContext&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=createMapContext&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=createMapContext&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=createMapContext)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=createMapContext&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"createCameraContext":{"name":"## uni.createCameraContext() @createcameracontext","description":"创建 camera 上下文 CameraContext 对象。\n","compatibility":"### createCameraContext 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | 4.41 | 4.61 | 4.61 | - |\n","param":"","returnValue":"### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| [CameraContext](#cameracontext-values) | 否 |\n\n#### CameraContext 的方法 @cameracontext-values \n\n#### onCameraFrame(callback : (frame : CameraContextOnCameraFrame) => void) : CameraContextCameraFrameListener \\| null; @oncameraframe\n获取 Camera 实时帧数据\n\n##### onCameraFrame 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.61 | 4.61 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| callback | (frame: [CameraContextOnCameraFrame](#cameracontextoncameraframe-values)) => void | 是 | - | - | - | \n\n##### CameraContextOnCameraFrame 的属性值 @cameracontextoncameraframe-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| width | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 图像数据矩形的宽度<br/> |\n| height | number | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 图像数据矩形的高度<br/> |\n| data | [ArrayBuffer](/uts/buildin-object-api/arraybuffer.md) | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 图像像素点数据，一维数组，每四项表示一个像素点的 rgba<br/> |\n\n##### 返回值 \n\n| 类型 | 必备 |\n| :- | :- |\n| [CameraContextCameraFrameListener](#cameracontextcameraframelistener-values) | 否 |\n\n###### CameraContextCameraFrameListener 的方法 @cameracontextcameraframelistener-values \n\n###### start(options : CameraContextCameraFrameListenerStartOptions) : void; @start\n开始监听帧数据\n###### start 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.61 | 4.61 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CameraContextCameraFrameListenerStartOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n###### stop(options : CameraContextCameraFrameListenerStopOptions) : void; @stop\n停止监听帧数据\n\n###### stop 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.61 | 4.61 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CameraContextCameraFrameListenerStopOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| success | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n \n\n#### setZoom(options : CameraContextSetZoomOptions) : void; @setzoom\n设置缩放级别\n\n##### setZoom 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.61 | 4.61 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CameraContextSetZoomOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| zoom | number | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 缩放级别，范围\\[1, maxZoom]zoom 可取小数，精确到小数后一位。maxZoom 可在 initdone 返回值中获取。 |\n@| success | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用成功的回调函数<br/> |\n@| fail | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用失败的回调函数<br/> |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n\n#### takePhoto(options : CameraContextTakePhotoOptions) : void; @takephoto\n拍摄照片\n\n##### takePhoto 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.61 | 4.61 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CameraContextTakePhotoOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| quality | string | 否 | 'normal' | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 成像质量<br/> |\n@@| 合法值 | 兼容性 | 描述 |\n@@| :- |  :-: | :- |\n@@| high | - | - |\n@@| normal | - | - |\n@@| low | - | - |\n@@| original | - | - |\n@| selfieMirror | boolean | 否 | true | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 前置摄像头拍照时是否开启镜像<br/> |\n@| success | (result: [CameraContextTakePhotoResult](#cameracontexttakephotoresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用成功的回调函数 |\n@| fail | (error: [CameraContextFail](#cameracontextfail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### CameraContextTakePhotoResult 的属性值 @cameracontexttakephotoresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempImagePath | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 照片文件的临时路径 (本地路径)，安卓是jpg图片格式，ios是png。<br/>照片会存放到uni-media目录下[文件系统](https://doc.dcloud.net.cn/uni-app-x/api/file-system-spec.html)<br/> |\n\n###### CameraContextFail 的属性值 @cameracontextfail-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errCode | number | 是 | - | - | - |\n@| 合法值 | 兼容性 | 描述 |\n@| :- |  :-: | :- |\n@| 2003002 | - | 相机权限未授权 |\n@| 2003003 | - | 拍照失败 |\n@| 2003004 | - | 相机不可用 |\n@| 2003005 | - | 相机正在使用中 |\n@| 2003006 | - | 相机初始化失败 |\n@| 2003007 | - | 录制的视频地址不存在 |\n@| 2003008 | - | 录制失败 |\n@| 2003009 | - | app进入后台，摄像头终止 |\n@| 2003100 | - | 相机内部错误 |\n@| 2003101 | - | 录制视频的视频压缩失败 |\n| errSubject | string | 是 | - | - | 统一错误主题（模块）名称 |\n| data | any | 否 | - | - | 错误信息中包含的数据 |\n| cause | [Error](https://uniapp.dcloud.net.cn/tutorial/err-spec.html#unierror) | 否 | - | - | 源错误信息，可以包含多个错误，详见SourceError |\n| errMsg | string | 是 | - | - | - |\n\n\n#### startRecord(options: CameraContextStartRecordOptions): void; @startrecord\n开始录像\n\n##### startRecord 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.61 | 4.61 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | [CameraContextStartRecordOptions](#cameracontextstartrecordoptions-values) | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| timeout | number | 否 | 30 | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 录制时长上限，单位为秒 |\n@| selfieMirror | boolean | 否 | true | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 前置摄像头录制视频时是否开启镜像 |\n@| success | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用成功的回调函数<br/> |\n@| fail | (error: [CameraContextFail](#cameracontextfail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n##### CameraContextStartRecordOptions 的方法 @cameracontextstartrecordoptions-values \n\n##### timeoutCallback: (result: any) => void @timeoutcallback\n超过录制时长上限时会结束录像并触发此回调，录像异常退出时也会触发此回调\t\n###### timeoutCallback 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.61 | 4.61 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| result | any | 是 | - | - | - | \n\n\n\n#### stopRecord(options: CameraContextStopRecordOptions) : void; @stoprecord\n结束录像\n\n##### stopRecord 兼容性 \n| Web | 微信小程序 | Android | iOS | HarmonyOS |\n| :- | :- | :- | :- | :- |\n| - | - | 4.61 | 4.61 | - |\n\n##### 参数 \n\n| 名称 | 类型 | 必填 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| options | **CameraContextStopRecordOptions** | 是 | - | - | - |\n@| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n@| :- | :- | :- | :- |  :-: | :- |\n@| compressed | boolean | 否 | false | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 启动视频压缩，压缩效果同chooseVideo<br/> |\n@| success | (result: [CameraContextStopRecordResult](#cameracontextstoprecordresult-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用成功的回调函数<br/> |\n@| fail | (error: [CameraContextFail](#cameracontextfail-values)) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用失败的回调函数 |\n@| complete | (result: any) => void | 否 | null | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 接口调用结束的回调函数（调用成功、失败都会执行） | \n\n###### CameraContextStopRecordResult 的属性值 @cameracontextstoprecordresult-values \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| tempThumbPath | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 封面图片文件的临时路径 (本地路径)<br/>图片会以jpg格式存放到uni-media目录下[文件系统](https://doc.dcloud.net.cn/uni-app-x/api/file-system-spec.html)<br/> |\n| tempVideoPath | string | 否 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"-\",\"4.61\",\"4.61\",\"-\"]]}' /> | 视频的文件的临时路径 (本地路径)<br/>视频将以mp4格式存放到uni-media目录下[文件系统](https://doc.dcloud.net.cn/uni-app-x/api/file-system-spec.html)<br/> |\n\n \n","tutorial":"\n### 参见\n- [相关 Bug](https://issues.dcloud.net.cn/?mid=api.component.createCameraContext)\n - [微信小程序文档](https://developers.weixin.qq.com/miniprogram/dev/api/media/camera/CameraContext.html)\n- [支付宝小程序文档](https://open.alipay.com/portal/zhichi/search?keyword=createCameraContext&pageIndex=1&pageSize=10&source=doc_top&type=all)\n- [百度小程序文档](https://smartprogram.baidu.com/forum/search?query=createCameraContext&scope=devdocs&source=docs)\n- [抖音小程序文档](https://developer.open-douyin.com/search-page?keyword=createCameraContext&secondType=all&type=1)\n- [飞书小程序文档](https://open.feishu.cn/search?from=header&page=1&pageSize=10&q=createCameraContext&topicFilter=)\n- [钉钉小程序文档](https://open.dingtalk.com/search?keyword=createCameraContext)\n- [QQ小程序文档](https://q.qq.com/wiki/develop/miniprogram/frame/)\n- [快手小程序文档](https://developers.kuaishou.com/page?keyword=createCameraContext&from=docs)\n- [京东小程序文档](https://mp-docs.jd.com/doc/dev/framework/-1)\n- [华为快应用文档](https://developer.huawei.com/consumer/cn/doc/quickApp-References/webview-frame-overview-0000001124793625)\n- [360小程序文档](https://mp.360.cn/doc/miniprogram/dev/#/b770a184ff1f06c6b3393a0fd1132380)"},"general_type":{"name":"## 通用类型\n","param":"### GeneralCallbackResult \n\n| 名称 | 类型 | 必备 | 默认值 | 兼容性 | 描述 |\n| :- | :- | :- | :- |  :-: | :- |\n| errMsg | string | 是 | - | <CompatibilityTable table='{\"headers\":[{\"title\":\"Web\"},{\"title\":\"微信小程序\"},{\"title\":\"Android\"},{\"title\":\"iOS\"},{\"title\":\"HarmonyOS\"}],\"rows\":[[\"-\",\"4.41\",\"-\",\"-\",\"-\"]]}' /> | 错误信息 |\n"}}